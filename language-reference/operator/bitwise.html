
<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="robots" content="index, follow">
<meta name='description' content='aardio 编程语言文档 - 按位运算符'>
<meta http-equiv='content-language' content='zh-cn'>
<title>aardio 编程语言文档 - 按位运算符</title> 
<link rel="stylesheet" href="../../css/markdown.css" tppabs="https://www.aardio.com/zh-cn/doc/css/markdown.css">
<script src="../../js/prism.js" tppabs="https://www.aardio.com/zh-cn/doc/js/prism.js"></script>
<link rel="stylesheet" href="../../../../../lib.baomitu.com/font-awesome/6.6.0/css/fontawesome.min.css" tppabs="https://lib.baomitu.com/font-awesome/6.6.0/css/fontawesome.min.css">
<link rel="stylesheet" href="../../../../../lib.baomitu.com/font-awesome/6.6.0/css/solid.min.css" tppabs="https://lib.baomitu.com/font-awesome/6.6.0/css/solid.min.css">
</head>
<body class="markdown-body"><a id="back-to-home" href="../../index.htm" tppabs="https://www.aardio.com/zh-cn/doc/" title="aardio 编程语言文档首页"><i class="fas fa-home" id="home-icon"></i><i class="fas fa-robot" id="ai-icon" style="display: none;"></i><span id="aardio-document-home">aardio 文档</span></a>
<h1>按位运算符</h1>

<p>aardio 的所有按位运算符总是将操作数转换为 32 位整数(除 <code>&gt;&gt;&gt;</code> 转为无符号 32 位整数以外，其他位运算符转为 32 位有符号整数)，然后以二进制形式按位运算。</p>

<p>逻辑按位运算以 0 为假，1 为真。</p>

<p>按位运算符不支持运算符重载。  </p>

<p>aardio 支持自定义进制数值，语法为　<code>自定义进值 + &#39;#&#39; + 数值</code>。 因此可以用 <code>2#101</code> 表示二进制数 <code>101</code>，按位运算符都是针对二进制数的操作，因此下面使用二进制数来演示。在实际使用时可以使用十进制数值(所有进制最终都是以二进制存储、按位运算并无区别) 。</p>

<h2>按位与: <code>&amp;</code> <a id="and" href="#and">&#x23;</a></h2>

<p>按位与运算符&quot;&amp;&quot;是双目运算符。其功能是对参与运算的两数各对应的二进制位做按位与运算。只有对应的两个二进制位均为 1 时，结果位才为1 ，否则为 0。参与运算的数以补码方式出现。  </p>

<p>示例：</p>

<pre><code class="aardio language-aardio">import console.int; 

//按位与
var b = 2#101 &amp; 2#100 ; 

//显示2#100
console.printf(&quot;2#%b&quot;,b); 
</code></pre>

<h2>按位或: <code>|</code> <a id="or" href="#or">&#x23;</a></h2>

<p>按位或运算符 <code>|</code> 是双目运算符。其功能是参与运算的两数各对应的二进制位做按位或运算。只要对应的二个二进制位有一个为1时，结果位就为1。参与运算的两个数均以补码出现。  </p>

<p>示例：</p>

<pre><code class="aardio language-aardio">import console.int; 

//按位或
var b = 2#101 | 2#110 ; 

//显示2#111
console.printf(&quot;2#%b&quot;,b); 
</code></pre>

<h2>按位异或: <code>^</code>  <a id="xor" href="#xor">&#x23;</a></h2>

<p>按位异或运算符 <code>^</code> 是双目运算符。其功能是参与运算的两数各对应的二进制位做按位异或运算。只要对应的二个二进制位相同，结果位就为 0 ,否则为 1。参与运算的两个数均以补码出现。  </p>

<p>示例：</p>

<pre><code class="aardio language-aardio">import console.int; 

//按位异或
var b = 2#101 ^ 2#110; 

////显示2#011
console.printf(&quot;2#%b&quot;,b); 
</code></pre>

<h2>按位取反: <code>~</code> <a id="not" href="#not">&#x23;</a></h2>

<p>按位取反运算符 <code>~</code> 为单目运算符，具有右结合性。其功能是对参与运算的数的所有二进制位做按位取反运算。  </p>

<p>例如:  </p>

<pre><code class="aardio language-aardio">import console.int; 

//按位取反
var b = ~2#101; 

//显示 2#11111111111111111111111111111010
console.printf(&quot;2#%b&quot;,b); 
</code></pre>

<h2>按位左移: <code>&lt;&lt;</code> <a id="left-shift" href="#left-shift">&#x23;</a></h2>

<p><code>a &lt;&lt; n</code>将数值 a 按位向左移动 n 位(如果 n 大于等于 32，则为 n对 32 取模结果的位数 )。左移 n 位就相当于乘以 2 的 n 次方(在没有溢出的前提下) 。  </p>

<p>示例：</p>

<pre><code class="aardio language-aardio">import console.int; 

//按位左移
var b = 2#101 &lt;&lt; 1;  

//显示2#1010
console.printf(&quot;2#%b&quot;,b); 
</code></pre>

<h2>按位右移: <code>&gt;&gt;</code>  <a id="right-shift" href="#right-shift">&#x23;</a></h2>

<p><code>a &gt;&gt; n</code> 将数值 a 按位向右移动 n 位(如果 n 大于等于 32，则为 n 对 32 取模结果的位数) ，保留符号位(负数保持最高位为 1 )  。右移 n 位就相当于除以 2 的 n 次方(在没有溢出的前提下)  </p>

<p>示例：</p>

<pre><code class="aardio language-aardio">import console.int; 

//按位右移
var b = 2#101 &gt;&gt;1;  

//显示2#10
console.printf(&quot;2#%b&quot;,b); 
</code></pre>

<h2>按位无符号右移: <code>&gt;&gt;&gt;</code> <a id="unsigned-right-shift" href="#unsigned-right-shift"">&#x23;</a></h2>

<blockquote>
<p>a &gt;&gt;&gt; n 将数值a按位向右移动n位(如果n大于等于32，则为n对32取模结果的位数) ，不保留符号位(负数不保持最高位为1，因此右移后会变成正数)。  </p>
</blockquote>

<p>示例：</p>

<pre><code class="aardio language-aardio">import console.int; 

//按位无符号右移
var b = -2&gt;&gt;&gt;18;  

//显示 16383
console.print(b); 
</code></pre>

<p>可以通过右移 0 位将有符号数强制转换为无符号数。</p>

<p>例如 <code>-1 &gt;&gt;&gt; 0</code> 的值为 0xFFFFFFFF —— 其作用等价于 <code>raw.convert( {int value = -1},{INT value}).value</code>。 </p>

<p><a href="../../library-guide/builtin/raw/directCall.html" tppabs="https://www.aardio.com/zh-cn/doc/library-guide/builtin/raw/directCall.html">不声明调用原生 API</a> 默认会返回 32 位有符号整数，如果原 API 返回的是 32 位无符号整数，那么只要简单的将返回值 <code>&gt;&gt;&gt; 0</code> 就可以得到原来的无符号数值了。</p>

<p><a href="https://www.aardio.com/zh-cn/doc/language-reference/operator/bitwise.md">Markdown 格式</a></p>

</body> 
</html>