
<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="robots" content="index, follow">
<meta name='description' content='aardio 编程语言文档 - 断言函数'>
<meta http-equiv='content-language' content='zh-cn'>
<title>aardio 编程语言文档 - 断言函数</title> 
<link rel="stylesheet" href="../../css/markdown.css" tppabs="https://www.aardio.com/zh-cn/doc/css/markdown.css">
<script src="../../js/prism.js" tppabs="https://www.aardio.com/zh-cn/doc/js/prism.js"></script>
<link rel="stylesheet" href="../../../../../lib.baomitu.com/font-awesome/6.6.0/css/fontawesome.min.css" tppabs="https://lib.baomitu.com/font-awesome/6.6.0/css/fontawesome.min.css">
<link rel="stylesheet" href="../../../../../lib.baomitu.com/font-awesome/6.6.0/css/solid.min.css" tppabs="https://lib.baomitu.com/font-awesome/6.6.0/css/solid.min.css">
</head>
<body class="markdown-body"><a id="back-to-home" href="../../index.htm" tppabs="https://www.aardio.com/zh-cn/doc/" title="aardio 编程语言文档首页"><i class="fas fa-home" id="home-icon"></i><i class="fas fa-robot" id="ai-icon" style="display: none;"></i><span id="aardio-document-home">aardio 文档</span></a>
<h1>断言函数</h1>

<h2>一、 assert 函数</h2>

<p>函数原型:</p>

<p><code>assert(value,message,...)</code></p>

<p>assert 断言第一个参数 @value ，如果第一个参数为真则将所有参数作为返回值返回。如果第一个参数为假，则将第二个参数 @message 作为异常抛出。</p>

<p>在aardio 里很多函数都支持 assert ，如果执行成功第一个值返回一个真值。  如果执行失败则返回两个参数，第一个为 false 或 null ，而第二个返回值为错误信息。这恰好符合 assert 断言函数的逻辑。</p>

<p>例如：　  </p>

<p><code>var func = assert( loadcode(&quot;\notfound.aardio&quot;) );</code></p>

<p>loadcode 如果执行成功，assert 将返回值顺利的传递给 func。 
loadcode 如果执行失败，第一个返回值为null，第二个返回值为错误信息，则导致 assert 断言失败并抛出错误信息。</p>

<h2>二、 assert2 函数</h2>

<p>函数原型:</p>

<p><code>assert2(level,value,message,...)</code></p>

<p>参数 @value 为真则返回其他值,否则将参数 @message 作为异常抛出。参数 @level 指定抛出异常的调用级别，2 为调用者,1 为当前函数。</p>

<p>assert2 与 assert 函数的用法与作用是一样的，唯一的区别是 assert2 可以在首个参参数中指定抛出异常的调用栈级别。</p>

<h2>三、 assertf 函数</h2>

<p>函数原型:</p>

<p><code>assertf(condition,value,...)</code></p>

<p>assertf 的作用与 assert 基本相似，但是断言逻辑是完全相反的。assertf 要求第一个参数 @condition 必须为 false(false,0或null)，如果为真(true,非零值，非null值)，则将第二个参数 @value 作为异常抛出。如果第一个参数为假(断言成功)，则返回该参数之后的其他参数。  </p>

<p>assertf 与 assert 有以下区别：</p>

<ul>
<li>assert 断言第一个参数必须为真，assertf断言第一个参数必须为假。</li>
<li>assert成功返回第一个参数（以及之后的其他参数），assertf 成功返回第二个参数（以及之后的其他参数）。</li>
</ul>

<p><a href="https://www.aardio.com/zh-cn/doc/language-reference/builtin-function/assert.md">Markdown 格式</a></p>

</body> 
</html>