
<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="robots" content="index, follow">
<meta name='description' content='aardio 编程语言文档 - win.rt.hString 库模块帮助文档'>
<meta http-equiv='content-language' content='zh-cn'>
<title>aardio 编程语言文档 - win.rt.hString 库模块帮助文档</title> 
<link rel="stylesheet" href="../../../css/markdown.css" tppabs="https://www.aardio.com/zh-cn/doc/css/markdown.css">
<script src="../../../js/prism.js" tppabs="https://www.aardio.com/zh-cn/doc/js/prism.js"></script>
<link rel="stylesheet" href="../../../../../../lib.baomitu.com/font-awesome/6.6.0/css/fontawesome.min.css" tppabs="https://lib.baomitu.com/font-awesome/6.6.0/css/fontawesome.min.css">
<link rel="stylesheet" href="../../../../../../lib.baomitu.com/font-awesome/6.6.0/css/solid.min.css" tppabs="https://lib.baomitu.com/font-awesome/6.6.0/css/solid.min.css">
</head>
<body class="markdown-body"><a id="back-to-home" href="../../../index.htm" tppabs="https://www.aardio.com/zh-cn/doc/" title="aardio 编程语言文档首页"><i class="fas fa-home" id="home-icon"></i><i class="fas fa-robot" id="ai-icon" style="display: none;"></i><span id="aardio-document-home">aardio 文档</span></a>
<h1>win.rt.hString 库模块帮助文档</h1>

<p><a id="win.rt"></a></p>

<h2>win.rt 成员列表</h2>

<p><a id="win.rt.hString"></a></p>

<h3>win.rt.hString</h3>

<p>WinRT 字符串,<br>
仅支持 Win10 以及 Win10 以上版本</p>

<p>创建 WinRT 字符串,<br>
返回值可作为 tostring 参数转换为 aardio 字符串,<br>
可用于调用 WinRT 函数的 HSTRING 类型句柄参数<br>
也可以作为左操作数使用 + 或 ++ 操作符<br>
与其他值拼接返回新的 win.rt.hString 对象</p>

<p><a id="win.rt.hString"></a></p>

<h3>win.rt.hString()</h3>

<p>创建空的 WinRT 字符串</p>

<p><a href="#winRtHStringObject">返回对象:winRtHStringObject</a></p>

<p><a id="win.rt.hString"></a></p>

<h3>win.rt.hString(HSTRING)</h3>

<p>传入 HSTRING 指针,<br>
复制此指针并返回新的 WinRT 字符串对象,<br>
此类型参数构建的对象需要调用 free 函数释放</p>

<p><a id="win.rt.hString"></a></p>

<h3>win.rt.hString(value)</h3>

<p>传入任何非 null,pointer 类型参,<br>
此函数自动调用 tostring 转换为字符串参数,<br>
然后再创建并返回 WinRT 字符串,<br>
如果传入非 null 值，则应尽早调用 free 函数释放字符串</p>

<p><a id="win.rt.is"></a></p>

<h3>win.rt.is()</h3>

<p>判断输入值是否 win.rt.hString 对象</p>

<p><a id="winRtHStringObject."></a></p>

<h2>winRtHStringObject. 成员列表</h2>

<p><a id="winRtHStringObject..byStruct"></a></p>

<h3>winRtHStringObject..byStruct()</h3>

<p>生成一个结构体,<br>
用于在 API 中接收 HSTRING 类型的输出参数,<br>
在 C++ 中该输出参数类型应为 HSTRING *,<br>
在 aardio 中对应参数可声明为 struct &amp;<br>
或者免声明调用 API 并传入 byStruct 的返回值作为参数  </p>

<p>当返回的结构体获取到 HSTRING 句柄后,<br>
会立即更新调用 byStruct 成员函数的 win.rt.hString 对象,<br>
在此之前会自动调用 free 函数释放之前可能需要释放的 HSTRING  </p>

<p>通过 byStruct 获取到的 HSTING 未增加引用计数也不需要释放,<br>
应立即通过 tostring 转换为 aardio 字符串或通过copy复制,<br>
并调用 free 函数清空或直接弃用或置为 null 值</p>

<p><a id="winRtHStringObject..copy"></a></p>

<h3>winRtHStringObject..copy()</h3>

<p>复制并返回新的字符串,<br>
复制的字符串应调用 free 函数释放</p>

<p><a id="winRtHStringObject..free"></a></p>

<h3>winRtHStringObject..free()</h3>

<p>释放字符串,<br>
即使不调用,回收该变量时也会自动调用此函数,<br>
如果调用 win.rt.hString 传入了非 null 参数则应尽早调用此函数,<br>
或者通过拼接、调用 copy 函数等创建新的 WinRT 字符串都应当调用此函数释放,<br>
否则不必要调用此函数</p>

<p><a id="winRtHStringObject..size"></a></p>

<h3>winRtHStringObject..size()</h3>

<p>字符串长度,按字符计数</p>

<p><a href="https://www.aardio.com/zh-cn/doc/library-reference/win/rt/hString.md">Markdown 格式</a></p>

</body> 
</html>