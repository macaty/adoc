
<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="robots" content="index, follow">
<meta name='description' content='aardio 编程语言文档 - win.ui.ctrl.picturebox 库模块帮助文档'>
<meta http-equiv='content-language' content='zh-cn'>
<title>aardio 编程语言文档 - win.ui.ctrl.picturebox 库模块帮助文档</title> 
<link rel="stylesheet" href="../../../../css/markdown.css" tppabs="https://www.aardio.com/zh-cn/doc/css/markdown.css">
<script src="../../../../js/prism.js" tppabs="https://www.aardio.com/zh-cn/doc/js/prism.js"></script>
<link rel="stylesheet" href="../../../../../../../lib.baomitu.com/font-awesome/6.6.0/css/fontawesome.min.css" tppabs="https://lib.baomitu.com/font-awesome/6.6.0/css/fontawesome.min.css">
<link rel="stylesheet" href="../../../../../../../lib.baomitu.com/font-awesome/6.6.0/css/solid.min.css" tppabs="https://lib.baomitu.com/font-awesome/6.6.0/css/solid.min.css">
</head>
<body class="markdown-body"><a id="back-to-home" href="../../../../index.htm" tppabs="https://www.aardio.com/zh-cn/doc/" title="aardio 编程语言文档首页"><i class="fas fa-home" id="home-icon"></i><i class="fas fa-robot" id="ai-icon" style="display: none;"></i><span id="aardio-document-home">aardio 文档</span></a>
<h1>win.ui.ctrl.picturebox 库模块帮助文档</h1>

<p><a id="win.ui.ctrl"></a></p>

<h2>win.ui.ctrl 成员列表</h2>

<p><a id="win.ui.ctrl.picturebox"></a></p>

<h3>win.ui.ctrl.picturebox()</h3>

<p>图片控件  </p>

<p><a href="#pictureboxObject">返回对象:pictureboxObject</a></p>

<p><a id="pictureboxObject"></a></p>

<h2>pictureboxObject 成员列表</h2>

<p><a id="pictureboxObject._parentForm"></a></p>

<h3>pictureboxObject._parentForm</h3>

<p>创建该控件的父窗口（win.form对象）,<br>
设计时窗体容器是所有拖放在窗体上的控件的 _parentForm,  </p>

<p>即使窗口移除子窗口样式、更改父子关系，或以 orphanWindow显示,<br>
控件的 _parentForm 始终都不会改变  </p>

<p><a href="../_.html#winform" tppabs="https://www.aardio.com/zh-cn/doc/library-reference/win/ui/_.html#winform">返回对象:winform</a></p>

<p><a id="pictureboxObject.adjust"></a></p>

<h3>pictureboxObject.adjust</h3>

<pre><code class="aardio language-aardio">pictureboxObject.adjust = function( cx,cy,wParam ) {       
    /*窗口缩放时会自动触发此函数。  
cx 参数为窗口宽度,cy 参数为窗口高度,  
wParam 参数请参考 _WM_SIZE 消息参数说明,一般不用管。  

所有 win.form 创建的窗体和控件都支持此事件,  
重复赋值只会追加而不会覆盖此事件。  
一般不建议添加一个 wndproc 仅仅是为了处理  _WM_SIZE 消息，  
定义 adjust 事件是更好的选择。  

可主动调用此事件,省略参数时 cx,cy 参数默认设为窗口大小*/    
};
</code></pre>

<p><a id="pictureboxObject.autosize"></a></p>

<h3>pictureboxObject.autosize</h3>

<p>是否允许控件自适应图片大小<br>
设置center属性为true时,autosize属性无效</p>

<p><a id="pictureboxObject.bottom"></a></p>

<h3>pictureboxObject.bottom</h3>

<p>底部坐标</p>

<p><a id="pictureboxObject.capture"></a></p>

<h3>pictureboxObject.capture</h3>

<p>是否捕获全局鼠标消息</p>

<p><a id="pictureboxObject.center"></a></p>

<h3>pictureboxObject.center</h3>

<p>图像居中显示,并禁用图象缩放,<br>
禁止控件自动调整大小</p>

<p><a id="pictureboxObject.className"></a></p>

<h3>pictureboxObject.className</h3>

<p>运行时类名</p>

<p><a id="pictureboxObject.clear"></a></p>

<h3>pictureboxObject.clear()</h3>

<p>清空图像，并释放控件加载的位图或图标句柄。<br>
控件销毁前会自动调用此函数  </p>

<p>注意：<br>
如果位图包含透明通道，控件会使用复制的位图副本。<br>
调用者必须自行释放传入的位图句柄。<br>
gdip.bitmap 复制的位图句柄就会有这个问题。<br>
com.picture 加载的 GIF 图像无此问题  </p>

<p>改用 plus 控件没有这些麻烦</p>

<p><a id="pictureboxObject.clientRect"></a></p>

<h3>pictureboxObject.clientRect</h3>

<p>获取控件客户区块位置(::RECT结构体)</p>

<p><a id="pictureboxObject.close"></a></p>

<h3>pictureboxObject.close()</h3>

<p>关闭控件</p>

<p><a id="pictureboxObject.cls"></a></p>

<h3>pictureboxObject.cls</h3>

<p>设计时类名</p>

<p><a id="pictureboxObject.disabled"></a></p>

<h3>pictureboxObject.disabled</h3>

<p>是否禁用</p>

<p><a id="pictureboxObject.getBitmap"></a></p>

<h3>pictureboxObject.getBitmap()</h3>

<p>返回位图句柄或图标句柄。<br>
返回值 1 为图标句柄则返回值 2 为 1/*_IMAGE_ICON*/<br>
返回值 1 为位图句柄则返回值 2 为 0/*_IMAGE_BITMAP*/</p>

<p><a id="pictureboxObject.getClientRect"></a></p>

<h3>pictureboxObject.getClientRect()</h3>

<p>控件客户区块位置(::RECT结构体)  </p>

<p><a href="../../../global/_.html#rectObject" tppabs="https://www.aardio.com/zh-cn/doc/library-reference/global/_.html#rectObject">返回对象:rectObject</a></p>

<p><a id="pictureboxObject.getParent"></a></p>

<h3>pictureboxObject.getParent()</h3>

<p>返回父窗口  </p>

<p><a href="static.html#staticObject" tppabs="https://www.aardio.com/zh-cn/doc/library-reference/win/ui/ctrl/static.html#staticObject">返回对象:staticObject</a></p>

<p><a id="pictureboxObject.getPos"></a></p>

<h3>pictureboxObject.getPos()</h3>

<p>返回相对坐标,宽,高<br>
x,y,cx,cy=win.getPos(hwnd)</p>

<p><a id="pictureboxObject.getRect"></a></p>

<h3>pictureboxObject.getRect()</h3>

<p>控件区块位置(::RECT结构体)</p>

<p><a id="pictureboxObject.getRect"></a></p>

<h3>pictureboxObject.getRect(true)</h3>

<p>控件屏幕区块位置(::RECT结构体)</p>

<p><a id="pictureboxObject.height"></a></p>

<h3>pictureboxObject.height</h3>

<p>高度</p>

<p><a id="pictureboxObject.hide"></a></p>

<h3>pictureboxObject.hide</h3>

<p>控件是否隐藏</p>

<p><a id="pictureboxObject.hwnd"></a></p>

<h3>pictureboxObject.hwnd</h3>

<p>控件句柄</p>

<p><a id="pictureboxObject.id"></a></p>

<h3>pictureboxObject.id</h3>

<p>控件ID</p>

<p><a id="pictureboxObject.image"></a></p>

<h3>pictureboxObject.image</h3>

<p>按钮图片或图标<br>
赋值必须是图片文件路径或数据<br>
位图句柄由窗体负责销毁<br>
取值时返回位图句柄</p>

<p><a id="pictureboxObject.invalidate(/*可选使用::RECT"></a></p>

<h3>pictureboxObject.invalidate(/*可选使用::RECT()对象指定客户区*/)</h3>

<p>使窗口绘图区无效</p>

<p><a id="pictureboxObject.invalidate(/*可选使用::RECT"></a></p>

<h3>pictureboxObject.invalidate(/*可选使用::RECT()对象指定客户区*/,0)</h3>

<p>使窗口绘图区无效<br>
不刷新背景</p>

<p><a id="pictureboxObject.left"></a></p>

<h3>pictureboxObject.left</h3>

<p>左侧坐标</p>

<p><a id="pictureboxObject.modifyStyle"></a></p>

<h3>pictureboxObject.modifyStyle(remove,add,swpFlags)</h3>

<p>修改窗口样式,所有参数都是可选参数,<br>
@remove 用数值指定要移除的样式,可使用 <em>WS</em> 前缀的常量<br>
@add 用数值指定要添加的样式,可使用 <em>WS</em> 前缀的常量<br>
@swpFlags 可选用数值指定调整窗口选项,可使用 <em>SWP</em> 前缀的常量<br>
如果指定了 @swpFlag ,则使用该参数调用::SetWindowPos<br>
细节请参考 win.modifyStyle 函数源码</p>

<p><a id="pictureboxObject.modifyStyleEx"></a></p>

<h3>pictureboxObject.modifyStyleEx(remove,add,swpFlags)</h3>

<p>修改窗口扩展样式,所有参数都是可选参数,<br>
@remove 用数值指定要移除的样式,可使用 <em>WS_EX</em> 前缀的常量<br>
@add 用数值指定要添加的样式,可使用 <em>WS_EX</em> 前缀的常量<br>
@swpFlags 可选用数值指定调整窗口选项,可使用 <em>SWP</em> 前缀的常量<br>
如果指定了 @swpFlag ,则使用该参数调用::SetWindowPos<br>
细节请参考 win.modifyStyle 函数源码</p>

<p><a id="pictureboxObject.orphanWindow"></a></p>

<h3>pictureboxObject.orphanWindow(transparent,hwndBuddy,borderless)</h3>

<p>创建悬浮窗口。<br>
悬浮窗口是模仿子窗口外观效果的独立窗口，父窗口可自动调整子窗口到设定位置。<br>
可选参数 @transparent 为 true 则转换为分层透明窗口。<br>
可选利用 @hwndBuddy 参数指定外部进程窗口句柄的并附加在内部控件上以实现相同的效果。<br>
伙伴窗口总是会保持在悬浮窗口前面，并保持相同的大小、位置。<br>
可重复调用此函数更换伙伴窗口，旧的伙伴窗口必须自行关闭。<br>
可选指定 @borderless 参数 为 true 以移除 @hwndBuddy  的窗口边框。</p>

<p><a id="pictureboxObject.postMessage"></a></p>

<h3>pictureboxObject.postMessage(msg,wParam,lParam)</h3>

<p>投递窗口消息到消息队列中<br>
此函数用法请参考 ::User32.PostMessage</p>

<p><a id="pictureboxObject.redraw"></a></p>

<h3>pictureboxObject.redraw()</h3>

<p>刷新</p>

<p><a id="pictureboxObject.reloadScale"></a></p>

<h3>pictureboxObject.reloadScale()</h3>

<p>按设计时位置参数、重新调整控件位置以适应窗口当前缩放比例。<br>
父窗口缩放时会自动执行此操作。<br>
默认在启动窗口消息循环时会自适应调整所有控件。<br>
所以在启动消息循环前添加控件不必调用此函数。</p>

<p><a id="pictureboxObject.right"></a></p>

<h3>pictureboxObject.right</h3>

<p>右侧坐标</p>

<p><a id="pictureboxObject.saveScale"></a></p>

<h3>pictureboxObject.saveScale()</h3>

<p>根据控件当前位置、缩放比例，更新控件的设计时位置参数。<br>
以避免下次窗口缩放自适应调整控件当前位置更改被清除，<br>
控件所有调整位置的属性或成员函数已自动调用此函数。</p>

<p><a id="pictureboxObject.saveScale"></a></p>

<h3>pictureboxObject.saveScale(scaleX,scaleY,dpiScaleX,dpiScaleY)</h3>

<p>根据控件当前的运行时位置更新设计时大小\如果控件允许自动缩放，窗口缩放时依据设计时大小按比例缩放<br>
所有参数可省略,并且不建议写参数</p>

<p><a id="pictureboxObject.sendMessage"></a></p>

<h3>pictureboxObject.sendMessage(msg,wParam,lParam)</h3>

<p>发送窗口消息<br>
此函数用法请参考 ::User32.SendMessage</p>

<p><a id="pictureboxObject.setBitmap"></a></p>

<h3>pictureboxObject.setBitmap(图片句柄)</h3>

<p>设置图片<br>
成功返回 true，自动销毁原来的位图。  </p>

<p>注意：<br>
如果位图包含透明通道，控件会使用复制的位图副本。<br>
调用者必须自行释放传入的位图句柄。<br>
可比对 getBitmap 返回的句柄与设置的句柄验证此问题<br>
gdip.bitmap 复制的位图句柄就会有这个问题。<br>
com.picture 加载的 GIF 图像无此问题  </p>

<p>改用 plus 控件没有这些麻烦</p>

<p><a id="pictureboxObject.setBitmap"></a></p>

<h3>pictureboxObject.setBitmap(图片句柄,false)</h3>

<p>设置图片<br>
如果参数 @2 恒等于 false ，<br>
则成功返回控件原来的位图或图标句柄</p>

<p><a id="pictureboxObject.setFocus"></a></p>

<h3>pictureboxObject.setFocus()</h3>

<p>设置焦点</p>

<p><a id="pictureboxObject.setIcon"></a></p>

<h3>pictureboxObject.setIcon(图标句柄)</h3>

<p>设置图标<br>
成功返回 true，自动销毁原来的位图。</p>

<p><a id="pictureboxObject.setIcon"></a></p>

<h3>pictureboxObject.setIcon(图标句柄,false)</h3>

<p>设置图标<br>
如果参数 @2 恒等于 false ，<br>
则成功返回控件原来的位图或图标句柄</p>

<p><a id="pictureboxObject.setParent"></a></p>

<h3>pictureboxObject.setParent(控件对象)</h3>

<p>改变父窗口</p>

<p><a id="pictureboxObject.setPos"></a></p>

<h3>pictureboxObject.setPos(x坐标,y坐标,宽,高,插入位置,参数)</h3>

<p>调整窗口位置或排序,所有参数可选<br>
同时指定x,y坐标则移动位置<br>
同时指定宽高则改变大小<br>
指定插入位置(句柄或_HWND前缀常量)则调整Z序</p>

<p><a id="pictureboxObject.setRect"></a></p>

<h3>pictureboxObject.setRect(rc)</h3>

<p>设置控件区块位置(::RECT结构体)</p>

<p><a id="pictureboxObject.setRect"></a></p>

<h3>pictureboxObject.setRect(rc,true)</h3>

<p>设置控件屏幕区块位置(::RECT结构体)</p>

<p><a id="pictureboxObject.show"></a></p>

<h3>pictureboxObject.show(true)</h3>

<p>显示控件</p>

<p><a id="pictureboxObject.theme"></a></p>

<h3>pictureboxObject.theme</h3>

<p>外观主题,例如<br>
winform.button.theme = &quot;Explorer&quot;<br>
winform.button.theme = false</p>

<p><a id="pictureboxObject.top"></a></p>

<h3>pictureboxObject.top</h3>

<p>顶部坐标</p>

<p><a id="pictureboxObject.update"></a></p>

<h3>pictureboxObject.update()</h3>

<p>重绘invalidate函数指定的区块</p>

<p><a id="pictureboxObject.width"></a></p>

<h3>pictureboxObject.width</h3>

<p>宽度</p>

<p><a href="https://www.aardio.com/zh-cn/doc/library-reference/win/ui/ctrl/picturebox.md">Markdown 格式</a></p>

</body> 
</html>