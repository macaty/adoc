[aardio æ–‡æ¡£](../../../index.htm "aardio ç¼–ç¨‹è¯­è¨€æ–‡æ¡£é¦–é¡µ")

# fsys.vpatch åº“æ¨¡å—å¸®åŠ©æ–‡æ¡?
## fsys æˆå‘˜åˆ—è¡¨

### fsys.vpatch("å­—ç¬¦ä¸²å‚æ•?)

åˆ›å»º vpatch å¯¹è±¡,

å‚æ•°æŒ‡å®š \*.pat æ ¼å¼è¡¥ä¸æ–‡ä»¶

### fsys.vpatch()

[è¿”å›å¯¹è±¡:vpatchObject](#vpatchObject)

## fsys.vpatch æˆå‘˜åˆ—è¡¨

vpatchæ”¯æŒåº?
VPatch WebSite: [http://www.tibed.net/vpatch](javascript:if(confirm('http://www.tibed.net/vpatch  \n\nï¿½ï¿½ï¿½Ä¼ï¿½ï¿½Ş·ï¿½ï¿½ï¿½ Teleport Ultra ï¿½ï¿½ï¿½ï¿½, ï¿½ï¿½Îª ï¿½ï¿½ï¿½ï¿½Ò»ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Â·ï¿½ï¿½ï¿½â²¿ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Îªï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ê¼ï¿½ï¿½Ö·ï¿½Äµï¿½Ö·ï¿½ï¿½  \n\nï¿½ï¿½ï¿½ï¿½ï¿½Ú·ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ï´ï¿½ï¿½ï¿½ï¿½ï¿½?'))window.location='http://www.tibed.net/vpatch')

### fsys.vpatch.\_magicNumber

```aardio aardio
0x54415056

```

### fsys.vpatch.crc32("æ–‡ä»¶è·¯å¾„")

è·å–æ–‡ä»¶CRC32

### fsys.vpatch.genPat

æ‰©å±•åº“ï¼Œç”¨äºç”Ÿæˆvpatchè¡¥ä¸

### fsys.vpatch.md5("æ–‡ä»¶è·¯å¾„")

è·å–æ–‡ä»¶MD5(å¤§å†™32ä½?

## vpatchObject æˆå‘˜åˆ—è¡¨

### vpatchObject.apply("æ—§ç‰ˆæºæ–‡ä»¶è·¯å¾?,"æ›´æ–°ç›®æ ‡æ–‡ä»¶è·¯å¾„")

åº”ç”¨è¡¥ä¸æ–‡ä»¶

è¿”å›å€¼ä¸º _VPATCH_ å‰ç¼€çš„å¸¸é‡?å¦‚ä¸‹:

\_VPATCH\_SUCCESS æˆåŠŸ

\_VPATCH\_UPTODATE æ–‡ä»¶å·²ç»æ˜¯æœ€æ–?ä¸éœ€è¦æ›´æ–?
\_VPATCH\_NOMATCH åœ¨è¡¥ä¸æ–‡ä»¶ä¸­æ²¡æœ‰æ‰¾åˆ°å“ˆå¸ŒåŒ¹é…çš„æ–‡ä»?
\_VPATCH\_ERROR å‘ç”Ÿé”™è¯¯

\_VPATCH\_CORRUPT è¡¥ä¸æ–‡ä»¶é”™è¯¯

### vpatchObject.beginPatch

```aardio aardio
vpatchObject.beginPatch = function(blockSize,stepSize){
    /*å¼€å§‹åº”ç”¨è¡¥ä¸?blockSizeä¸ºè¡¥ä¸å—æ€»æ•°*/
}

```

### vpatchObject.close()

å…³é—­è¡¥ä¸æ–‡ä»¶

### vpatchObject.eachPatch()

```aardio aardio
for( ind,md5Mode,chksum,dstChksum,blocks,size in vpatchObject.eachPatch() ){
    io.print( ind,md5Mode,chksum,dstChksum,blocks,size );
}

```

### vpatchObject.endPatch

```aardio aardio
vpatchObject.endPatch = function(md5,crc32,dwLowDateTime,dwHighDateTime){
    var tmFile = fsys.time();
    tmFile.dwLowDateTime = dwLowDateTime;
    tmFile.dwHighDateTime = dwHighDateTime;

    if( #md5 ){
        ..io.print("ç›®æ ‡æ–‡ä»¶MD5",md5)
    }
}

```

### vpatchObject.stepPatch

```aardio aardio
vpatchObject.stepPatch = function(){
    /*åº”ç”¨ä¸€ä¸ªè¡¥ä¸å—*/
}

```

### vpatchObject.valid()

è¯¥è¡¥ä¸æ˜¯å¦æœ‰æ•ˆè¡¥ä¸æ–‡ä»?
### è‡ªåŠ¨å®Œæˆå¸¸é‡

\_VPATCH\_CORRUPT=2

\_VPATCH\_ERROR=1

\_VPATCH\_FILE\_ERR\_DEST=7

\_VPATCH\_FILE\_ERR\_PATCH=5

\_VPATCH\_FILE\_ERR\_SOURCE=6

\_VPATCH\_NOMATCH=3

\_VPATCH\_SUCCESS=0

\_VPATCH\_UPTODATE=4

[Markdown æ ¼å¼](javascript:if(confirm('https://www.aardio.com/zh-cn/doc/library-reference/fsys/vpatch/_.md  \n\nï¿½ï¿½ï¿½Ä¼ï¿½ï¿½Ş·ï¿½ï¿½ï¿½ Teleport Ultra ï¿½ï¿½ï¿½ï¿½, ï¿½ï¿½Îª ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ä¿ï¿½Ä¼ï¿½ï¿½ï¿½ï¿½Í¹æ·¶ï¿½Ú¡ï¿½  \n\nï¿½ï¿½ï¿½ï¿½ï¿½Ú·ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ï´ï¿½ï¿½ï¿½ï¿½ï¿½?'))window.location='https://www.aardio.com/zh-cn/doc/library-reference/fsys/vpatch/_.md')

