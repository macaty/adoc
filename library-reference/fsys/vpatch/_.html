
<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="robots" content="index, follow">
<meta name='description' content='aardio ç¼–ç¨‹è¯­è¨€æ–‡æ¡£ - fsys.vpatch åº“æ¨¡å—å¸®åŠ©æ–‡æ¡£'>
<meta http-equiv='content-language' content='zh-cn'>
<title>aardio ç¼–ç¨‹è¯­è¨€æ–‡æ¡£ - fsys.vpatch åº“æ¨¡å—å¸®åŠ©æ–‡æ¡£</title> 
<link rel="stylesheet" href="../../../css/markdown.css" tppabs="https://www.aardio.com/zh-cn/doc/css/markdown.css">
<script src="../../../js/prism.js" tppabs="https://www.aardio.com/zh-cn/doc/js/prism.js"></script>
<link rel="stylesheet" href="../../../../../../lib.baomitu.com/font-awesome/6.6.0/css/fontawesome.min.css" tppabs="https://lib.baomitu.com/font-awesome/6.6.0/css/fontawesome.min.css">
<link rel="stylesheet" href="../../../../../../lib.baomitu.com/font-awesome/6.6.0/css/solid.min.css" tppabs="https://lib.baomitu.com/font-awesome/6.6.0/css/solid.min.css">
</head>
<body class="markdown-body"><a id="back-to-home" href="../../../index.htm" tppabs="https://www.aardio.com/zh-cn/doc/" title="aardio ç¼–ç¨‹è¯­è¨€æ–‡æ¡£é¦–é¡µ"><i class="fas fa-home" id="home-icon"></i><i class="fas fa-robot" id="ai-icon" style="display: none;"></i><span id="aardio-document-home">aardio æ–‡æ¡£</span></a>
<h1>fsys.vpatch åº“æ¨¡å—å¸®åŠ©æ–‡æ¡£</h1>

<p><a id="fsys"></a></p>

<h2>fsys æˆå‘˜åˆ—è¡¨</h2>

<p><a id="fsys.vpatch"></a></p>

<h3>fsys.vpatch(&quot;å­—ç¬¦ä¸²å‚æ•°&quot;)</h3>

<p>åˆ›å»º vpatch å¯¹è±¡,<br>
å‚æ•°æŒ‡å®š *.pat æ ¼å¼è¡¥ä¸æ–‡ä»¶</p>

<p><a id="fsys.vpatch"></a></p>

<h3>fsys.vpatch()</h3>

<p><a href="#vpatchObject">è¿”å›å¯¹è±¡:vpatchObject</a></p>

<p><a id="fsys.vpatch"></a></p>

<h2>fsys.vpatch æˆå‘˜åˆ—è¡¨</h2>

<p>vpatchæ”¯æŒåº“<br>
VPatch WebSite:<a href="javascript:if(confirm('http://www.tibed.net/vpatch  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://www.tibed.net/vpatch'" tppabs="http://www.tibed.net/vpatch">http://www.tibed.net/vpatch</a></p>

<p><a id="fsys.vpatch._magicNumber"></a></p>

<h3>fsys.vpatch._magicNumber</h3>

<pre><code class="aardio language-aardio">0x54415056
</code></pre>

<p><a id="fsys.vpatch.crc32"></a></p>

<h3>fsys.vpatch.crc32(&quot;æ–‡ä»¶è·¯å¾„&quot;)</h3>

<p>è·å–æ–‡ä»¶CRC32</p>

<p><a id="fsys.vpatch.genPat"></a></p>

<h3>fsys.vpatch.genPat</h3>

<p>æ‰©å±•åº“ï¼Œç”¨äºç”Ÿæˆvpatchè¡¥ä¸</p>

<p><a id="fsys.vpatch.md5"></a></p>

<h3>fsys.vpatch.md5(&quot;æ–‡ä»¶è·¯å¾„&quot;)</h3>

<p>è·å–æ–‡ä»¶MD5(å¤§å†™32ä½)</p>

<p><a id="vpatchObject"></a></p>

<h2>vpatchObject æˆå‘˜åˆ—è¡¨</h2>

<p><a id="vpatchObject.apply"></a></p>

<h3>vpatchObject.apply(&quot;æ—§ç‰ˆæºæ–‡ä»¶è·¯å¾„&quot;,&quot;æ›´æ–°ç›®æ ‡æ–‡ä»¶è·¯å¾„&quot;)</h3>

<p>åº”ç”¨è¡¥ä¸æ–‡ä»¶<br>
è¿”å›å€¼ä¸º <em>VPATCH</em> å‰ç¼€çš„å¸¸é‡,å¦‚ä¸‹:  </p>

<p>_VPATCH_SUCCESS æˆåŠŸ<br>
_VPATCH_UPTODATE æ–‡ä»¶å·²ç»æ˜¯æœ€æ–°,ä¸éœ€è¦æ›´æ–°<br>
_VPATCH_NOMATCH åœ¨è¡¥ä¸æ–‡ä»¶ä¸­æ²¡æœ‰æ‰¾åˆ°å“ˆå¸ŒåŒ¹é…çš„æ–‡ä»¶<br>
_VPATCH_ERROR å‘ç”Ÿé”™è¯¯<br>
_VPATCH_CORRUPT è¡¥ä¸æ–‡ä»¶é”™è¯¯</p>

<p><a id="vpatchObject.beginPatch"></a></p>

<h3>vpatchObject.beginPatch</h3>

<pre><code class="aardio language-aardio">vpatchObject.beginPatch = function(blockSize,stepSize){
    /*å¼€å§‹åº”ç”¨è¡¥ä¸,blockSizeä¸ºè¡¥ä¸å—æ€»æ•°*/
}
</code></pre>

<p><a id="vpatchObject.close"></a></p>

<h3>vpatchObject.close()</h3>

<p>å…³é—­è¡¥ä¸æ–‡ä»¶</p>

<p><a id="vpatchObject.eachPatch"></a></p>

<h3>vpatchObject.eachPatch()</h3>

<pre><code class="aardio language-aardio">for( ind,md5Mode,chksum,dstChksum,blocks,size in vpatchObject.eachPatch() ){ 
    io.print( ind,md5Mode,chksum,dstChksum,blocks,size );
}
</code></pre>

<p><a id="vpatchObject.endPatch"></a></p>

<h3>vpatchObject.endPatch</h3>

<pre><code class="aardio language-aardio">vpatchObject.endPatch = function(md5,crc32,dwLowDateTime,dwHighDateTime){ 
    var tmFile = fsys.time();
    tmFile.dwLowDateTime = dwLowDateTime;
    tmFile.dwHighDateTime = dwHighDateTime;

    if( #md5 ){
        ..io.print(&quot;ç›®æ ‡æ–‡ä»¶MD5&quot;,md5)
    }
}
</code></pre>

<p><a id="vpatchObject.stepPatch"></a></p>

<h3>vpatchObject.stepPatch</h3>

<pre><code class="aardio language-aardio">vpatchObject.stepPatch = function(){
    /*åº”ç”¨ä¸€ä¸ªè¡¥ä¸å—*/   
}
</code></pre>

<p><a id="vpatchObject.valid"></a></p>

<h3>vpatchObject.valid()</h3>

<p>è¯¥è¡¥ä¸æ˜¯å¦æœ‰æ•ˆè¡¥ä¸æ–‡ä»¶</p>

<h3>è‡ªåŠ¨å®Œæˆå¸¸é‡</h3>

<p>_VPATCH_CORRUPT=2<br>
_VPATCH_ERROR=1<br>
_VPATCH_FILE_ERR_DEST=7<br>
_VPATCH_FILE_ERR_PATCH=5<br>
_VPATCH_FILE_ERR_SOURCE=6<br>
_VPATCH_NOMATCH=3<br>
_VPATCH_SUCCESS=0<br>
_VPATCH_UPTODATE=4  </p>

<p><a href="javascript:if(confirm('https://www.aardio.com/zh-cn/doc/library-reference/fsys/vpatch/_.md  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª Ëü²»ÔÚÏîÄ¿ÎÄ¼şÀàĞÍ¹æ·¶ÄÚ¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://www.aardio.com/zh-cn/doc/library-reference/fsys/vpatch/_.md'" tppabs="https://www.aardio.com/zh-cn/doc/library-reference/fsys/vpatch/_.md">Markdown æ ¼å¼</a></p>

</body> 
</html>