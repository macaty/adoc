
<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="robots" content="index, follow">
<meta name='description' content='aardio 编程语言文档 - string.cmdline.argv2 库模块帮助文档'>
<meta http-equiv='content-language' content='zh-cn'>
<title>aardio 编程语言文档 - string.cmdline.argv2 库模块帮助文档</title> 
<link rel="stylesheet" href="../../css/markdown.css" tppabs="https://www.aardio.com/zh-cn/doc/css/markdown.css">
<script src="../../js/prism.js" tppabs="https://www.aardio.com/zh-cn/doc/js/prism.js"></script>
<link rel="stylesheet" href="../../../../../lib.baomitu.com/font-awesome/6.6.0/css/fontawesome.min.css" tppabs="https://lib.baomitu.com/font-awesome/6.6.0/css/fontawesome.min.css">
<link rel="stylesheet" href="../../../../../lib.baomitu.com/font-awesome/6.6.0/css/solid.min.css" tppabs="https://lib.baomitu.com/font-awesome/6.6.0/css/solid.min.css">
</head>
<body class="markdown-body"><a id="back-to-home" href="../../index.htm" tppabs="https://www.aardio.com/zh-cn/doc/" title="aardio 编程语言文档首页"><i class="fas fa-home" id="home-icon"></i><i class="fas fa-robot" id="ai-icon" style="display: none;"></i><span id="aardio-document-home">aardio 文档</span></a>
<h1>string.cmdline.argv2 库模块帮助文档</h1>

<p><details>  <summary>参数解析规则</summary>  <p>
命令行基础转义规则请参考 string.cmdline 文档说明。
解析时忽略索引为 0 的参数，解析 _CMDLINE 时应在前面补上空格避免忽略第一个参数。</p>

<p>所有非命名参数都会添加到返回参数表的数组成员。
-- 或 // 之后的参数都视为非命名参数。</p>

<p>命名参数解析规则如下：</p>

<p>1、参数名区分大小写
2、以斜杠或短横线开始的前导参数作为键名(键名移除一个或多个相同的前导字符，区分大小写)，
   如果前导参数包含等号，则以等号拆分为键值对，等号前后不应有空格，
   否则检查下一参数如果没有相同的首字符则设为此键名对应的值，
   如果一个前导参数没有指定值，则默认值为空字符串（逻辑值为 true）。
3、单个 - 开头的命名参数解析为短参数。
   短参数可以用空格分隔参数值，也可以省略分隔符（等号不作为分隔符）。</p>

<p>可在第 2 个调用参数中指定一个 @option 选项表。
@option 的所有键名用于指定待解析的命令行参数名字。
@option 预定义的单字符或多字符名字可作为短参数名、长参数名使用。
@option 预定义的单字母参数名允许作为短参数名合并到一个参数段。</p>

<p>@option 中参数名对应的值可以为任何非 false 值。
如果 @option 表中定义的值是函数，则每次解析对应名称参数时都会回调该函数。
回调参数 @1 为解析得到的参数值，而回调参数 @2 为将要返回的解析结果（参数表）。 </p>

<p>示例：</p>

<pre><code class="aardio language-aardio">var argv = string.cmdline.argv2(` -a -deffff  &quot;c:\test.txt&quot; &quot;c:\test2.txt&quot;`,{
    m = true;
    n = function(value,argv){

    } 
});

console.dump(argv)
</code></pre>

<p></p></details></p>

<p><a id="string.cmdline"></a></p>

<h2>string.cmdline 成员列表</h2>

<p><a id="string.cmdline.argv2"></a></p>

<h3>string.cmdline.argv2</h3>

<p>解析命令行并返回参数表。<br>
string.cmdline.argv 函数的增强版本。  </p>

<p>命令行基础转义规则请参考 string.cmdline 文档说明。<br>
解析时忽略索引为 0 的参数，解析 _CMDLINE 时应在前面补上空格避免忽略第一个参数</p>

<p><a id="string.cmdline.argv2"></a></p>

<h3>string.cmdline.argv2(&quot;命令行&quot;,option)</h3>

<p>所有非命名参数都会添加到返回参数表的数组成员。<br>
-- 或 // 之后的参数都视为非命名参数。  </p>

<p>命名参数解析规则如下：<br>
1、参数名区分大小写<br>
2、以斜杠或短横线开始的前导参数作为键名(键名移除一个或多个相同的前导字符，区分大小写)，<br>
   如果前导参数包含等号，则以等号拆分为键值对，等号前后不应有空格，<br>
   否则检查下一参数如果没有相同的首字符则设为此键名对应的值，<br>
   如果一个前导参数没有指定值，则默认值为空字符串（逻辑值为 true）。<br>
3、单个 - 开头的命名参数解析为短参数。<br>
   短参数可以用空格分隔参数值，也可以省略分隔符（等号不作为分隔符）。  </p>

<p>可在第 2 个调用参数中指定一个 @option 选项表。<br>
@option 的所有键名用于指定待解析的命令行参数名字。<br>
@option 预定义的单字符或多字符名字可作为短参数名、长参数名使用。<br>
@option 预定义的单字母参数名允许作为短参数名合并到一个参数段。  </p>

<p>@option 中参数名对应的值可以为任何非 false 值。<br>
如果 @option 表中定义的值是函数，则每次解析对应名称参数时都会回调该函数。<br>
回调参数 @1 为解析得到的参数值，而回调参数 @2 为将要返回的解析结果（参数表）。</p>

<p><a href="javascript:if(confirm('https://www.aardio.com/zh-cn/doc/library-reference/string/cmdline.argv2.md  \n\nļ޷ Teleport Ultra , Ϊ ʵļصġ  \n\nڷϴ?'))window.location='https://www.aardio.com/zh-cn/doc/library-reference/string/cmdline.argv2.md'" tppabs="https://www.aardio.com/zh-cn/doc/library-reference/string/cmdline.argv2.md">Markdown 格式</a></p>

</body> 
</html>