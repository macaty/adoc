
<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="robots" content="index, follow">
<meta name='description' content='aardio 编程语言文档 - string.builder 库模块帮助文档'>
<meta http-equiv='content-language' content='zh-cn'>
<title>aardio 编程语言文档 - string.builder 库模块帮助文档</title> 
<link rel="stylesheet" href="../../css/markdown.css" tppabs="https://www.aardio.com/zh-cn/doc/css/markdown.css">
<script src="../../js/prism.js" tppabs="https://www.aardio.com/zh-cn/doc/js/prism.js"></script>
<link rel="stylesheet" href="../../../../../lib.baomitu.com/font-awesome/6.6.0/css/fontawesome.min.css" tppabs="https://lib.baomitu.com/font-awesome/6.6.0/css/fontawesome.min.css">
<link rel="stylesheet" href="../../../../../lib.baomitu.com/font-awesome/6.6.0/css/solid.min.css" tppabs="https://lib.baomitu.com/font-awesome/6.6.0/css/solid.min.css">
</head>
<body class="markdown-body"><a id="back-to-home" href="../../index.htm" tppabs="https://www.aardio.com/zh-cn/doc/" title="aardio 编程语言文档首页"><i class="fas fa-home" id="home-icon"></i><i class="fas fa-robot" id="ai-icon" style="display: none;"></i><span id="aardio-document-home">aardio 文档</span></a>
<h1>string.builder 库模块帮助文档</h1>

<p><a id="string"></a></p>

<h2>string 成员列表</h2>

<p><a id="string.builder"></a></p>

<h3>string.builder</h3>

<p>字符串生成器<br>
创建的对象内部使用动态指针,并负责自动释放动态指针<br>
要切记对象虽然可以在API中转换为普通指针使用<br>
但任何可能导致自动调整内存大小操作都有可能改变动态指针指向的内存,并使原指针失效</p>

<p><a id="string.builder"></a></p>

<h3>string.builder()</h3>

<p>创建字符串生成器，<br>
可选在参数中指定预分配内存大小<br>
生成器对象可使用+,++连接字符串、buffer、结构体,或使用[]操作符取字节码,<br>
此对象可用于拼接字符串，并自动调整内存大小,  </p>

<p>在大字符串频繁拼接时可明显提升速度，<br>
小字符串少量拼接不需要使用些对象  </p>

<p><a href="#stringbuilderObject">返回对象:stringbuilderObject</a></p>

<p><a id="stringbuilderObject"></a></p>

<h2>stringbuilderObject 成员列表</h2>

<p><a id="stringbuilderObject.append"></a></p>

<h3>stringbuilderObject.append(追加数据,追加长度)</h3>

<p>追加数据可以是字符串，buffer，或其他指针<br>
如果参数不是指针追加长度可省略<br>
此函数可能改变内部动态指针值</p>

<p><a id="stringbuilderObject.appendf"></a></p>

<h3>stringbuilderObject.appendf(&quot;C格式化串&quot;,...)</h3>

<p>使用printf函数格式化文本<br>
此函数可能改变内部动态指针值</p>

<p><a id="stringbuilderObject.assign"></a></p>

<h3>stringbuilderObject.assign()</h3>

<p>重置初始值<br>
参数可以是字符串，buffer，或结构体<br>
此函数可能改变内部动态指针值</p>

<p><a id="stringbuilderObject.capacity"></a></p>

<h3>stringbuilderObject.capacity()</h3>

<p>返回预分配内存大小<br>
释放指针后此函数返回0</p>

<p><a id="stringbuilderObject.eachIndexOf"></a></p>

<h3>stringbuilderObject.eachIndexOf(查找内容)</h3>

<pre><code class="aardio language-aardio">for(i in stringbuilderObject.eachIndexOf(/*查找内容*/)){

}
</code></pre>

<p><a id="stringbuilderObject.empty"></a></p>

<h3>stringbuilderObject.empty()</h3>

<p>存储内容是否为空</p>

<p><a id="stringbuilderObject.free"></a></p>

<h3>stringbuilderObject.free()</h3>

<p>释放内存<br>
此函数设置内部动态指针值为null<br>
释放动态指针以后,仍然可以调用reserve函数重新分配内存</p>

<p><a id="stringbuilderObject.fromUtf16"></a></p>

<h3>stringbuilderObject.fromUtf16(转换字符数,目标编码)</h3>

<p>自UTF16编码转换为多字节编码字符串，默认为UTF8<br>
参数@1以字符计数，即2个字节为一个单位,字符数只能为数值，省略时默认值为-1<br>
字符数为-1表示查找<code>&#39;\u0000&#39;</code>终止符获取可打印文本长度</p>

<p><a id="stringbuilderObject.indexAny"></a></p>

<h3>stringbuilderObject.indexAny(&quot;字符串参数&quot;)</h3>

<p>参数用一个字符串指定要查找的单字节字符<br>
返回任意字符最初出现的位置,找不到返回值为空</p>

<p><a id="stringbuilderObject.indexOf"></a></p>

<h3>stringbuilderObject.indexOf(查找内容,查找开始位置)</h3>

<p>普通字符串查找<br>
不使用模式匹配语法</p>

<p><a id="stringbuilderObject.leftString"></a></p>

<h3>stringbuilderObject.leftString()</h3>

<p>从左侧截取参数指定长度的字符串<br>
返回字符串对象,参数可用负数表示右侧截取位置<br>
不会改变内部动态指针值</p>

<p><a id="stringbuilderObject.reserve"></a></p>

<h3>stringbuilderObject.reserve()</h3>

<p>调整预分配内存大小,返回自身<br>
小于存储内容大小时则设为存储内容大小<br>
为0时设为1024<br>
此函数可能改变内部动态指针值  </p>

<p>释放动态指针以后,仍然可以调用此函数重新分配内存</p>

<p><a href="#stringbuilderObject">返回对象:stringbuilderObject</a></p>

<p><a id="stringbuilderObject.resize"></a></p>

<h3>stringbuilderObject.resize()</h3>

<p>调整存储内容大小<br>
此函数可能改变内部动态指针值</p>

<p><a id="stringbuilderObject.rightString"></a></p>

<h3>stringbuilderObject.rightString()</h3>

<p>从右侧截取参数指定长度的字符串<br>
返回字符串对象,参数可用负数表示左侧截取位置<br>
不会改变内部动态指针值</p>

<p><a id="stringbuilderObject.size"></a></p>

<h3>stringbuilderObject.size()</h3>

<p>返回存储内容大小<br>
释放指针后此函数返回0</p>

<p><a id="stringbuilderObject.str"></a></p>

<h3>stringbuilderObject.str</h3>

<p>转换为纯文本字符串<br>
如果需要转换为二进制字符串,直接使用 tostring 函数转换string.builder对象即可</p>

<p><a id="stringbuilderObject.str"></a></p>

<h3>stringbuilderObject.str(是否unicode,偏移)</h3>

<p>去掉尾部多余终结符转换为纯文本字符串,参数可省略,偏移默认为0<br>
参数@1为true反回字符串标记会设置UTF-16标记,否则设为UTF-8标记</p>

<p><a id="stringbuilderObject.subString"></a></p>

<h3>stringbuilderObject.subString(开始位置,结束位置)</h3>

<p>截取字符串<br>
返回字符串对象，参数不能为负数<br>
开始位置省略则表示1，结束位置省略则表示存储内容尾部<br>
不会改变内部动态指针值</p>

<p><a id="stringbuilderObject.toUtf16"></a></p>

<h3>stringbuilderObject.toUtf16(转换字节数,源编码)</h3>

<p>转换并返回UTF16编码字符串<br>
字节数可省略,默认为-1<br>
字节数为-1时表示查找<code>&#39;\0&#39;</code>终止符自动获取长度</p>

<p><a id="stringbuilderObject.tokenize"></a></p>

<h3>stringbuilderObject.tokenize(分割符)</h3>

<pre><code class="aardio language-aardio">for(i in stringbuilderObject.eachIndexOf(&quot;/*单字节分割符*/&quot;)){

}
</code></pre>

<p><a id="stringbuilderObject.trim"></a></p>

<h3>stringbuilderObject.trim()</h3>

<p>清除两侧空白字符<br>
可选用一个字符串指定要清除的单字节字符</p>

<p><a id="stringbuilderObject.trimleft"></a></p>

<h3>stringbuilderObject.trimleft()</h3>

<p>清除左侧空白字符<br>
可选用一个字符串指定要清除的单字节字符</p>

<p><a id="stringbuilderObject.trimright"></a></p>

<h3>stringbuilderObject.trimright()</h3>

<p>清除右侧空白字符<br>
可选用一个字符串指定要清除的单字节字符</p>

<p><a href="javascript:if(confirm('https://www.aardio.com/zh-cn/doc/library-reference/string/builder.md  \n\nļ޷ Teleport Ultra , Ϊ ʵļصġ  \n\nڷϴ?'))window.location='https://www.aardio.com/zh-cn/doc/library-reference/string/builder.md'" tppabs="https://www.aardio.com/zh-cn/doc/library-reference/string/builder.md">Markdown 格式</a></p>

</body> 
</html>