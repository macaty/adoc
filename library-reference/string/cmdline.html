
<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="robots" content="index, follow">
<meta name='description' content='aardio 编程语言文档 - string.cmdline 库模块帮助文档'>
<meta http-equiv='content-language' content='zh-cn'>
<title>aardio 编程语言文档 - string.cmdline 库模块帮助文档</title> 
<link rel="stylesheet" href="../../css/markdown.css" tppabs="https://www.aardio.com/zh-cn/doc/css/markdown.css">
<script src="../../js/prism.js" tppabs="https://www.aardio.com/zh-cn/doc/js/prism.js"></script>
<link rel="stylesheet" href="../../../../../lib.baomitu.com/font-awesome/6.6.0/css/fontawesome.min.css" tppabs="https://lib.baomitu.com/font-awesome/6.6.0/css/fontawesome.min.css">
<link rel="stylesheet" href="../../../../../lib.baomitu.com/font-awesome/6.6.0/css/solid.min.css" tppabs="https://lib.baomitu.com/font-awesome/6.6.0/css/solid.min.css">
</head>
<body class="markdown-body"><a id="back-to-home" href="../../index.htm" tppabs="https://www.aardio.com/zh-cn/doc/" title="aardio 编程语言文档首页"><i class="fas fa-home" id="home-icon"></i><i class="fas fa-robot" id="ai-icon" style="display: none;"></i><span id="aardio-document-home">aardio 文档</span></a>
<h1>string.cmdline 库模块帮助文档</h1>

<p><details>  <summary>命令行参数语法</summary>  <p></p>

<h2>一、_ARGV 或 string.cmdline.argv 解析命名参数的语法规则</h2>

<p>以斜杠或短横线开始的前导参数作为键。
自动移除一个或多个相同的前导字符作为键名。</p>

<p>如果前导参数包含等号，则以等号拆分为键值对，等号前后不应有空格,
否则检查下一参数如果没有相同的首字符则设为此键对应的值。
如果一个前导参数没有指定值，则默认值为空字符串（逻辑值为true）。</p>

<p>1、参数名区分大小写
2、以斜杠或短横线开始的前导参数作为键名(键名移除一个或多个相同的前导字符,区分大小写)，
   如果前导参数包含等号，则以等号拆分为键值对，等号前后不应有空格,
   否则检查下一参数如果没有相同的首字符则设为此键名对应的值，
   如果一个前导参数没有指定值，则默认值为空字符串（逻辑值为 true）。</p>

<p>也就是说以下写法对于 string.cmdline.argv 或 _ARGV 是等价的</p>

<p>--name=value
--name value
-name value
/name value</p>

<p>注意多次指定同名参数，则仅保存最后一次设定的值。
所有命名参数、非命名参数都会添加到解析返回参数表的数组成员中。</p>

<h2>二、string.cmdline.argv2 解析命名参数的语法规则</h2>

<p>除支持 string.cmdline.argv(str) 相同的功能与解析规则以外，
string.cmdline.argv2(str,option) 增加以下规则：</p>

<p>单个 - 开头的命名参数解析为短参数。
短参数可以用空格分隔参数值，也可以省略分隔符（等号不作为分隔符）。</p>

<p>可在第 2 个调用参数中指定一个 @option 选项表。
@option 的所有键名用于指定待解析的命令行参数名字。
@option 预定义的单字符或多字符名字可作为短参数名、长参数名使用。
@option 预定义的单字母参数名允许作为短参数名合并到一个参数段。</p>

<p>@option 中参数名对应的值可以为任何非 false 值。
如果 @option 表中定义的值是函数，则每次解析对应名称参数时都会回调该函数。
回调参数 @1 为解析得到的参数值，而回调参数 @2 为将要返回的解析结果（参数表）</p>

<h2>二、调用外部程序传命名参数的语法规则</h2>

<p>命令行程序通常会用 / - 或 -- 作为参数名前导字符。
参数的名字与值以用空格分开。</p>

<p>很多程序同一个参数会提供长参数、短参数两个版本。
长参数名以 -- 开始，短参数名以 - 开始。</p>

<p>长参数或短参数一般都支持以空格分隔名字与值。
但长参数还可以用等号分隔其值，短参数还可以省略分隔符</p>

<p>例如 以 aria2 为例，以下几种写法是等价的：</p>

<p>aria2 -j12 其他参数
aria2 -j 12 其他参数
aria2 --max-concurrent-downloads=12 其他参数
aria2 --max-concurrent-downloads 12 其他参数
有些时候可能不支持等号分隔值，空格分隔的兼容性可能更好一些</p>

<p>多个短参数可以合并。
例如&quot;-v -i&quot; 可以写为 &quot;-vi&quot; 。</p>

<p>有时候短参数后面可以跟另外一个键值对，例如 7zip 的参数：
-mmt=on
</p></details></p>

<p><a id="string"></a></p>

<h2>string 成员列表</h2>

<p><a id="string.cmdline"></a></p>

<h3>string.cmdline(&quot;命令行&quot;)</h3>

<p>所有【参数段】以空格或制表等分开<br>
在一对双引号中表示的【引用段】则可以包含空格<br>
两个连续的引号表示一个引号字符并且关闭【引用段】<br>
关闭【引用段】后的非空格字符或引用段仍然追加其后  </p>

<p>一个或多个连续的反斜杠如果最后有一个引号则启用转义<br>
单个反斜杠转义其后的引号或反斜杠表示字面值  </p>

<p>首个索引为0的参数段要么是引号包含的引用段,或是任意非空白字符组成</p>

<p><a id="string.cmdline"></a></p>

<h2>string.cmdline 成员列表</h2>

<p>解析命令行参数<br>
生成命令行参数请使用 string.argv 。</p>

<p>解析命令行,返回数组<br>
该数组可修改后调用 tostring 函数反解析为字符串文本<br>
参数不是字符串、或为空串返回 null</p>

<p><a id="string.cmdline.arguments"></a></p>

<h3>string.cmdline.arguments</h3>

<p>解析并转换创建进程的命令行参数</p>

<p><a id="string.cmdline.arguments"></a></p>

<h3>string.cmdline.arguments(命令行参数...)</h3>

<p>解析并转换创建进程的命令行参数,<br>
将一个或多个命令行参数转换为数组,<br>
如果参数@1是一个表,则直接返回所有参数,<br>
如只有一个文本参数且含空格、首尾无双引号则解析并返回数组,<br>
否则直接将所有参数置入数组返回,  </p>

<p>返回数组不包含索引为0的启动程序路径,<br>
返回数组可传入 process.joinArguments 函数 或 process 构造函数作为参数</p>

<p><a id="string.cmdline.argv"></a></p>

<h3>string.cmdline.argv</h3>

<p>调用 string.cmdline 解析命令行参数并返回数组,<br>
该数组也包含按下列规则解析的名值对:<br>
以斜杠或短横线开始的前导参数作为键(键名移除一个或多个相同的前导字符,区分大小写)，<br>
如果前导参数包含等号，则以等号拆分为键值对，等号前后不应有空格，<br>
否则检查下一参数如果没有相同的首字符则设为此键对应的值，<br>
如果一个前导参数没有指定值，则默认值为空字符串（逻辑值为true）。<br>
注意参数名区分大小写</p>

<p><a id="string.cmdline.argv"></a></p>

<h3>string.cmdline.argv(&quot;命令行&quot;)</h3>

<p>调用 string.cmdline 解析命令行参数并返回数组,<br>
该数组也包含解析后的名值对。  </p>

<p>解析名值对时忽略索引为0的参数,<br>
首个索引为0的参数段要么是引号包含的引用段,或是任意非空白字符组成,<br>
命令行以空白字符开始表示索引为 0 的参数为空</p>

<p><a id="string.cmdline.argv"></a></p>

<h3>string.cmdline.argv()</h3>

<p><a href="#stringCmdlineArgvObject">返回对象:stringCmdlineArgvObject</a></p>

<p><a id="stringCmdlineArgvObject"></a></p>

<h2>stringCmdlineArgvObject 成员列表</h2>

<p><a id="stringCmdlineArgvObject.?"></a></p>

<h3>stringCmdlineArgvObject.?</h3>

<p>请输入命令行参数中以斜杠或短横线开始的前导参数名</p>

<p><a href="javascript:if(confirm('https://www.aardio.com/zh-cn/doc/library-reference/string/cmdline.md  \n\nļ޷ Teleport Ultra , Ϊ ʵļصġ  \n\nڷϴ?'))window.location='https://www.aardio.com/zh-cn/doc/library-reference/string/cmdline.md'" tppabs="https://www.aardio.com/zh-cn/doc/library-reference/string/cmdline.md">Markdown 格式</a></p>

</body> 
</html>