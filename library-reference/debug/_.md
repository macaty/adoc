[aardio æ–‡æ¡£](../../index.htm "aardio ç¼–ç¨‹è¯­è¨€æ–‡æ¡£é¦–é¡µ")

# debug åº“æ¨¡å—å¸®åŠ©æ–‡æ¡?
## debug æˆå‘˜åˆ—è¡¨

è°ƒè¯•å‡½æ•°åº?

debug å±äºå†…ç½®åº?ä½†å¿…é¡»ä½¿ç”?import debug å¯¼å…¥æ‰èƒ½ä½¿ç”¨

### debug.callcount()

å‡½æ•°è°ƒç”¨æ ˆæ·±åº?
### debug.debug()

æ’å…¥æ–­ç‚¹

æ‰§è¡Œåˆ°è¯¥ä½ç½®æ—¶æ‰“å¼€æ§åˆ¶å°è¿›å…¥è°ƒè¯•ç¯å¢?

å‘å¸ƒåç¨‹åºå¿½ç•¥æ­¤å‡½æ•°ä¸æ‰§è¡?
### debug.getfunction(è°ƒç”¨çº?

è¿”å›å‡½æ•°å¯¹è±¡

### debug.getlocalvar(çº¤ç¨‹,è°ƒç”¨çº?ç´¢å¼•)

è¿”å›å±€éƒ¨å˜é‡å,å˜é‡å€?
### debug.getlocalvar(è°ƒç”¨çº?ç´¢å¼•)

è¿”å›å±€éƒ¨å˜é‡å,å˜é‡å€?
### debug.getnamespace(å¯¹è±¡)

è¿”å›å¯¹è±¡çš„åå­—ç©ºé—?
### debug.getupvar(å‡½æ•°å¯¹è±¡,ç´¢å¼•)

è¿”å›å‡½æ•°é—­åŒ…å±€éƒ¨å˜é‡?å˜é‡å€?
æ³¨æ„åªæœ‰è¯¥å‡½æ•°å¼•ç”¨çš„å¤–å±‚å‡½æ•°å±€éƒ¨å˜é‡æ‰èƒ½è·å?
### debug.hook()

[è¿”å›å¯¹è±¡:debugHookObject](#debugHookObject)

### debug.hook(å¯é€‰å‚æ•°ï¼šå¯åœ¨æ­¤è¾“å…¥åç¨‹å¯¹è±?

åˆ›å»ºè°ƒè¯•é’©å­

### debug.queryinfo()

[è¿”å›å¯¹è±¡:debugInfoObject](#debugInfoObject)

### debug.queryinfo(2,"select source")

= æŸ¥è¯¢è°ƒç”¨æ¤æ ˆæºç ç›¸å…³ä¿¡æ¯

å‚æ•°ä¸€å¯ä»¥æ˜¯å‡½æ•°åã€æˆ–è°ƒç”¨çº§åˆ«

1è¡¨ç¤ºå½“å‰å‡½æ•°,2è¡¨ç¤ºè°ƒç”¨å½“å‰å‡½æ•°çš„å‡½æ•?
### debug.queryinfo(2,"select source,function,upvars,name,currentline,activelines")

æŸ¥è¯¢è°ƒç”¨æ¤æ ˆä¿¡æ¯

å‚æ•°ä¸€å¯ä»¥æ˜¯å‡½æ•°åã€æˆ–è°ƒç”¨çº§åˆ«

1è¡¨ç¤ºå½“å‰å‡½æ•°,2è¡¨ç¤ºè°ƒç”¨å½“å‰å‡½æ•°çš„å‡½æ•?
### debug.setlocalvar(çº¤ç¨‹,è°ƒç”¨çº?ç´¢å¼•,æ–°å€?

ä¿®æ”¹å±€éƒ¨å˜é‡å€?
### debug.setlocalvar(è°ƒç”¨çº?ç´¢å¼•,æ–°å€?

ä¿®æ”¹å±€éƒ¨å˜é‡å€?
### debug.setupvar(å‡½æ•°å¯¹è±¡,ç´¢å¼•,å€?

è®¾ç½®å‡½æ•°é—­åŒ…å±€éƒ¨å˜é‡?å˜é‡å€?
### debug.traceback

è¿”å›æ´»åŠ¨æ ˆè·Ÿè¸ªä¿¡æ?
é€šå¸¸ç”¨äºglobal.onErrorå‡½æ•°æˆ–catchè¯­å¥ä¸?
### debug.traceback(çº¤ç¨‹,"æ ‡é¢˜",è°ƒç”¨çº§åˆ«)

è¿”å›æ´»åŠ¨æ ˆè·Ÿè¸ªä¿¡æ?
æ‰€æœ‰å‚æ•°ä¸ºå¯é€‰å‚æ•?

è°ƒç”¨çº§åˆ«ä¸?æŒ‡å½“å‰å‡½æ•?2ä¸ºè°ƒç”¨å½“å‰å‡½æ•°çš„å‡½æ•°,æ•°å€¼è¶Šå¤§è°ƒç”¨çº§åˆ«è¶Šé«?
## debugHookObject æˆå‘˜åˆ—è¡¨

### debugHookObject.call

```aardio aardio
debugHookObject.call=function(){
/*è°ƒç”¨å‡½æ•°è§¦å‘æ­¤å›è°?/
}

```

### debugHookObject.close()

å…³é—­è°ƒè¯•é’©å­

### debugHookObject.line

```aardio aardio
debugHookObject.line=function(line){
/*æ¯è¡Œä»£ç è§¦å‘æ­¤å›è°?/
}

```

### debugHookObject.return

```aardio aardio
debugHookObject.return=function(line){
/*return è¯­å¥è§¦å‘æ­¤å›è°?/
}

```

### debugHookObject.tailreturn

```aardio aardio
debugHookObject.tailreturn=function(line){
/*å°¾å®šä¹‰è§¦å‘æ­¤å›è°ƒ,
å¿…é¡»åŒæ—¶å®šä¹‰ return è¯­å¥å›è°ƒå‡½æ•°,
å¦‚æœä»…æŒ‡å®?tailreturn åˆ™ä¸ä¼šè¢«è§¦å‘*/
}

```

## debugInfoObject æˆå‘˜åˆ—è¡¨

### debugInfoObject.activelines

å‡½æ•°çš„æœ‰æ•ˆä»£ç è¡Œåˆ—è¡¨

æ— æ•ˆè¡ŒæŒ‡çš„æ˜¯ç©ºè¡Œæˆ–æ³¨é‡Šç­‰

### debugInfoObject.currentline

å½“å‰è¡?
### debugInfoObject.function

å½“å‰å‡½æ•°å¯¹è±¡

### debugInfoObject.name

å‡½æ•°åå­—

### debugInfoObject.name\_where

global(å…¨å±€å˜é‡)ã€?
self(å½“å‰åå­—ç©ºé—´æˆå‘˜å˜é‡)ã€?
var(å±€éƒ¨å˜é‡?ã€?
upvar(ä¸Šå±‚è¯­å¥å—å±€éƒ¨é—­åŒ…å˜é‡?

### debugInfoObject.upvars

å¼•ç”¨çš„ä¸Šå±‚å‡½æ•°é—­åŒ…å˜é‡æ•°ç›?
## debugInfoObject.source æˆå‘˜åˆ—è¡¨

æºç ç›¸å…³ä¿¡æ¯

### debugInfoObject.source.beginline

å¼€å§‹å®šä¹‰è¡Œ

### debugInfoObject.source.code

æºç 

### debugInfoObject.source.endline

ç»“æŸ;å®šä¹‰è¡?
### debugInfoObject.source.file

æ–‡ä»¶å?
### debugInfoObject.source.kind

ç±»å‹

"kernel"è¡¨ç¤ºå†…æ ¸å‡½æ•°

"function"

è¡¨ç¤ºæ™®é€šå‡½æ•?
"main"ä¸»å‡½æ•?
"tail"å°¾è°ƒç”?
### debugInfoObject.source.src

æºç æˆ–æ–‡ä»¶åç¼©ç•¥ä¿¡æ¯

[Markdown æ ¼å¼](https://www.aardio.com/zh-cn/doc/library-reference/debug/_.md)

