[aardio æ–‡æ¡£](../../../index.htm "aardio ç¼–ç¨‹è¯­è¨€æ–‡æ¡£é¦–é¡µ")

# process.php åº“æ¨¡å—å¸®åŠ©æ–‡æ¡?
## process æˆå‘˜åˆ—è¡¨

### process.php(path,documentRoot)

æŸ¥æ‰¾å¯ç”¨ç«¯å£åˆ›å»º PHP/CGI æœåŠ¡å™¨ï¼Œè¿”å›è¿”å›å®Œæ•´URLã€?
å¦‚æœ PHP/CGI æœåŠ¡å™¨å·²å¯åŠ¨åˆ™ç›´æ¥è¿”å›?URL è€Œä¸æ˜¯é‡å¤å¯åŠ¨æœåŠ¡å™¨,

çœç•¥å‚æ•°è¿”å›é¦–é¡µ URL,å°¾éƒ¨ä¸åŒ…å«æ–œæ?
å¯é€‰ç”¨ @path å‚æ•°æŒ‡å®šè¯·æ±‚ç›®æ ‡æ–‡ä»¶çš„ç›¸å¯¹è·¯å¾„ã€?
â””â”€â”€ å›?PHP ä¸æ”¯æŒå†…åµŒèµ„æºè·¯å¾„ï¼Œ

â””â”€â”€ æ”?\*.php æ–‡ä»¶çš„å·¥ç¨‹ç›®å½•ã€Œå†…åµŒèµ„æºã€å±æ€§å¿…é¡»ä¸º falseã€?
å¯é€‰ä½¿ç”¨å‚æ•?@documentRoot æŒ‡å®šç½‘ç«™æ ¹ç›®å½?é»˜è®¤ä¸?/"

## process.php æˆå‘˜åˆ—è¡¨

åŸºäº wsock.tcp.simpleHttpServer å¯åŠ¨ PHP CGI æœåŠ¡ç«¯ï¼Œ

HTTP æœåŠ¡ç«¯é»˜è®¤è‡ªåŠ¨åˆ†é…ç©ºé—²ç«¯å£ï¼Œå½“å‰çº¿ç¨‹ç»“æŸæ—¶ï¼ŒHTTP æœåŠ¡ç«¯ä¼šè‡ªåŠ¨é€€å‡?
å½“å‰è¿›ç¨‹é€€å‡ºæ—¶ï¼Œå³ä½?PHP CGI è¿›ç¨‹ä»ç„¶è¿è¡Œä¹Ÿä¼šè‡ªåŠ¨é€€å‡ºã€?
è‡ªåŠ¨æœç´¢å¹¶è¿”å›?php-cgi.exe è·¯å¾„ã€?
å¦‚æœæ‰¾ä¸åˆ?Win 7 è‡ªåŠ¨å®‰è£… PHP 7.4 , Win 10 è‡ªåŠ¨å®‰è£… PHP 8.3ã€?
å¦‚æœè¦å…¼å®?XP ç³»ç»Ÿï¼Œè¯·å¯¼å…¥ process.php.5.2 ä»¥æ›¿ä»?process.php å³å¯ã€?
æŸ¥æ‰¾å¯ç”¨ç«¯å£åˆ›å»º PHP/CGI æœåŠ¡å™¨ï¼Œè¿”å›è¿”å›å®Œæ•´URLã€?
æ­¤æœåŠ¡ç«¯é™åˆ¶ä½¿ç”¨æœ¬æœºIP 127.0.0.1 è®¿é—®,å¹¶éšæœºåˆ†é…ç«¯å£ä¸ä¼šå‡ºç°ç«¯å£å†²çª?
å¦‚æœ PHP/CGI æœåŠ¡å™¨å·²å¯åŠ¨åˆ™ç›´æ¥è¿”å›URLè€Œä¸æ˜¯é‡å¤å¯åŠ¨æœåŠ¡å™¨,

æ³¨æ„å½“å‰çº¿ç¨‹ç»“æŸæ—?æ­¤æœåŠ¡å™¨çº¿ç¨‹ä¼šè‡ªåŠ¨é€€å‡?
### process.php.cgiPath

å¯é€‰æŒ‡å®?php-cgi.exe è·¯å¾„,

ä¸æŒ‡å®šåˆ™æˆ–ä¸º null åˆ™è°ƒç”?checkCgiPath å‡½æ•°è‡ªåŠ¨æœç´¢ã€?
æœç´¢é¡ºåºï¼?è¯·å‚è€ƒè¯¥å‡½æ•°æºç ã€?
### process.php.checkCgiPath()

è‡ªåŠ¨æœç´¢å¹¶è¿”å›?php-cgi.exe è·¯å¾„ã€?
å¦‚æœæ‰¾ä¸åˆ?Win 7 è‡ªåŠ¨å®‰è£… PHP 7.4 , Win 10 è‡ªåŠ¨å®‰è£… PHP 8.3

### process.php.code\[\]

å¯é€šè¿‡æ­¤å¯¹è±¡çš„é”®å€¼è¯»åº”åº”ç”¨ç¨‹åºæ ¹ç›®å½•ä¸‹çš„æ–‡ä»¶ã€?
### process.php.customErrors

```aardio aardio
process.php.customErrors = {
    [404] = function(response){
        response.status = "404 Not Found";
        response.write("404 Not Found"); /*è‡ªå®šä¹‰é”™è¯¯é¡µ*/
    }
}

```

### process.php.enableJsonRpcClient(true)

PHP è‡ªåŠ¨å¯ç”¨ JsonRpcClient ç±»ã€?
å¿…é¡»åœ¨è°ƒç”¨æ‰€æœ‰å…¶ä»?process.php åº“å‡½æ•°ä¹‹å‰è°ƒç”¨æ‰ä¼šæœ‰æ•ˆã€?
å¦‚æœ httpHandle\["/jsonrpc"\] æŒ‡å®šä¸?JSON RPC æœåŠ¡ç«¯å‡½æ•°è¡¨ã€?
åˆ™ä¼šè‡ªåŠ¨è°ƒç”¨æ­¤å‡½æ•°å¯ç”?PHP çš?JsonRpcClient ç±»ã€?
### process.php.httpHandle

```aardio aardio
process.php.httpHandle = {
    ["/jsonrpc"] = {
        hello = function(name,value){

            /*å¯åœ¨æ­¤ç”¨ä¸€ä¸ªè¡¨è‡ªå®šä¹?HTTP æœåŠ¡ç«¯å¤„ç†ç¨‹åº?            é”®ä¸º HTTP è¯·æ±‚è·¯å¾„ï¼Œå€¼ä¸ºå¤„ç†ç¨‹åºï¼ˆå‡½æ•°ã€aardio ä»£ç ã€è¡¨å¯¹è±¡ï¼‰ã€?            å¦‚æœå¤„ç†ç¨‹åºä¸ºè¡¨å¯¹è±¡ï¼Œåˆ™è‡ªåŠ¨è½¬æ¢ä¸?JSON RPC æœåŠ¡ç«¯å‡½æ•°è¡¨ã€?
            JSON RPC æœåŠ¡ç«¯å‡½æ•°ç¬¬ä¸€ä¸ªè¿”å›å€¼ä¸ºå®¢æˆ·ç«¯è¿”å›å€¼ï¼ˆresultï¼‰ï¼Œ
            ç¬¬äºŒä¸ªå¯é€‰çš„è¿”å›å€¼ä¸ºé”™è¯¯å¯¹è±¡ï¼ˆerrorï¼‰ã€?            */

            if(!name) return null,-32602/*_JSONRPC_INVALID_PARAMS*/;
            return "hello " + name;
        }
    };
    ["/path"] = function(response,request,session){
    }
}

```

### process.php.iniPath

å¯é€‰æŒ‡å®šphp.iniè·¯å¾„,

ä¸æŒ‡å®šåˆ™åœ¨php-cgi.exeç›®å½•ä¸‹æŸ¥æ‰?
### process.php.notify("/.php")

é€šçŸ¥æŒ‡å®šçš?PHP é¡µé¢è¿è¡Œï¼Œä¸é˜»å¡å½“å‰çº¿ç¨‹ã€?
å¦‚æœå‚æ•° @2 ä¸?false ï¼Œåˆ™å‘é€è¯·æ±‚åå…³é—­è¿æ¥ï¼Œä¸è·å–å“åº”æ•°æ®ã€?
å¦åˆ™åœ¨å¼€å‘ç¯å¢ƒä¸‹å°†å“åº”æ•°æ®è¾“å‡ºåˆ° stderr é”™è¯¯è¾“å‡ºã€?
ä¸ä¼šè‡ªåŠ¨æ‰“å¼€æ§åˆ¶å°ã€?
å‚æ•°æŒ‡å®š PHP é¡µé¢è·¯å¾„ï¼Œä¸æ”¯æŒå†…åµŒèµ„æºè·¯å¾„ã€?
æ”?\*.php æ–‡ä»¶çš„å·¥ç¨‹ç›®å½•ã€Œå†…åµŒèµ„æºã€å±æ€§å¿…é¡»ä¸º falseã€?
ç”¨æ³•è¯·å‚è€ƒï¼šèŒƒä¾‹ > è°ƒç”¨å…¶ä»–è¯­è¨€ \> php > CGI å›æ˜¾

### process.php.startIp

è®¾ç½®æœåŠ¡å™¨ç«¯IP,

é»˜è®¤ä¸?127.0.0.1"

### process.php.startPort

è®¾ç½®æœåŠ¡å™¨ç«¯å?é»˜è®¤è‡ªåŠ¨åˆ†é…ç©ºé—²ç«¯å£

### process.php.startRpc

å¯åŠ¨ PHP çš?process.rpc å…¼å®¹æœåŠ¡ç«¯ã€?
è¿”å› process.rpc.jsonClient å¯¹è±¡ã€?
### process.php.startRpc()

[è¿”å›å¯¹è±¡:processRpcJsonClientObject](#processRpcJsonClientObject)

### process.php.startRpc(code,params)

å‚æ•° @code æŒ‡å®š PHP ä»£ç æˆ?PHP ä»£ç æ–‡ä»¶ã€?
è¿”å› params å¯ç”¨è¡¨å¯¹è±¡æŒ‡å®šæ¨¡æ‹?GET è¯·æ±‚å‚æ•°ã€?
è¿”å› process.rpc.jsonClient å¯¹è±¡ï¼Œå¯ç”¨äºè°ƒç”¨ PHP å‡½æ•°

### process.php.threadGlobal

```aardio aardio
process.php.threadGlobal = {
    /*æ­¤è¡¨å†…çš„é”®å€¼å¯¹å°†å¤åˆ¶ä¸ºæ‰€æœ‰å¤„ç?HTTP è¯·æ±‚çš„çº¿ç¨‹ç¯å¢ƒå…¨å±€å˜é‡
phpCgiPath,phpIniPath,httpHandle ä¸ºä¿ç•™åç§°ï¼Œè¯·å‹¿ä½¿ç”¨*/
}

```

### process.php.threadNum

è®¾ç½®æœåŠ¡å™¨çº¿ç¨‹æ•°ï¼Œé»˜è®¤ä¸º2ä¸ªçº¿ç¨?
[Markdown æ ¼å¼](https://www.aardio.com/zh-cn/doc/library-reference/process/php/_.md)

