
<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="robots" content="index, follow">
<meta name='description' content='aardio ç¼–ç¨‹è¯­è¨€æ–‡æ¡£ - web.socket.jsonServer åº“æ¨¡å—å¸®åŠ©æ–‡æ¡£'>
<meta http-equiv='content-language' content='zh-cn'>
<title>aardio ç¼–ç¨‹è¯­è¨€æ–‡æ¡£ - web.socket.jsonServer åº“æ¨¡å—å¸®åŠ©æ–‡æ¡£</title> 
<link rel="stylesheet" href="../../../css/markdown.css" tppabs="https://www.aardio.com/zh-cn/doc/css/markdown.css">
<script src="../../../js/prism.js" tppabs="https://www.aardio.com/zh-cn/doc/js/prism.js"></script>
<link rel="stylesheet" href="../../../../../../lib.baomitu.com/font-awesome/6.6.0/css/fontawesome.min.css" tppabs="https://lib.baomitu.com/font-awesome/6.6.0/css/fontawesome.min.css">
<link rel="stylesheet" href="../../../../../../lib.baomitu.com/font-awesome/6.6.0/css/solid.min.css" tppabs="https://lib.baomitu.com/font-awesome/6.6.0/css/solid.min.css">
</head>
<body class="markdown-body"><a id="back-to-home" href="../../../index.htm" tppabs="https://www.aardio.com/zh-cn/doc/" title="aardio ç¼–ç¨‹è¯­è¨€æ–‡æ¡£é¦–é¡µ"><i class="fas fa-home" id="home-icon"></i><i class="fas fa-robot" id="ai-icon" style="display: none;"></i><span id="aardio-document-home">aardio æ–‡æ¡£</span></a>
<h1>web.socket.jsonServer åº“æ¨¡å—å¸®åŠ©æ–‡æ¡£</h1>

<p><a id="web.socket"></a></p>

<h2>web.socket æˆå‘˜åˆ—è¡¨</h2>

<p><a id="web.socket.jsonServer"></a></p>

<h3>web.socket.jsonServer</h3>

<p>åˆ›å»ºWebSocket/JSON-RPC 2.0æœåŠ¡ç«¯</p>

<p><a id="web.socket.jsonServer"></a></p>

<h3>web.socket.jsonServer()</h3>

<p><a href="#websocketjsonserverObject">è¿”å›å¯¹è±¡:websocketjsonserverObject</a></p>

<p><a id="web.socket.jsonServer"></a></p>

<h3>web.socket.jsonServer(wsServer,external)</h3>

<p>åˆ›å»ºWebSocket/JSON-RPC 2.0æœåŠ¡ç«¯<br>
å‚æ•°@1åº”å½“æ˜¯ä¸€ä¸ª web.socket.serverå¯¹è±¡<br>
å‚æ•°@2æŒ‡å®šå®¢æˆ·ç«¯å¯ä»¥è°ƒç”¨çš„è¡¨å¯¹è±¡<br>
externalä¹Ÿå¯ä»¥åœ¨åˆ›å»ºå¯¹è±¡ä»¥å,ä½¿ç”¨å¯¹è±¡çš„externalå±æ€§æŒ‡å®š</p>

<p><a id="websocketjsonserverObject"></a></p>

<h2>websocketjsonserverObject æˆå‘˜åˆ—è¡¨</h2>

<p><a id="websocketjsonserverObject.aasdl"></a></p>

<h3>websocketjsonserverObject.aasdl</h3>

<p>æŒ‡å®šè‡ªå®šä¹‰çš„aasdl<br>
å¦‚æœå®¢æˆ·ç«¯è¯·æ±‚çš„æ–¹æ³•åä¸º&quot;?&quot;æ—¶,è¿”å›æ­¤å±æ€§,<br>
<a href="javascript:if(confirm('https://github.com/aardio/aardio-js/blob/master/AASDL.md  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/aardio/aardio-js/blob/master/AASDL.md'" tppabs="https://github.com/aardio/aardio-js/blob/master/AASDL.md">å…³äºaasdl</a></p>

<p><a id="websocketjsonserverObject.afterJsonStringify"></a></p>

<h3>websocketjsonserverObject.afterJsonStringify</h3>

<pre><code class="aardio language-aardio">websocketjsonserverObject.afterJsonStringify = function(jsonData){
    /*å¯ä»¥åœ¨è¿™é‡ŒåŠ å¯†æœåŠ¡ç«¯æ•°æ®,è¿”å›nullä¸­æ­¢æœ¬æ¬¡è°ƒç”¨*/
    return jsonData;
}
</code></pre>

<p><a id="websocketjsonserverObject.beforeJsonParse"></a></p>

<h3>websocketjsonserverObject.beforeJsonParse</h3>

<pre><code class="aardio language-aardio">websocketjsonserverObject.beforeJsonParse = function(hSocket,jsonData){
    /*å¯ä»¥åœ¨è¿™é‡Œè§£å¯†å®¢æˆ·ç«¯æ•°æ®,è¿”å›nullä¸­æ­¢æœ¬æ¬¡è°ƒç”¨*/
    return jsonData;
}
</code></pre>

<p><a id="websocketjsonserverObject.external"></a></p>

<h3>websocketjsonserverObject.external</h3>

<p>æŒ‡å®šåŒ…å«å®¢æˆ·ç«¯å¯ä»¥è°ƒç”¨çš„è¿œç¨‹å‡½æ•°çš„è¡¨å¯¹è±¡,å¯åµŒå¥—å­è¡¨  </p>

<p>å¦‚æœè¿œç¨‹å‡½æ•°åç¬¬ä¸€ä¸ªå­—ç¬¦æ˜¯$,åˆ™ç¬¬ä¸€ä¸ªå›è°ƒå‚æ•°ä¸ºhSocket,ç”¨äºè¡¨ç¤ºå½“å‰å‘é€è¯·æ±‚çš„å®¢æˆ·ç«¯å¥—æ¥å­—,  </p>

<p>å¦‚æœå®¢æˆ·ç«¯è¯·æ±‚æ–¹æ³•åä¸º&quot;?&quot;æ—¶ï¼Œå¹¶ä¸”æœåŠ¡ç«¯æ²¡æœ‰æŒ‡å®šaasdlå±æ€§<br>
æœåŠ¡ç«¯ä¼šæ ¹æ®aasdlåè®®å°†å¯¹è±¡åºåˆ—åŒ–ä¸ºjsonå¹¶è¿”å›å®¢æˆ·ç«¯ï¼Œ<br>
<a href="javascript:if(confirm('https://github.com/aardio/aardio-js/blob/master/AASDL.md  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/aardio/aardio-js/blob/master/AASDL.md'" tppabs="https://github.com/aardio/aardio-js/blob/master/AASDL.md">å…³äºaasdl</a></p>

<p><a id="websocketjsonserverObject.hActiveSocket"></a></p>

<h3>websocketjsonserverObject.hActiveSocket</h3>

<p>è·å–å½“å‰æ´»åŠ¨çš„å®¢æˆ·ç«¯å¥—æ¥å­—å¥æŸ„,<br>
åº”å½“åœ¨RPCå›è°ƒçš„ç¬¬ä¸€å¥ä»£ç ä¸­è·å–æ­¤å¥æŸ„,<br>
å› ä¸ºæ‰§è¡Œå…¶ä»–ä»£ç éƒ½æœ‰å¯èƒ½å¯¼è‡´å…¶ä»–å®¢æˆ·ç«¯å˜ä¸ºæ´»åŠ¨å®¢æˆ·ç«¯</p>

<p><a id="websocketjsonserverObject.isClosed"></a></p>

<h3>websocketjsonserverObject.isClosed(hSocket)</h3>

<p>è¿æ¥æ˜¯å¦å·²å…³é—­</p>

<p><a id="websocketjsonserverObject.isConnected"></a></p>

<h3>websocketjsonserverObject.isConnected(hSocket)</h3>

<p>æ˜¯å¦å·²è¿æ¥å¹¶å‡†å¤‡å°±ç»ªå¯ä»¥å‘é€æ•°æ®</p>

<p><a id="websocketjsonserverObject.notify"></a></p>

<h3>websocketjsonserverObject.notify(hSocket,method,...)</h3>

<p>ä¸»åŠ¨å‘å®¢æˆ·ç«¯å‘é€é€šçŸ¥<br>
å‚æ•°hSocketæŒ‡å®šå®¢æˆ·ç«¯å¥—æ¥å­—å¥æŸ„,<br>
methodæŒ‡å®šå®¢æˆ·ç«¯æ–¹æ³•å,<br>
å¯æ·»åŠ ä»»æ„ä¸ªè°ƒç”¨å‚æ•°</p>

<p><a id="websocketjsonserverObject.publish"></a></p>

<h3>websocketjsonserverObject.publish(method,...)</h3>

<p>ä¸»åŠ¨å‘æ‰€æœ‰å®¢æˆ·ç«¯å‘é€é€šçŸ¥<br>
methodæŒ‡å®šå®¢æˆ·ç«¯æ–¹æ³•å,<br>
å¯æ·»åŠ ä»»æ„ä¸ªè°ƒç”¨å‚æ•°</p>

<p><a id="websocketjsonserverObject.send"></a></p>

<h3>websocketjsonserverObject.send(hSocket,rep)</h3>

<p>å¯¹æŒ‡å®šçš„å¥—æ¥å­—å‘é€æ•°æ®,<br>
å‚æ•°hSocketæŒ‡å®šå®¢æˆ·ç«¯å¥—æ¥å­—å¥æŸ„,<br>
repåº”å½“æ˜¯ç¬¦åˆJSON-RPC 2.0ç¼–ç åè®®çš„å“åº”å¯¹è±¡<br>
ä¸å»ºè®®ç›´æ¥è°ƒç”¨æ­¤å‡½æ•°å‘é€æ¶ˆæ¯</p>

<p><a id="websocketjsonserverObject.start"></a></p>

<h3>websocketjsonserverObject.start(hSocket)</h3>

<p>å¯¹æŒ‡å®šçš„å¥—æ¥å­—å¯åŠ¨JSON-RPCæœåŠ¡<br>
å‚æ•°hSocketæŒ‡å®šå®¢æˆ·ç«¯å¥—æ¥å­—å¥æŸ„,<br>
hSocketå‚æ•°å¿…é¡»åœ¨web.socket.serveræœåŠ¡ç«¯å¯¹è±¡<br>
çš„onUpgradeToWebsocketäº‹ä»¶ä¸­è·å–</p>

<p><a id="websocketjsonserverObject.survey"></a></p>

<h3>websocketjsonserverObject.survey(method,...)</h3>

<p>å‘èµ·è°ƒæŸ¥ä»»åŠ¡,<br>
è°ƒç”¨æ‰€æœ‰å®¢æˆ·ç«¯çš„åŒåå‡½æ•°,<br>
methodæŒ‡å®šå®¢æˆ·ç«¯æ–¹æ³•å,<br>
å¯æ·»åŠ ä»»æ„ä¸ªè°ƒç”¨å‚æ•°  </p>

<p>å®¢æˆ·ç«¯ä¼šè§¦å‘xcallbackçš„æˆå‘˜å‡½æ•°ï¼Œ<br>
è¯·å‚è€ƒxcallbackçš„è¯´æ˜</p>

<p><a id="websocketjsonserverObject.version"></a></p>

<h3>websocketjsonserverObject.version</h3>

<p>JSON-RPCç‰ˆæœ¬å·ï¼Œä¸åº”æ”¹åŠ¨</p>

<p><a id="websocketjsonserverObject.wsServer"></a></p>

<h3>websocketjsonserverObject.wsServer</h3>

<p>web.socket.serveræœåŠ¡ç«¯å¯¹è±¡</p>

<p><a id="websocketjsonserverObject.xcall"></a></p>

<h3>websocketjsonserverObject.xcall(hSocket,method,...)</h3>

<p>ä¸»åŠ¨è°ƒç”¨å®¢æˆ·ç«¯å‡½æ•°<br>
å‚æ•°hSocketæŒ‡å®šå®¢æˆ·ç«¯å¥—æ¥å­—å¥æŸ„,<br>
methodæŒ‡å®šå®¢æˆ·ç«¯æ–¹æ³•å,<br>
å¯æ·»åŠ ä»»æ„ä¸ªè°ƒç”¨å‚æ•°  </p>

<p>å®¢æˆ·ç«¯ä¼šè§¦å‘xcallbackçš„æˆå‘˜å‡½æ•°ï¼Œ<br>
è¯·å‚è€ƒxcallbackçš„è¯´æ˜</p>

<p><a id="websocketjsonserverObject.web.socket"></a></p>

<h2>websocketjsonserverObject.web.socket æˆå‘˜åˆ—è¡¨</h2>

<p><a id="websocketjsonserverObject.web.socket.jsonServer"></a></p>

<h3>websocketjsonserverObject.web.socket.jsonServer</h3>

<p>åˆ›å»ºWebSocket/JSON-RPC 2.0æœåŠ¡ç«¯</p>

<p><a id="websocketjsonserverObject.xcallback"></a></p>

<h2>websocketjsonserverObject.xcallback æˆå‘˜åˆ—è¡¨</h2>

<p>æœåŠ¡ç«¯é€šè¿‡xcallå‡½æ•°è°ƒç”¨å®¢æˆ·ç«¯å‡½æ•°æ—¶<br>
å®¢æˆ·ç«¯å¦‚æœè¿”å›åº”ç­”ä¼šè‡ªåŠ¨å›è°ƒxcallbackçš„æˆå‘˜å‡½æ•°</p>

<p><a id="websocketjsonserverObject.xcallback.?"></a></p>

<h3>websocketjsonserverObject.xcallback.?</h3>

<pre><code class="aardio language-aardio">websocketjsonserverObject.xcallback./*å‡ºé”™æ—¶errä¸ºé”™è¯¯å¯¹è±¡,  
å¦åˆ™resultä¸ºå®¢æˆ·ç«¯è¿”å›çš„å€¼  
hSocketä¸ºå®¢æˆ·ç«¯å¥—æ¥å­—*/ = function(hSocket,result,err){

}
</code></pre>

<p><a href="javascript:if(confirm('https://www.aardio.com/zh-cn/doc/library-reference/web/socket/jsonServer.md  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ·şÎñÆ÷±¨¸æ·ÃÎÊµÄÎÄ¼şÊÇÒş²ØµÄ¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://www.aardio.com/zh-cn/doc/library-reference/web/socket/jsonServer.md'" tppabs="https://www.aardio.com/zh-cn/doc/library-reference/web/socket/jsonServer.md">Markdown æ ¼å¼</a></p>

</body> 
</html>