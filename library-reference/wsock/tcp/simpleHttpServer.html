
<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="robots" content="index, follow">
<meta name='description' content='aardio ç¼–ç¨‹è¯­è¨€æ–‡æ¡£ - wsock.tcp.simpleHttpServer åº“æ¨¡å—å¸®åŠ©æ–‡æ¡£'>
<meta http-equiv='content-language' content='zh-cn'>
<title>aardio ç¼–ç¨‹è¯­è¨€æ–‡æ¡£ - wsock.tcp.simpleHttpServer åº“æ¨¡å—å¸®åŠ©æ–‡æ¡£</title> 
<link rel="stylesheet" href="../../../css/markdown.css" tppabs="https://www.aardio.com/zh-cn/doc/css/markdown.css">
<script src="../../../js/prism.js" tppabs="https://www.aardio.com/zh-cn/doc/js/prism.js"></script>
<link rel="stylesheet" href="../../../../../../lib.baomitu.com/font-awesome/6.6.0/css/fontawesome.min.css" tppabs="https://lib.baomitu.com/font-awesome/6.6.0/css/fontawesome.min.css">
<link rel="stylesheet" href="../../../../../../lib.baomitu.com/font-awesome/6.6.0/css/solid.min.css" tppabs="https://lib.baomitu.com/font-awesome/6.6.0/css/solid.min.css">
</head>
<body class="markdown-body"><a id="back-to-home" href="../../../index.htm" tppabs="https://www.aardio.com/zh-cn/doc/" title="aardio ç¼–ç¨‹è¯­è¨€æ–‡æ¡£é¦–é¡µ"><i class="fas fa-home" id="home-icon"></i><i class="fas fa-robot" id="ai-icon" style="display: none;"></i><span id="aardio-document-home">aardio æ–‡æ¡£</span></a>
<h1>wsock.tcp.simpleHttpServer åº“æ¨¡å—å¸®åŠ©æ–‡æ¡£</h1>

<p><a id="wsock.tcp.simpleHttpServer"></a></p>

<h2>wsock.tcp.simpleHttpServer æˆå‘˜åˆ—è¡¨</h2>

<p>HTTPæœåŠ¡ç«¯<br>
æ”¯æŒæ–‡ä»¶ä¸Šä¼ ,ä¸‹è½½,ä¸‹è½½æ”¯æŒæ–­ç‚¹ç»­ä¼ <br>
æ”¯æŒå¤šçº¿ç¨‹å¤„ç†è¯·æ±‚</p>

<p><a id="wsock.tcp.simpleHttpServer.defalutDocument"></a></p>

<h3>wsock.tcp.simpleHttpServer.defalutDocument</h3>

<p>é»˜è®¤æ–‡æ¡£ï¼Œé»˜è®¤ä¸º&quot;main.aardio&quot;,  </p>

<p>å¦‚æœè®¿é—®ç¡¬ç›˜ä¸Šå­˜åœ¨çš„ç›®å½•,request.path å°¾éƒ¨ä¸åŠ æ–œæ ä¼šè‡ªåŠ¨è·³è½¬åˆ°ä»¥æ–œæ†ç»“æŸçš„è·¯å¾„  </p>

<p>å¦‚æœè®¿é—®åµŒå…¥èµ„æºç›®å½•,åªæœ‰ request.path ä»¥æ–œæ†æ‰ä¼šè®¿é—®é»˜è®¤æ–‡æ¡£,<br>
å¯¹äºè®¿é—®åµŒå…¥èµ„æºæ–‡ä»¶,å»ºè®®æŒ‡å®šå®Œæ•´çš„æ–‡ä»¶è·¯å¾„,<br>
é»˜è®¤æ–‡æ¡£ä¸»è¦æ˜¯ç”¨äºç¡¬ç›˜ä¸Šçš„ç½‘ç«™</p>

<p><a id="wsock.tcp.simpleHttpServer.documentBase"></a></p>

<h3>wsock.tcp.simpleHttpServer.documentBase</h3>

<p>ç½‘ç«™æ ¹ç›®å½•,<br>
ä¸ä¼šä¿®æ”¹åº”ç”¨ç¨‹åºæ ¹ç›®å½•,æ”¯æŒç¡¬ç›˜ç›®å½•ä¸èµ„æºç›®å½•,<br>
è¿™ä¸ªå±æ€§åº”å½“è®¾ç½®ä¸ºåº”ç”¨ç¨‹åºæ ¹ç›®å½•ä¸‹çš„ç›¸å¯¹è·¯å¾„,<br>
ä¾‹å¦‚ &quot;/res/web/&quot;  </p>

<p>æ³¨æ„ï¼š request.path å‰é¢åŒ…å« documentBase ç›®å½•ã€‚<br>
è€Œ request.pathInfo å¿½ç•¥ documentBase ç›®å½•</p>

<p><a id="wsock.tcp.simpleHttpServer.documentRoot"></a></p>

<h3>wsock.tcp.simpleHttpServer.documentRoot</h3>

<p>ç½‘ç«™åº”ç”¨ç¨‹åºæ ¹ç›®å½•,é»˜è®¤ä¸º&quot;/&quot;,<br>
åªèƒ½è®¾ç½®ä¸ºç¡¬ç›˜ä¸Šå®é™…å­˜åœ¨çš„ç›®å½•,<br>
æ”¹å˜æ­¤ç›®å½•,ä¼šåŒæ—¶æ”¹å˜<br>
æœåŠ¡ç«¯ä»£ç ä¸­çš„åº”ç”¨ç¨‹åºæ ¹ç›®å½•ä»¥åŠç”¨æˆ·åº“ç›®å½•,<br>
å¦‚æœåªæ˜¯ç›¸å°†æ‰€æœ‰è¯·æ±‚è·¯å¾„è½¬å‘æŸä¸ªç›®å½•,åº”å½“æ”¹ç”¨ documentBase å±æ€§<br>
å¦‚æœç½‘ç«™åœ¨åµŒå…¥èµ„æºç›®å½•ä¸­,åº”å½“æ”¹ç”¨ documentBase å±æ€§</p>

<p><a id="wsock.tcp.simpleHttpServer.mainThread"></a></p>

<h3>wsock.tcp.simpleHttpServer.mainThread()</h3>

<p><a href="#HttpSimpleServerMainObject">è¿”å›å¯¹è±¡:HttpSimpleServerMainObject</a></p>

<p><a id="wsock.tcp.simpleHttpServer.mainThread"></a></p>

<h3>wsock.tcp.simpleHttpServer.mainThread(app)</h3>

<pre><code class="aardio language-aardio">wsock.tcp.simpleHttpServer.mainThread(   
    function(response,request,session){   
         response.loadcode( request.path /*å¯çœç•¥,å¯å¢åŠ å¤šä¸ªæ¨¡æ¿å‚æ•°,  
åœ¨è¢«è°ƒç”¨æ–‡ä»¶çš„å‡½æ•°å¤–éƒ¨å¯ä½¿ç”¨ownerå‚æ•°è·å–é¦–ä¸ªæ¨¡æ¿å‚æ•°,  
ä¹Ÿå¯ä»¥ä½¿ç”¨...è·å–å¤šä¸ªæ¨¡æ¿å‚æ•°*/ );  
    }     
);
</code></pre>

<p><a id="wsock.tcp.simpleHttpServer.startSpaUrl"></a></p>

<h3>wsock.tcp.simpleHttpServer.startSpaUrl</h3>

<p>è¿”å› SPA å•é¡µåº”ç”¨é¦–é¡µç½‘å€</p>

<p><a id="wsock.tcp.simpleHttpServer.startSpaUrl"></a></p>

<h3>wsock.tcp.simpleHttpServer.startSpaUrl(indexHtmlPath,documentBase,app)</h3>

<p>å‚æ•°æŒ‡å®š SPA å•é¡µåº”ç”¨é¦–é¡µè·¯å¾„ï¼Œ<br>
404é”™è¯¯é¡µä¹Ÿä¼šè‡ªåŠ¨è®¾ç½®åˆ°è¯¥è·¯å¾„ï¼Œ<br>
è¿”å›é¦–é¡µç½‘å€  </p>

<p>å¯é€‰ç”¨å‚æ•° @documentBase æŒ‡å®šæ ¹ç›®å½•<br>
ä»¥é¿å…ç½‘é¡µä¸æ”¯æŒéæ ¹ç›®å½•è·¯å¾„ã€‚  </p>

<p>å¯é€‰ç”¨ @app å‚æ•°æŒ‡å®šå¤„ç† HTTP è¯·æ±‚çš„çº¿ç¨‹å‡½æ•°ï¼Œ<br>
è¯¥çº¿ç¨‹å‡½æ•°æœ‰ response,request,session ç­‰ä¸‰ä¸ªå›è°ƒå‚æ•°</p>

<p><a id="wsock.tcp.simpleHttpServer.startUrl"></a></p>

<h3>wsock.tcp.simpleHttpServer.startUrl</h3>

<p>æŸ¥æ‰¾å¯ç”¨ç«¯å£åˆ›å»º HTTP æœåŠ¡å™¨çº¿ç¨‹ï¼Œè¿”å›è¿”å›å®Œæ•´ URL<br>
æ­¤æœåŠ¡ç«¯é™åˆ¶ä½¿ç”¨æœ¬æœºIP 127.0.0.1 è®¿é—®,å¹¶éšæœºåˆ†é…ç«¯å£ä¸ä¼šå‡ºç°ç«¯å£å†²çª<br>
å¦‚æœHTTPæœåŠ¡å™¨å·²å¯åŠ¨åˆ™ç›´æ¥è¿”å›URLè€Œä¸æ˜¯é‡å¤å¯åŠ¨æœåŠ¡å™¨,<br>
æ³¨æ„å½“å‰çº¿ç¨‹ç»“æŸæ—¶,æ­¤æœåŠ¡å™¨çº¿ç¨‹ä¼šè‡ªåŠ¨é€€å‡º</p>

<p><a id="wsock.tcp.simpleHttpServer.startUrl"></a></p>

<h3>wsock.tcp.simpleHttpServer.startUrl(path,documentRoot,app)</h3>

<p>æŸ¥æ‰¾å¯ç”¨ç«¯å£åˆ›å»º HTTP æœåŠ¡å™¨çº¿ç¨‹ï¼Œè¿”å›è¿”å›å®Œæ•´ URL<br>
å¦‚æœ HTTP æœåŠ¡å™¨å·²å¯åŠ¨åˆ™ç›´æ¥è¿”å› URL è€Œä¸æ˜¯é‡å¤å¯åŠ¨æœåŠ¡å™¨ã€‚<br>
çœç•¥å‚æ•°è¿”å›é¦–é¡µURL,å°¾éƒ¨ä¸åŒ…å«æ–œæ ã€‚  </p>

<p>å¯é€‰ç”¨ @path å‚æ•°æŒ‡å®šè¯·æ±‚ç›®æ ‡æ–‡ä»¶çš„ç›¸å¯¹è·¯å¾„ã€‚<br>
å¯é€‰ä½¿ç”¨å‚æ•° @documentRoot æŒ‡å®šç½‘ç«™æ ¹ç›®å½•,é»˜è®¤ä¸º&quot;/&quot;ã€‚<br>
documentRoot åªèƒ½è®¾ä¸ºç¡¬ç›˜å®é™…å­˜åœ¨çš„ç›®å½•ï¼Œå¹¶ä¼šæ”¹å˜ç”¨æˆ·åº“ä¸åº”ç”¨æ ¹ç›®å½•ï¼Œ<br>
å¦‚åªæƒ³æ”¹å˜ç½‘é¡µæ ¹ç›®å½•è¯·è®¾ç½® wsock.tcp.simpleHttpServer.documentBaseã€‚<br>
å¯é€‰ç”¨ @app å‚æ•°æŒ‡å®šå¤„ç† HTTP è¯·æ±‚çš„çº¿ç¨‹å‡½æ•°,<br>
è¯¥çº¿ç¨‹å‡½æ•°æœ‰ response,request,session ç­‰ä¸‰ä¸ªå›è°ƒå‚æ•°ã€‚<br>
ä¹Ÿå¯ä»¥ç”¨å‚æ•°@1 æŒ‡å®š @app å‚æ•°ã€‚</p>

<p><a id="wsock.tcp.simpleHttpServer.stopUrl"></a></p>

<h3>wsock.tcp.simpleHttpServer.stopUrl()</h3>

<p>é€€å‡ºstartUrlå‡½æ•°åˆ›å»ºçš„HTTPæœåŠ¡å™¨çº¿ç¨‹</p>

<p><a id="HttpSimpleServerMainObject"></a></p>

<h2>HttpSimpleServerMainObject æˆå‘˜åˆ—è¡¨</h2>

<p><a id="HttpSimpleServerMainObject.customErrors"></a></p>

<h3>HttpSimpleServerMainObject.customErrors</h3>

<pre><code class="aardio language-aardio">HttpSimpleServerMainObject.customErrors = {  
    [404] = function(response){  
        response.status = &quot;404 Not Found&quot;;  
        response.write(&quot;404 Not Found&quot;); /*è‡ªå®šä¹‰é”™è¯¯é¡µ*/  
    }   
}
</code></pre>

<p><a id="HttpSimpleServerMainObject.defalutDocument"></a></p>

<h3>HttpSimpleServerMainObject.defalutDocument</h3>

<p>é»˜è®¤æ–‡æ¡£ï¼Œé»˜è®¤ä¸º&quot;main.aardio&quot;,  </p>

<p>å¦‚æœè®¿é—®ç¡¬ç›˜ä¸Šå­˜åœ¨çš„ç›®å½•,request.path å°¾éƒ¨ä¸åŠ æ–œæ ä¼šè‡ªåŠ¨è·³è½¬åˆ°ä»¥æ–œæ†ç»“æŸçš„è·¯å¾„  </p>

<p>å¦‚æœè®¿é—®åµŒå…¥èµ„æºç›®å½•,åªæœ‰ request.path ä»¥æ–œæ†æ‰ä¼šè®¿é—®é»˜è®¤æ–‡æ¡£,<br>
å¯¹äºè®¿é—®åµŒå…¥èµ„æºæ–‡ä»¶,å»ºè®®æŒ‡å®šå®Œæ•´çš„æ–‡ä»¶è·¯å¾„,<br>
é»˜è®¤æ–‡æ¡£ä¸»è¦æ˜¯ç”¨äºç¡¬ç›˜ä¸Šçš„ç½‘ç«™</p>

<p><a id="HttpSimpleServerMainObject.documentBase"></a></p>

<h3>HttpSimpleServerMainObject.documentBase</h3>

<p>ç½‘ç«™æ ¹ç›®å½•,<br>
ä¸ä¼šä¿®æ”¹åº”ç”¨ç¨‹åºæ ¹ç›®å½•,æ”¯æŒç¡¬ç›˜ç›®å½•ä¸èµ„æºç›®å½•,<br>
è¿™ä¸ªå±æ€§åº”å½“è®¾ç½®ä¸ºåº”ç”¨ç¨‹åºæ ¹ç›®å½•ä¸‹çš„ç›¸å¯¹è·¯å¾„,<br>
ä¾‹å¦‚ &quot;/res/web/&quot;,  </p>

<p>æ³¨æ„ï¼š request.path å‰é¢åŒ…å« documentBase ç›®å½•ã€‚<br>
è€Œ request.pathInfo å¿½ç•¥ documentBase ç›®å½•</p>

<p><a id="HttpSimpleServerMainObject.documentRoot"></a></p>

<h3>HttpSimpleServerMainObject.documentRoot</h3>

<p>ç½‘ç«™åº”ç”¨ç¨‹åºæ ¹ç›®å½•,é»˜è®¤ä¸º&quot;/&quot;,<br>
åªèƒ½è®¾ç½®ä¸ºç¡¬ç›˜ä¸Šå®é™…å­˜åœ¨çš„ç›®å½•,<br>
æ”¹å˜æ­¤ç›®å½•,ä¼šåŒæ—¶æ”¹å˜<br>
æœåŠ¡ç«¯ä»£ç ä¸­çš„åº”ç”¨ç¨‹åºæ ¹ç›®å½•ä»¥åŠç”¨æˆ·åº“ç›®å½•,<br>
å¦‚æœåªæ˜¯ç›¸å°†æ‰€æœ‰è¯·æ±‚è·¯å¾„è½¬å‘æŸä¸ªç›®å½•,åº”å½“æ”¹ç”¨ documentBase å±æ€§<br>
å¦‚æœç½‘ç«™åœ¨åµŒå…¥èµ„æºç›®å½•ä¸­,åº”å½“æ”¹ç”¨ documentBase å±æ€§</p>

<p><a id="HttpSimpleServerMainObject.getLocalIp"></a></p>

<h3>HttpSimpleServerMainObject.getLocalIp()</h3>

<p>è¿”å›æœåŠ¡ç«¯IP,ç«¯å£</p>

<p><a id="HttpSimpleServerMainObject.getUrl"></a></p>

<h3>HttpSimpleServerMainObject.getUrl()</h3>

<p>è¿”å›HTTPæœåŠ¡ç«¯è®¿é—®ç½‘å€,å¯é€‰æŒ‡å®šç›®å½•æˆ–æ–‡ä»¶è·¯å¾„<br>
æ³¨æ„å‚æ•°ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸éœ€è¦æŒ‡å®šæ–œæ <br>
å¦‚æœå‚æ•°@2ä¸ºtrueï¼ŒIP &quot;0.0.0.0&quot;æ›¿æ¢ä¸ºåˆé€‚çš„å†…ç½‘IPè€Œä¸æ˜¯localhost<br>
å¦‚æœæœåŠ¡å™¨å¯åŠ¨å¤±è´¥ä¸è¿”å›ä»»ä½•å€¼</p>

<p><a id="HttpSimpleServerMainObject.onThreadCreated"></a></p>

<h3>HttpSimpleServerMainObject.onThreadCreated()</h3>

<pre><code class="aardio language-aardio">HttpSimpleServerMainObject.onThreadCreated = function(documentRoot,urlRoot){
    /*ä¸€ä¸ªHTTPæœåŠ¡ç›‘å¬çº¿ç¨‹å‡†å¤‡å°±ç»ªæ—¶è§¦å‘æ­¤äº‹ä»¶*/
}
</code></pre>

<p><a id="HttpSimpleServerMainObject.serverId"></a></p>

<h3>HttpSimpleServerMainObject.serverId</h3>

<p>å½“å‰æœåŠ¡ç«¯å”¯ä¸€IDï¼Œå­—ç¬¦ä¸²,<br>
æ¯æ¬¡è°ƒç”¨startå‡½æ•°éƒ½ä¼šæ”¹å˜è¿™ä¸ªå±æ€§çš„å€¼</p>

<p><a id="HttpSimpleServerMainObject.start"></a></p>

<h3>HttpSimpleServerMainObject.start(IP,ç«¯å£,è¯·æ±‚é˜Ÿåˆ—å¤§å°)</h3>

<p>å¯åŠ¨HTTPæœåŠ¡ç«¯</p>

<p><a id="HttpSimpleServerMainObject.startPort"></a></p>

<h3>HttpSimpleServerMainObject.startPort</h3>

<p>è®¾ç½®æœåŠ¡å™¨ç«¯å£,é»˜è®¤è‡ªåŠ¨åˆ†é…ç©ºé—²ç«¯å£</p>

<p><a id="HttpSimpleServerMainObject.startSpaUrl"></a></p>

<h3>HttpSimpleServerMainObject.startSpaUrl</h3>

<p>è¿”å› SPA å•é¡µåº”ç”¨é¦–é¡µç½‘å€</p>

<p><a id="HttpSimpleServerMainObject.startSpaUrl"></a></p>

<h3>HttpSimpleServerMainObject.startSpaUrl(indexHtmlPath,documentBase)</h3>

<p>å‚æ•°æŒ‡å®š SPA å•é¡µåº”ç”¨é¦–é¡µè·¯å¾„ï¼Œ<br>
404é”™è¯¯é¡µä¹Ÿä¼šè‡ªåŠ¨è®¾ç½®åˆ°è¯¥è·¯å¾„ï¼Œ<br>
è¿”å›é¦–é¡µç½‘å€  </p>

<p>å¯é€‰ç”¨å‚æ•° @documentBase æŒ‡å®šæ ¹ç›®å½•ä»¥é¿å…ç½‘é¡µä¸æ”¯æŒéæ ¹ç›®å½•è·¯å¾„</p>

<p><a id="HttpSimpleServerMainObject.stop"></a></p>

<h3>HttpSimpleServerMainObject.stop()</h3>

<p>åœæ­¢HTTPæœåŠ¡ç«¯</p>

<p><a id="HttpSimpleServerMainObject.threadGlobal"></a></p>

<h3>HttpSimpleServerMainObject.threadGlobal</h3>

<pre><code class="aardio language-aardio">HttpSimpleServerMainObject.threadGlobal = {
    /*åœ¨onThreadCreatedäº‹ä»¶è§¦å‘å‰  
æ·»åŠ HTTPæœåŠ¡ç›‘å¬çº¿ç¨‹çš„å…¨å±€å˜é‡*/
}
</code></pre>

<p><a id="HttpSimpleServerMainObject.threadNum"></a></p>

<h3>HttpSimpleServerMainObject.threadNum</h3>

<p>è®¾ç½®æœåŠ¡å™¨çº¿ç¨‹æ•°ï¼Œé»˜è®¤ä¸º2ä¸ªçº¿ç¨‹</p>

<p><a id="HttpSimpleServerObject"></a></p>

<h2>HttpSimpleServerObject æˆå‘˜åˆ—è¡¨</h2>

<p><a id="HttpSimpleServerObject._serverAddress"></a></p>

<h3>HttpSimpleServerObject._serverAddress</h3>

<p>æœåŠ¡ç«¯ç›‘å¬åœ°å€  </p>

<p><a href="#sockaddrInObject">è¿”å›å¯¹è±¡:sockaddrInObject</a></p>

<p><a id="HttpSimpleServerObject.beforeClose"></a></p>

<h3>HttpSimpleServerObject.beforeClose()</h3>

<pre><code class="aardio language-aardio">HttpSimpleServerObject.beforeClose = function(){
    /*æœåŠ¡å™¨å…³é—­å‰è°ƒç”¨æ­¤å‡½æ•°*/
}
</code></pre>

<p><a id="HttpSimpleServerObject.close"></a></p>

<h3>HttpSimpleServerObject.close()</h3>

<p>å…³é—­ HTTP æœåŠ¡ç«¯</p>

<p><a id="HttpSimpleServerObject.customErrors[404]"></a></p>

<h3>HttpSimpleServerObject.customErrors[404]</h3>

<pre><code class="aardio language-aardio">HttpSimpleServerObject.customErrors[404] = function(response){
    response.status = &quot;404 Not Found&quot;;
    response.write(&quot;404 Not Found&quot;); /*è‡ªå®šä¹‰é”™è¯¯é¡µå¤„ç†å‡½æ•°ï¼Œ  
æ³¨æ„è¿™æ˜¯çº¿ç¨‹å‡½æ•°ï¼Œåº”éµå®ˆå¤šçº¿ç¨‹è§„åˆ™ï¼Œ  
ä¹Ÿå¯ä»¥ç›´æ¥æŒ‡å®šé”™è¯¯é¡µè·¯å¾„*/
}
</code></pre>

<p><a id="HttpSimpleServerObject.defalutDocument"></a></p>

<h3>HttpSimpleServerObject.defalutDocument</h3>

<p>é»˜è®¤æ–‡æ¡£ï¼Œé»˜è®¤ä¸º&quot;main.aardio&quot;,<br>
åœ¨å¯åŠ¨æœåŠ¡ç«¯ä¹‹å‰è®¾ç½®æ‰ä¼šç”Ÿæ•ˆ,  </p>

<p>å¦‚æœè®¿é—®ç¡¬ç›˜ä¸Šå­˜åœ¨çš„ç›®å½•,request.path å°¾éƒ¨ä¸åŠ æ–œæ ä¼šè‡ªåŠ¨è·³è½¬åˆ°ä»¥æ–œæ†ç»“æŸçš„è·¯å¾„  </p>

<p>å¦‚æœè®¿é—®åµŒå…¥èµ„æºç›®å½•,åªæœ‰ request.path ä»¥æ–œæ†æ‰ä¼šè®¿é—®é»˜è®¤æ–‡æ¡£,<br>
å¯¹äºè®¿é—®åµŒå…¥èµ„æºæ–‡ä»¶,å»ºè®®æŒ‡å®šå®Œæ•´çš„æ–‡ä»¶è·¯å¾„,<br>
é»˜è®¤æ–‡æ¡£ä¸»è¦æ˜¯ç”¨äºç¡¬ç›˜ä¸Šçš„ç½‘ç«™</p>

<p><a id="HttpSimpleServerObject.documentBase"></a></p>

<h3>HttpSimpleServerObject.documentBase</h3>

<p>ç½‘ç«™æ ¹ç›®å½•,<br>
åœ¨å¯åŠ¨æœåŠ¡ç«¯ä¹‹å‰è®¾ç½®æ‰ä¼šç”Ÿæ•ˆ,<br>
ä¸ä¼šä¿®æ”¹åº”ç”¨ç¨‹åºæ ¹ç›®å½•,æ”¯æŒç¡¬ç›˜ç›®å½•ä¸èµ„æºç›®å½•,<br>
è¿™ä¸ªå±æ€§åº”å½“è®¾ç½®ä¸ºåº”ç”¨ç¨‹åºæ ¹ç›®å½•ä¸‹çš„ç›¸å¯¹è·¯å¾„,<br>
ä¾‹å¦‚ &quot;/res/web/&quot;  </p>

<p>æ³¨æ„ï¼š request.path å‰é¢åŒ…å« documentBase ç›®å½•ã€‚<br>
è€Œ request.pathInfo å¿½ç•¥ documentBase ç›®å½•</p>

<p><a id="HttpSimpleServerObject.documentRoot"></a></p>

<h3>HttpSimpleServerObject.documentRoot</h3>

<p>ç½‘ç«™åº”ç”¨ç¨‹åºæ ¹ç›®å½•,é»˜è®¤ä¸º&quot;/&quot;,<br>
åœ¨å¯åŠ¨æœåŠ¡ç«¯ä¹‹å‰è®¾ç½®æ‰ä¼šç”Ÿæ•ˆ,  </p>

<p>åªèƒ½è®¾ç½®ä¸ºç¡¬ç›˜ä¸Šå®é™…å­˜åœ¨çš„ç›®å½•,<br>
æ”¹å˜æ­¤ç›®å½•,ä¼šåŒæ—¶æ”¹å˜<br>
æœåŠ¡ç«¯ä»£ç ä¸­çš„åº”ç”¨ç¨‹åºæ ¹ç›®å½•ä»¥åŠç”¨æˆ·åº“ç›®å½•,<br>
å¦‚æœåªæ˜¯ç›¸å°†æ‰€æœ‰è¯·æ±‚è·¯å¾„è½¬å‘æŸä¸ªç›®å½•,åº”å½“æ”¹ç”¨ documentBase å±æ€§<br>
å¦‚æœç½‘ç«™åœ¨åµŒå…¥èµ„æºç›®å½•ä¸­,åº”å½“æ”¹ç”¨ documentBase å±æ€§</p>

<p><a id="HttpSimpleServerObject.getLocalIp"></a></p>

<h3>HttpSimpleServerObject.getLocalIp()</h3>

<p>è¿”å›å½“å‰ç»‘å®šçš„IP,ç«¯å£å·</p>

<p><a id="HttpSimpleServerObject.getUrl"></a></p>

<h3>HttpSimpleServerObject.getUrl()</h3>

<p>è¿”å›é¦–é¡µURL<br>
å¦‚æœå‚æ•°@1ä¸ºtrueï¼ŒIP &quot;0.0.0.0&quot;æ›¿æ¢ä¸ºä¸Šç½‘å¡IPè€Œä¸æ˜¯localhost</p>

<p><a id="HttpSimpleServerObject.listen"></a></p>

<h3>HttpSimpleServerObject.listen(è¯·æ±‚é˜Ÿåˆ—å¤§å°)</h3>

<p>ç›‘å¬æ„é€ å‡½æ•°ç»‘å®šçš„ IP ç«¯å£ï¼ŒæˆåŠŸè¿”å› true ã€‚<br>
å·²è‡ªåŠ¨è°ƒç”¨æ­¤å‡½æ•°ã€‚</p>

<p><a id="HttpSimpleServerObject.onThreadCreated"></a></p>

<h3>HttpSimpleServerObject.onThreadCreated()</h3>

<pre><code class="aardio language-aardio">HttpSimpleServerObject.onThreadCreated = function(documentRoot,urlRoot){
    /*ä¸€ä¸ªHTTPæœåŠ¡ç›‘å¬çº¿ç¨‹å‡†å¤‡å°±ç»ªæ—¶è§¦å‘æ­¤äº‹ä»¶*/
}
</code></pre>

<p><a id="HttpSimpleServerObject.run"></a></p>

<h3>HttpSimpleServerObject.run( httpProc )</h3>

<pre><code class="aardio language-aardio">HttpSimpleServerObject.run(   
    function(response,request,session){   
         response.loadcode( request.path /*å¯çœç•¥,å¯å¢åŠ å¤šä¸ªæ¨¡æ¿å‚æ•°,  
åœ¨è¢«è°ƒç”¨æ–‡ä»¶çš„å‡½æ•°å¤–éƒ¨å¯ä½¿ç”¨ownerå‚æ•°è·å–é¦–ä¸ªæ¨¡æ¿å‚æ•°,  
ä¹Ÿå¯ä»¥ä½¿ç”¨...è·å–å¤šä¸ªæ¨¡æ¿å‚æ•°*/ );  
    }     
);
</code></pre>

<p><a id="HttpSimpleServerObject.threadGlobal"></a></p>

<h3>HttpSimpleServerObject.threadGlobal</h3>

<pre><code class="aardio language-aardio">HttpSimpleServerObject.threadGlobal = {
    /*åœ¨onThreadCreatedäº‹ä»¶è§¦å‘å‰  
æ·»åŠ HTTPæœåŠ¡ç›‘å¬çº¿ç¨‹çš„å…¨å±€å˜é‡*/
}
</code></pre>

<p><a id="HttpSimpleServerObject.threadNum"></a></p>

<h3>HttpSimpleServerObject.threadNum</h3>

<p>è®¾ç½®æœåŠ¡å™¨çº¿ç¨‹æ•°ï¼Œé»˜è®¤ä¸º2ä¸ªçº¿ç¨‹</p>

<p><a id="wsock.tcp"></a></p>

<h2>wsock.tcp æˆå‘˜åˆ—è¡¨</h2>

<p><a id="wsock.tcp.simpleHttpServer"></a></p>

<h3>wsock.tcp.simpleHttpServer()</h3>

<p><a href="#HttpSimpleServerObject">è¿”å›å¯¹è±¡:HttpSimpleServerObject</a></p>

<p><a id="wsock.tcp.simpleHttpServer"></a></p>

<h3>wsock.tcp.simpleHttpServer(IP,ç«¯å£,è¯·æ±‚é˜Ÿåˆ—å¤§å°)</h3>

<p>åˆ›å»ºHTTPæœåŠ¡ç«¯,æ‰€æœ‰å‚æ•°å¯é€‰,  </p>

<p>å¦‚æœä¸å†™IPï¼Œåˆ™é»˜è®¤è®¾ä¸º&quot;0.0.0.0&quot;ä¹Ÿå³ç›‘å¬æœ¬æœºæ‰€æœ‰IP,è®¿é—®æ­¤æœåŠ¡ç«¯ä¹Ÿä¸é™åˆ¶IP<br>
é™åˆ¶ä»…æœ¬æœºå¯ä»¥è®¿é—®å»ºè®®å†™127.0.0.1  </p>

<p>ç«¯å£ä¸º0æˆ–çœç•¥åˆ™è‡ªåŠ¨é€‰æ‹©æœªç”¨ç«¯å£<br>
æ³¨æ„0-1023ä¸ºç³»ç»Ÿé€šç”¨æœåŠ¡ä¿ç•™ç«¯å£,<br>
1024-49151ä¸ºç”¨æˆ·æœåŠ¡ç«¯å£,å…¶ä¸­å¤§çº¦%9å·²ç”±IANAæ³¨å†Œåˆ†é…<br>
49152-65535ä¸ºç§æœ‰æˆ–ä¸´æ—¶ç«¯å£</p>

<p><a href="javascript:if(confirm('https://www.aardio.com/zh-cn/doc/library-reference/wsock/tcp/simpleHttpServer.md  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª Ëü²»ÔÚÏîÄ¿ÎÄ¼şÀàĞÍ¹æ·¶ÄÚ¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://www.aardio.com/zh-cn/doc/library-reference/wsock/tcp/simpleHttpServer.md'" tppabs="https://www.aardio.com/zh-cn/doc/library-reference/wsock/tcp/simpleHttpServer.md">Markdown æ ¼å¼</a></p>

</body> 
</html>