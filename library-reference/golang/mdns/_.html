
<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="robots" content="index, follow">
<meta name='description' content='aardio 编程语言文档 - golang.mdns 库模块帮助文档'>
<meta http-equiv='content-language' content='zh-cn'>
<title>aardio 编程语言文档 - golang.mdns 库模块帮助文档</title> 
<link rel="stylesheet" href="../../../css/markdown.css" tppabs="https://www.aardio.com/zh-cn/doc/css/markdown.css">
<script src="../../../js/prism.js" tppabs="https://www.aardio.com/zh-cn/doc/js/prism.js"></script>
<link rel="stylesheet" href="../../../../../../lib.baomitu.com/font-awesome/6.6.0/css/fontawesome.min.css" tppabs="https://lib.baomitu.com/font-awesome/6.6.0/css/fontawesome.min.css">
<link rel="stylesheet" href="../../../../../../lib.baomitu.com/font-awesome/6.6.0/css/solid.min.css" tppabs="https://lib.baomitu.com/font-awesome/6.6.0/css/solid.min.css">
</head>
<body class="markdown-body"><a id="back-to-home" href="../../../index.htm" tppabs="https://www.aardio.com/zh-cn/doc/" title="aardio 编程语言文档首页"><i class="fas fa-home" id="home-icon"></i><i class="fas fa-robot" id="ai-icon" style="display: none;"></i><span id="aardio-document-home">aardio 文档</span></a>
<h1>golang.mdns 库模块帮助文档</h1>

<p><a id="golang.mdns"></a></p>

<h2>golang.mdns 成员列表</h2>

<p>一定要在主线程导入一次，且主线程不能退出太快。<br>
Go 编写的 DLL 仅在工作线程中加载可能会导致程序异常退出</p>

<p><a id="golang.mdns.getInterfaces"></a></p>

<h3>golang.mdns.getInterfaces()</h3>

<p>返回所有网卡信息数组。<br>
数组中的网卡信息是表对象，所有字段名首字母大写</p>

<p><a id="golang.mdns.lookup"></a></p>

<h3>golang.mdns.lookup</h3>

<p>mDNS 简单查询</p>

<p><a id="golang.mdns.lookup"></a></p>

<h3>golang.mdns.lookup(service,max)</h3>

<p>mDNS 简单查询，<br>
@service 指定服务名，<br>
可选用 @max 指定最大允许返回的查询结果数  </p>

<p>查询成功返回服务信息数组，<br>
失败返回 null，错误信息。<br>
服务器信息包含 name,host,addr,port,info,InfoFields 字段，<br>
name 为域名，host 为主机名，addr 为 IP 地址数组，port 为端口</p>

<p><a id="golang.mdns.query"></a></p>

<h3>golang.mdns.query</h3>

<p>mDNS 查询</p>

<p><a id="golang.mdns.query"></a></p>

<h3>golang.mdns.query(param)</h3>

<p>mDNS 查询，@param 是指定查询条件的表参数，<br>
必须用 service 字段指定查询服务类型，例如：&quot;_services._dns-sd._udp&quot;<br>
可选用 domain 字段指定域名，省略则默认为 local，<br>
可选用 name 字段指定子域名，<br>
完整服务名为 name + service + domain。<br>
可选用 timeout 字段指定查询超时，以毫秒为单位，省略则默认为 2 秒。<br>
可选用 interface 指定使用的网卡名称。<br>
可调用 golang.mdns.getInterfaces 函数得到所有网卡</p>

<p><a id="golang.mdns.scan"></a></p>

<h3>golang.mdns.scan()</h3>

<p>扫描 mDNS 服务，<br>
查询成功返回服务信息数组，<br>
失败返回 null，错误信息</p>

<p><a id="golang.mdns.startService"></a></p>

<h3>golang.mdns.startService</h3>

<p>创建 mDNS 服务</p>

<p><a id="golang.mdns.startService"></a></p>

<h3>golang.mdns.startService(param)</h3>

<pre><code class="aardio language-aardio">golang.mdns.startService(   
    instance = &quot;实例名&quot;;  
    service = &quot;服务名/*指定要启动的 mDNS 服务名*/&quot;;  
    domain = &quot;域名，建议省略，默认为 local.&quot;;  
    host = &quot;主机名，建议省略&quot;;  
    ips = {&quot;IP地址&quot;};  
    port = 端口;  
    txt = {&quot;文本&quot;}  
)
</code></pre>

<p><a id="golang.mdns.stopService"></a></p>

<h3>golang.mdns.stopService()</h3>

<p>停止 mDNS 服务</p>

<p><a href="https://www.aardio.com/zh-cn/doc/library-reference/golang/mdns/_.md">Markdown 格式</a></p>

</body> 
</html>