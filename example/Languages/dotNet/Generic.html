
<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="robots" content="index, follow">
<meta name='description' content='aardio ç¼–ç¨‹è¯­è¨€èŒƒä¾‹ - åœ¨ aardio ä¸­æ˜¾å¼æ„å»º .NET æ³›å‹ - å¼‚æ­¥ä»»åŠ¡ç¤ºä¾‹'>
<meta http-equiv='content-language' content='zh-cn'>
<title>aardio ç¼–ç¨‹è¯­è¨€èŒƒä¾‹ - åœ¨ aardio ä¸­æ˜¾å¼æ„å»º .NET æ³›å‹ - å¼‚æ­¥ä»»åŠ¡ç¤ºä¾‹</title> 
<link rel="stylesheet" href="../../../css/markdown.css" tppabs="https://www.aardio.com/zh-cn/doc/css/markdown.css">
<script src="../../../js/prism.js" tppabs="https://www.aardio.com/zh-cn/doc/js/prism.js"></script>
<link rel="stylesheet" href="../../../../../../lib.baomitu.com/font-awesome/6.6.0/css/fontawesome.min.css" tppabs="https://lib.baomitu.com/font-awesome/6.6.0/css/fontawesome.min.css">
<link rel="stylesheet" href="../../../../../../lib.baomitu.com/font-awesome/6.6.0/css/solid.min.css" tppabs="https://lib.baomitu.com/font-awesome/6.6.0/css/solid.min.css">
</head>
<body class="markdown-body"><a id="back-to-home" href="../../../index.htm" tppabs="https://www.aardio.com/zh-cn/doc/" title="aardio ç¼–ç¨‹è¯­è¨€æ–‡æ¡£é¦–é¡µ"><i class="fas fa-home" id="home-icon"></i><i class="fas fa-robot" id="ai-icon" style="display: none;"></i><span id="aardio-document-home">aardio æ–‡æ¡£</span></a>
<h1>aardio èŒƒä¾‹: åœ¨ aardio ä¸­æ˜¾å¼æ„å»º .NET æ³›å‹ - å¼‚æ­¥ä»»åŠ¡ç¤ºä¾‹</h1><pre><code class="aardio language-aardio">//åœ¨ aardio ä¸­æ˜¾å¼æ„å»º .NET æ³›å‹ - å¼‚æ­¥ä»»åŠ¡ç¤ºä¾‹
import win.ui;
/*DSG{{*/
var winform = win.form(text=&quot;æ³›å‹ / å¼‚æ­¥ä»»åŠ¡&quot;;right=759;bottom=469)
winform.add(
edit={cls=&quot;edit&quot;;left=9;top=9;right=743;bottom=445;edge=1;multiline=1;z=1}
)
/*}}*/

winform.show();

import dotNet; 
var Task = System.Threading.Tasks.Task;

/*
$å¼€å¤´çš„ .NET ç±»åæˆ–å‡½æ•°åè¡¨ç¤ºåˆ›å»ºæ³›å‹ç±»æˆ–å‡½æ•°ï¼ˆæ„é€ å…·ä½“ç±»å‹ï¼‰ï¼Œ
å‚æ•°ä¸ºä¸€ä¸ªæˆ–å¤šä¸ª.NETç±»æˆ–ç±»å‹åç§°ï¼ˆå­—ç¬¦ä¸²ï¼‰å‚æ•°ã€‚

æ”¯æŒä»¥ä¸‹å†™æ³•ï¼š
Task.$Run(&quot;System.Int32&quot;)  
Task.$Run(System.Int32) 
Task.$Run(0) //ä¼ å…¥å…¶ä»–å‚è±¡ï¼Œè‡ªåŠ¨è·å–è¯¥å¯¹è±¡çš„ .NET ç±»å‹ã€‚ 
Task.Run.$(System.Int32)  //Task.Run æ˜¯ä¸€ä¸ªç±»æ‰èƒ½è¿™æ ·å†™

ä¸€å®šè¦åœ¨ç•Œé¢çº¿ç¨‹ä¸­åˆ›å»ºå¼‚æ­¥ä»»åŠ¡ï¼Œ.NET 4.5 å¼€å§‹æ”¯æŒ Task.Runã€‚
*/
var taskRun = Task.$Run(System.Int32);//ç¼“å­˜æ³›å‹å®ä¾‹ï¼Œé¿å…é‡å¤æŸ¥è¯¢

var task = taskRun( 
    function() {
        /*
        æ¨¡æ‹Ÿä¸€äº›å·¥ä½œï¼Œ
        æ³¨æ„ï¼Œæ— è®º .NET è°ƒç”¨æ˜¯åœ¨å“ªä¸ªçº¿ç¨‹ï¼Œ
        aardio å›è°ƒæ€»æ˜¯åœ¨è°ƒç”¨ .NET çš„åŒä¸€çº¿ç¨‹æ‰§è¡Œã€‚
        */
        thread.delay(1000); 
        return 42;
    }
);

//task æ˜¯å¼‚æ­¥ä»»åŠ¡ï¼Œä»»åŠ¡å®Œæˆä»¥åå›è°ƒä»¥ä¸‹å‡½æ•°
task.ContinueWith( 
    function(t) { 
        if(t.IsFaulted){
            //winform.edit.log(&quot;å‡ºé”™äº†&quot;,tostring(t.Exception))
            winform.edit.log(t.Exception.Message)
        }
        elseif(!t.IsCanceled){
            var result = t.Result;
            winform.edit.print(&quot;task.ContinueWith å®Œæˆäº†ï¼Œè¿”å›å€¼&quot;,result) 
        } 
    }
)  

//ä¹Ÿå¯ä»¥åŒæ­¥ç­‰å¾…ä»»åŠ¡å®Œæˆï¼Œä¸ä¼šé˜»å¡ç•Œé¢
if( dotNet.wait(task,winform) ){
    winform.edit.print( &quot;dotNet.wait å®Œæˆäº†ï¼Œè¿”å›å€¼&quot;,task.Result)    
}

//C# ä»£ç å¯ä»¥ä¸‹é¢è¿™æ ·å¼‚æ­¥è½¬åŒæ­¥ï¼Œå–æ¶ˆå’Œå¤±è´¥ä¼šæŠ›å‡ºå¼‚å¸¸
//var result = task.GetAwaiter().GetResult(); 

win.loopMessage();

</code></pre>
<a href="javascript:if(confirm('https://www.aardio.com/zh-cn/doc/example/Languages/dotNet/Generic.md  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª Ëü²»ÔÚÏîÄ¿ÎÄ¼şÀàĞÍ¹æ·¶ÄÚ¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://www.aardio.com/zh-cn/doc/example/Languages/dotNet/Generic.md'" tppabs="https://www.aardio.com/zh-cn/doc/example/Languages/dotNet/Generic.md">Markdown æ ¼å¼</a>
</body> 
</html>