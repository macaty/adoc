
<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="robots" content="index, follow">
<meta name='description' content='aardio ç¼–ç¨‹è¯­è¨€èŒƒä¾‹ - aardio è°ƒç”¨ .NET(C#) ä¹‹ lambda å‡½æ•°'>
<meta http-equiv='content-language' content='zh-cn'>
<title>aardio ç¼–ç¨‹è¯­è¨€èŒƒä¾‹ - aardio è°ƒç”¨ .NET(C#) ä¹‹ lambda å‡½æ•°</title> 
<link rel="stylesheet" href="../../../../css/markdown.css" tppabs="https://www.aardio.com/zh-cn/doc/css/markdown.css">
<script src="../../../../js/prism.js" tppabs="https://www.aardio.com/zh-cn/doc/js/prism.js"></script>
<link rel="stylesheet" href="../../../../../../../lib.baomitu.com/font-awesome/6.6.0/css/fontawesome.min.css" tppabs="https://lib.baomitu.com/font-awesome/6.6.0/css/fontawesome.min.css">
<link rel="stylesheet" href="../../../../../../../lib.baomitu.com/font-awesome/6.6.0/css/solid.min.css" tppabs="https://lib.baomitu.com/font-awesome/6.6.0/css/solid.min.css">
</head>
<body class="markdown-body"><a id="back-to-home" href="../../../../index.htm" tppabs="https://www.aardio.com/zh-cn/doc/" title="aardio ç¼–ç¨‹è¯­è¨€æ–‡æ¡£é¦–é¡µ"><i class="fas fa-home" id="home-icon"></i><i class="fas fa-robot" id="ai-icon" style="display: none;"></i><span id="aardio-document-home">aardio æ–‡æ¡£</span></a>
<h1>aardio èŒƒä¾‹: è°ƒç”¨ .NET(C#) ä¹‹ lambda å‡½æ•°</h1><pre><code class="aardio language-aardio">//aardio è°ƒç”¨ .NET(C#) ä¹‹ lambda å‡½æ•°
import dotNet; 
var compiler = dotNet.createCompiler(&quot;C#&quot;);  
compiler.Source = /****** 
namespace CSharpLibrary
{ 
    public class Object
    {  
        public delegate int TestDelegate(int a,int b);

        public TestDelegate GetDelegate()
        {   
            //lambda è¡¨è¾¾å¼ï¼šç±»ä¼¼JavaScript çš„ç®­å¤´å‡½æ•°ï¼Œå…¶å®å°±æ˜¯ä¸ªåŒ¿åå‡½æ•°
            return (int a,int b)=&gt;{
                return a+b;
            };

            /*
            C#3.0(.NET 3.0) å¼€å§‹æ”¯æŒ lambda è¡¨è¾¾å¼ï¼Œæ³¨æ„ Win7è‡ªå¸¦.Net3.5ï¼ŒWin8,Win10,Win11 è‡ªå¸¦.Net 4.x
            å…¶å® C#2.0(.NET 2.0) å°±æ”¯æŒåŒ¿å delegateï¼Œåªæ˜¯å†™æ³•ä¸ä¸€æ ·ï¼Œä¾‹å¦‚ï¼š
            */ 
            return delegate (int a,int b) { return a+b; };
        } 

        /*
        C# ä¸­å‡½æ•°åªæ˜¯ä»£ç æ‰§è¡Œä½“ï¼Œå§”æ‰˜é‡Œæ‰å­˜æ”¾äº†å‡½æ•°çš„å€¼ï¼ˆæˆ–è€…è¯´å‡½æ•°åœ°å€ï¼‰ï¼Œ
        è€Œ  lambda å‡½æ•°å°†è¿™ä¸¤è€…åˆäºŒä¸ºä¸€ï¼Œè¿™æ›´åƒ aardio ä¸­çš„å‡½æ•°å¯¹è±¡ã€‚
        */
        public TestDelegate method = (int a,int b)=&gt;{
            return a+b;
        };

        public int SetDelegate(TestDelegate test){
            return test(2,3);
        }
    }
}
******/

/*
æ³¨æ„åœ¨ aardio ä¸­ç¼–è¯‘ï¼Œè°ƒç”¨çš„æ˜¯ CLRï¼Œè€Œ CLR åªæœ‰ 2.0 / 4.0 çš„åŒºåˆ«ï¼Œåªæ”¯æŒè¿™ä¸¤ä¸ªç‰ˆæœ¬çš„è¯­æ³•ã€‚
ä¾‹å¦‚å®‰è£…äº† .NET 3.5 ä½†æ²¡æœ‰å®‰è£… .NET 4.x ï¼Œé‚£ä¹ˆ CLR 2.0 ä¸‹ç¼–è¯‘å™¨ä¸æ”¯æŒ var ï¼Œlambda è¿™äº›è¯­æ³• (ä½†æ˜¯èƒ½è¿è¡Œç¼–è¯‘åçš„ DLL)ã€‚
Win10 è‡³å°‘è‡ªå¸¦ .NET 4.6ï¼ŒWin7 åœ¨å¸‚åœºä¸Šå·²ç»æ¥è¿‘æ¶ˆå¤±ï¼Œç°åœ¨å¼€å‘è½¯ä»¶å†å¤„å¤„è€ƒè™‘ Win7 å…¼å®¹æ˜¯ä¸å¿…è¦çš„ã€‚ 
*/

compiler.import(&quot;CSharpLibrary&quot;); //ç¼–è¯‘ C# ä»£ç å¹¶å¯¼å…¥åå­—ç©ºé—´
var netObj = CSharpLibrary.Object();//åˆ›å»º .NET å¯¹è±¡

//è°ƒç”¨ C# å‡½æ•°ï¼Œå¯ä»¥åœ¨è¿”å›å€¼é‡Œè¿”å› .NET å§”æ‰˜
var func = netObj.GetDelegate();   
var ret = func(1,2);//ç›´æ¥è°ƒç”¨ .NET å§”æ‰˜ã€‚

import console;
console.log(&quot;è°ƒç”¨ C# å§”æ‰˜çš„è¿”å›å€¼&quot;,ret);

//è°ƒç”¨ C# å¯¹è±¡æˆå‘˜å­—æ®µé‡Œå­˜å‚¨çš„ lambda å‡½æ•°ã€‚
var ret = netObj[&quot;method&quot;](22,33);
/*
æ³¨æ„ netObj.method(22,33) ä¼šç›´æ¥è°ƒç”¨æˆå‘˜å‡½æ•°è€Œä¸å–å‡½æ•°å€¼ã€‚
å¦‚æœ netObj.method ä¸æ˜¯ C# å‡½æ•°è€Œæ˜¯ lambda å€¼ï¼Œè¿™æ ·å†™ä¼šæŠ¥é”™ã€‚
æ‰€ä»¥æˆ‘ä»¬è¦å†™ä¸º netObj[&quot;method&quot;] å…ˆå–å‡º lambda å‡½æ•°ã€‚
*/

//C# å§”æ‰˜å‚æ•°å¯ä»¥æŒ‡å®š aardio ä¸­çš„ lambda å‡½æ•°
var ret = netObj.SetDelegate(
    lambda(a,b) a + b
)

//ä¸‹é¢çš„å†™æ³•ä¸ä¸Šé¢æ˜¯ç­‰ä»·çš„ï¼Œlambda å°±æ˜¯åŒ¿åå‡½æ•°ï¼Œåªæ˜¯å†™æ³•ä¸Šçš„åŒºåˆ«ã€‚
var ret = netObj.SetDelegate(
    function(a,b) {
        return a + b;
    }
)

console.log(ret);
console.pause();
</code></pre>
<a href="javascript:if(confirm('https://www.aardio.com/zh-cn/doc/example/Languages/dotNet/Delegate/lambda.md  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª Ëü²»ÔÚÏîÄ¿ÎÄ¼şÀàĞÍ¹æ·¶ÄÚ¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://www.aardio.com/zh-cn/doc/example/Languages/dotNet/Delegate/lambda.md'" tppabs="https://www.aardio.com/zh-cn/doc/example/Languages/dotNet/Delegate/lambda.md">Markdown æ ¼å¼</a>
</body> 
</html>