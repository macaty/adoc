
<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="robots" content="index, follow">
<meta name='description' content='aardio ç¼–ç¨‹è¯­è¨€èŒƒä¾‹ - aardio è°ƒç”¨ Go è¯­è¨€ - è¿›ç¨‹å¯åŠ¨å‚æ•°'>
<meta http-equiv='content-language' content='zh-cn'>
<title>aardio ç¼–ç¨‹è¯­è¨€èŒƒä¾‹ - aardio è°ƒç”¨ Go è¯­è¨€ - è¿›ç¨‹å¯åŠ¨å‚æ•°</title> 
<link rel="stylesheet" href="../../../css/markdown.css" tppabs="https://www.aardio.com/zh-cn/doc/css/markdown.css">
<script src="../../../js/prism.js" tppabs="https://www.aardio.com/zh-cn/doc/js/prism.js"></script>
<link rel="stylesheet" href="../../../../../../lib.baomitu.com/font-awesome/6.6.0/css/fontawesome.min.css" tppabs="https://lib.baomitu.com/font-awesome/6.6.0/css/fontawesome.min.css">
<link rel="stylesheet" href="../../../../../../lib.baomitu.com/font-awesome/6.6.0/css/solid.min.css" tppabs="https://lib.baomitu.com/font-awesome/6.6.0/css/solid.min.css">
</head>
<body class="markdown-body"><a id="back-to-home" href="../../../index.htm" tppabs="https://www.aardio.com/zh-cn/doc/" title="aardio ç¼–ç¨‹è¯­è¨€æ–‡æ¡£é¦–é¡µ"><i class="fas fa-home" id="home-icon"></i><i class="fas fa-robot" id="ai-icon" style="display: none;"></i><span id="aardio-document-home">aardio æ–‡æ¡£</span></a>
<h1>aardio èŒƒä¾‹: è°ƒç”¨ Go è¯­è¨€ - è¿›ç¨‹å¯åŠ¨å‚æ•°</h1><pre><code class="aardio language-aardio">//aardio è°ƒç”¨ Go è¯­è¨€ - è¿›ç¨‹å¯åŠ¨å‚æ•°
import golang;
var go = golang();//åˆ›å»º Go ç¼–è¯‘å™¨ï¼ˆ ä»…ä»…è°ƒç”¨ç¼–è¯‘åçš„ EXE ä¸éœ€è¦ ï¼‰

//Goæºç ä¸å­—ç¬¦ä¸²éƒ½æ˜¯ UTF-8 ç¼–ç ï¼Œè·Ÿ aardio ä¸€æ ·å¾ˆæ–¹ä¾¿
go.main  = /****************
package main

import (
    &quot;flag&quot;
    &quot;fmt&quot; 
    &quot;encoding/json&quot; 
)

//ç»“æ„ä½“ï¼Œå­—ç¬¦åçš„å­—ç¬¦ä¸² tag å¯ç”¨äºè¾…åŠ© JSON è½¬æ¢ã€‚
type Args struct {
    Num int  `json:&quot;num&quot;`
    Url string  `json:&quot;url&quot;`
    H bool  `json:&quot;h&quot;`
}

//ç”¨äºè·å–å‘½ä»¤è¡Œå‚æ•°
var args = Args{}

//åœ¨ main å‡½æ•°å‰æ‰§è¡Œ
func init() { 
    flag.BoolVar(&amp;args.H, &quot;H&quot;, false, &quot;å¸®åŠ©&quot;)
    flag.IntVar(&amp;args.Num, &quot;num&quot;, 0, &quot;è¯·è¾“å…¥æ•°å€¼&quot;)
    flag.StringVar(&amp;args.Url, &quot;url&quot;, &quot;https://www.aardio.com&quot;, &quot;è¯·è¾“å…¥ç½‘å€&quot;)
}

func main() {
    flag.Parse() //è§£æå‘½ä»¤è¡Œå‚æ•°

    if args.H {
        flag.Usage()
    } else { 
        //ç»“æ„ä½“è¾“å‡ºä¸º JSON
        var jsonParam, _ = json.Marshal(args) 
        fmt.Println(string(jsonParam)) 
    }
}
****************/ 

//ç¼–è¯‘ Go æºç ç”Ÿæˆ EXE æ–‡ä»¶
go.build(&quot;/.go/flag.go&quot;);

//-------------------------è°ƒç”¨ Go ç¨‹åº-----------------------

import console.int;
import process.popen;
import process.job.limitKill;

//æ‰“å¼€ Go è¿›ç¨‹è¿”å›ç®¡é“å¯¹è±¡ï¼Œè·¯å¾„é¦–å­—ç¬¦ä¸ºå•ä¸ªæ–œæ†æˆ–åæ–œæ†è¡¨ç¤ºåº”ç”¨ç¨‹åºæ ¹ç›®å½•ã€‚
var prcs,err = process.popen(&quot;/.go/flag.exe&quot;,{
    &quot;--num&quot;:123;
    &quot;--url&quot;:&quot;https://example.com&quot;
})

//åŠ å…¥ä½œä¸šå¯¹è±¡ã€‚ä¸»è¿›ç¨‹é€€å‡ºæ—¶é€€å‡º Go ç¨‹åºè‡ªåŠ¨é€€å‡ºã€‚
prcs.assignToJobObject(process.job.limitKill);

//è¯»å– Go ç¨‹åºè¾“å‡ºçš„ JSONï¼ŒJSON åå¿…é¡»æœ‰æ¢è¡Œç¬¦
var data = prcs.json();
console.dump(data);

/*
è¯·å‚è€ƒï¼š
èŒƒä¾‹ &gt; è°ƒç”¨å…¶ä»–è¯­è¨€ &gt; Go &gt; RPC
èŒƒä¾‹ &gt; è¿›ç¨‹ &gt; ç®¡é“
*/

</code></pre>
<a href="javascript:if(confirm('https://www.aardio.com/zh-cn/doc/example/Languages/Go/flag.md  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª Ëü²»ÔÚÏîÄ¿ÎÄ¼şÀàĞÍ¹æ·¶ÄÚ¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://www.aardio.com/zh-cn/doc/example/Languages/Go/flag.md'" tppabs="https://www.aardio.com/zh-cn/doc/example/Languages/Go/flag.md">Markdown æ ¼å¼</a>
</body> 
</html>