
<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="robots" content="index, follow">
<meta name='description' content='aardio ç¼–ç¨‹è¯­è¨€èŒƒä¾‹ - å®‰å“æ‰‹æœºæ‰«ç é…å¯¹ï¼Œæ— çº¿è°ƒè¯•'>
<meta http-equiv='content-language' content='zh-cn'>
<title>aardio ç¼–ç¨‹è¯­è¨€èŒƒä¾‹ - å®‰å“æ‰‹æœºæ‰«ç é…å¯¹ï¼Œæ— çº¿è°ƒè¯•</title> 
<link rel="stylesheet" href="../../../css/markdown.css" tppabs="https://www.aardio.com/zh-cn/doc/css/markdown.css">
<script src="../../../js/prism.js" tppabs="https://www.aardio.com/zh-cn/doc/js/prism.js"></script>
<link rel="stylesheet" href="../../../../../../lib.baomitu.com/font-awesome/6.6.0/css/fontawesome.min.css" tppabs="https://lib.baomitu.com/font-awesome/6.6.0/css/fontawesome.min.css">
<link rel="stylesheet" href="../../../../../../lib.baomitu.com/font-awesome/6.6.0/css/solid.min.css" tppabs="https://lib.baomitu.com/font-awesome/6.6.0/css/solid.min.css">
</head>
<body class="markdown-body"><a id="back-to-home" href="../../../index.htm" tppabs="https://www.aardio.com/zh-cn/doc/" title="aardio ç¼–ç¨‹è¯­è¨€æ–‡æ¡£é¦–é¡µ"><i class="fas fa-home" id="home-icon"></i><i class="fas fa-robot" id="ai-icon" style="display: none;"></i><span id="aardio-document-home">aardio æ–‡æ¡£</span></a>
<h1>aardio èŒƒä¾‹: å®‰å“æ‰‹æœºæ‰«ç é…å¯¹ï¼Œæ— çº¿è°ƒè¯•</h1><pre><code class="aardio language-aardio">//æ‰«ç é…å¯¹
import win.ui;
/*DSG{{*/
var winform = win.form(text=&quot;å®‰å“æ‰‹æœºæ‰«ç é…å¯¹ï¼Œæ— çº¿è°ƒè¯•&quot;;right=564;bottom=593;bgcolor=16777215)
winform.add(
button={cls=&quot;button&quot;;text=&quot;è¿æ¥åˆ° ...&quot;;left=299;top=542;right=530;bottom=575;db=1;disabled=1;dr=1;z=5};
edit={cls=&quot;edit&quot;;left=19;top=411;right=544;bottom=535;db=1;dl=1;dr=1;edge=1;hscroll=1;multiline=1;vscroll=1;z=2};
editPort={cls=&quot;edit&quot;;left=158;top=546;right=274;bottom=573;db=1;dr=1;edge=1;num=1;z=3};
plus={cls=&quot;plus&quot;;left=19;top=22;right=544;bottom=400;db=1;dl=1;dr=1;dt=1;repeat=&quot;scale&quot;;z=1};
static={cls=&quot;static&quot;;text=&quot;è¯·è¾“å…¥è¿æ¥ç«¯å£ï¼š&quot;;left=9;top=550;right=139;bottom=574;align=&quot;right&quot;;db=1;dr=1;transparent=1;z=4}
)
/*}}*/

/*
adb æ–‡æ¡£ï¼š http://developer.android.com/tools/help/adb.html
process.adb.startServer å¯åŠ¨ adb æœåŠ¡ç«¯ï¼Œè¿™ä¸ªå‡½æ•°å®é™…ä¸Šä¼šè‡ªåŠ¨è°ƒç”¨ä¸€æ¬¡ï¼Œ
adb éœ€è¦ä¸€ä¸ªå¸¸é©»æœåŠ¡ç«¯ï¼ˆå¯åŠ¨ä¸€ä¸ª adb.exe è¿›ç¨‹ï¼‰ï¼Œä¹Ÿåªèƒ½æœ‰ä¸€ä¸ªæœåŠ¡è¿›ç¨‹ï¼Œå¤šä¸ªä¼šå·¥ä½œä¸æ­£å¸¸ã€‚
è¿™ä¸ªæ‰©å±•åº“ä¼šè‡ªåŠ¨æŸ¥æ‰¾ä¹‹å‰å¯åŠ¨çš„ adb æœåŠ¡ç«¯ï¼Œå¦‚æœæ‰¾åˆ°å°±ç›´æ¥é‡ç”¨ã€‚
è¿›ç¨‹é€€å‡ºæ—¶ä¸ä¼šé€€å‡ºå¸¸é©»æœåŠ¡ç«¯ï¼ˆä¸€èˆ¬æ— æ­¤å¿…è¦ï¼‰

æ¯æ¬¡å‘é€ adb æŒ‡ä»¤æ—¶ä¹Ÿä¼šå¯åŠ¨ä¸€ä¸ª adb å®¢æˆ·ç«¯ï¼Œè¿™ä¹Ÿæ˜¯ä¸€ä¸ª adb.exe è¿›ç¨‹ã€‚
æ‰€æœ‰ adb å®¢æˆ·ç«¯åœ¨æ‰§è¡Œå®Œæˆåï¼Œæˆ–å½“å‰è¿›ç¨‹é€€å‡ºåå°†ä¼šè‡ªåŠ¨å…³é—­ï¼ˆç”± process.job.limitKill å®ç°ï¼‰ã€‚
*/
import process.adb;
winform.button.oncommand = function(id,event){

    var str = process.adb.connect(owner.adbInfo.addr + &quot;:&quot; + winform.editPort.text,true);
    if(str){
        winform.msgbox(str)

        //æ‰§è¡Œ shell å‘½ä»¤
        var adb = process.adb.shell(&quot;ls&quot;); 
        var out = adb.readAll(); //è¯»å–è¿›ç¨‹è¾“å‡ºï¼Œadb æ˜¯ä¸€ä¸ª process.popen å¯¹è±¡ï¼Œè¯·å‚è€ƒè¯¥åº“å‡½æ•°æ–‡æ¡£ã€‚
        winform.edit.print(out);

        //ä¸Šä¼ æ–‡ä»¶
        //process.adb.push( &quot;/abc.txt&quot;,&quot;/mnt/sdcard/abc.text&quot; ); 
    } 
    else {
        winform.msgboxErr(&quot;è¿æ¥å¤±è´¥ï¼Œè¯·è¾“å…¥æ­£ç¡®ç«¯å£&quot;)
    }
}

winform.onAdbPair = function(info){
    if(info){
        winform.edit.print(&quot;é…å¯¹æˆåŠŸï¼š&quot;,info);
        winform.button.text = &quot;è¿æ¥åˆ°ï¼š&quot; + info.addr;
        winform.button.adbInfo = info;
        winform.button.disabled = false;
    }

    return true;//è¿”å› false åœæ­¢æ­¤äºŒç»´ç çš„è‡ªåŠ¨é…å¯¹
}

import process.adb.qrCode;
var qrBmp = process.adb.qrCode(winform );
winform.plus.setBackground(qrBmp.copyBitmap(winform.plus.width));

winform.edit.text = /*
æ‰‹æœºä¸ç”µè„‘è¿æ¥åˆ°åŒä¸€æ— çº¿å±€åŸŸç½‘ï¼Œ
ç„¶åæ‰“å¼€å®‰å“æ‰‹æœº &gt; è®¾ç½® &gt; å¼€å‘è€…é€‰é¡¹ &gt; æ— çº¿è°ƒè¯• &gt; æ‰«äºŒç»´ç é…å¯¹
*/

winform.show() 
win.loopMessage();
</code></pre>
<a href="javascript:if(confirm('https://www.aardio.com/zh-cn/doc/example/Network/adb/pair.md  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª Ëü²»ÔÚÏîÄ¿ÎÄ¼şÀàĞÍ¹æ·¶ÄÚ¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://www.aardio.com/zh-cn/doc/example/Network/adb/pair.md'" tppabs="https://www.aardio.com/zh-cn/doc/example/Network/adb/pair.md">Markdown æ ¼å¼</a>
</body> 
</html>