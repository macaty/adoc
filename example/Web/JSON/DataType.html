
<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="robots" content="index, follow">
<meta name='description' content='aardio ç¼–ç¨‹è¯­è¨€èŒƒä¾‹ - web.json åº“ -  ç‰¹æ®Šæ•°æ®ç±»å‹'>
<meta http-equiv='content-language' content='zh-cn'>
<title>aardio ç¼–ç¨‹è¯­è¨€èŒƒä¾‹ - web.json åº“ -  ç‰¹æ®Šæ•°æ®ç±»å‹</title> 
<link rel="stylesheet" href="../../../css/markdown.css" tppabs="https://www.aardio.com/zh-cn/doc/css/markdown.css">
<script src="../../../js/prism.js" tppabs="https://www.aardio.com/zh-cn/doc/js/prism.js"></script>
<link rel="stylesheet" href="../../../../../../lib.baomitu.com/font-awesome/6.6.0/css/fontawesome.min.css" tppabs="https://lib.baomitu.com/font-awesome/6.6.0/css/fontawesome.min.css">
<link rel="stylesheet" href="../../../../../../lib.baomitu.com/font-awesome/6.6.0/css/solid.min.css" tppabs="https://lib.baomitu.com/font-awesome/6.6.0/css/solid.min.css">
</head>
<body class="markdown-body"><a id="back-to-home" href="../../../index.htm" tppabs="https://www.aardio.com/zh-cn/doc/" title="aardio ç¼–ç¨‹è¯­è¨€æ–‡æ¡£é¦–é¡µ"><i class="fas fa-home" id="home-icon"></i><i class="fas fa-robot" id="ai-icon" style="display: none;"></i><span id="aardio-document-home">aardio æ–‡æ¡£</span></a>
<h1>aardio èŒƒä¾‹: web.json åº“ -  ç‰¹æ®Šæ•°æ®ç±»å‹</h1><pre><code class="aardio language-aardio">//web.json åº“ -  ç‰¹æ®Šæ•°æ®ç±»å‹
import console;
import web.json;

/*
åœ¨ aardio ä¸­å¯¹è±¡ä¸æ•°ç»„çš„æ•°æ®ç±»å‹éƒ½æ˜¯ &quot;table&quot;ã€‚
æ‰€ä»¥åœ¨ aardio ä¸­ç©ºå¯¹è±¡ä¸ç©ºæ•°ç»„éƒ½æ˜¯ {} ã€‚

ä½¿ç”¨ table.array() åˆ™å¯ä»¥åˆ›å»º JSON å…¼å®¹çš„ç©ºæ•°ç»„ã€‚ 
web.json ä¹Ÿä¼šå°† JSON ä¸­çš„ &quot;[]&quot; è§£æä¸º table.array() åˆ›å»ºçš„ç©ºæ•°ç»„ã€‚
*/

//å®šä¹‰ JSON
var json = &quot;{ items = [] }&quot;;

//è½¬æ¢ä¸ºå¯¹è±¡ï¼Œitems è§£æä¸º table.array() åˆ›å»ºçš„ç©ºæ•°ç»„ã€‚
var object = web.json.parse(json);

//æ·»åŠ æ•°ç»„å­—æ®µ
object.items2 = table.array(); //ç©ºæ•°ç»„
object.items3 = {1,2,3}; //éç©ºæ•°ç»„ç›´æ¥å…¼å®¹

//è½¬æ¢ä¸ºæ•°ç»„
var json = web.json.stringify(object);
console.log(json)

//web.json.stringifyArray æ€»æ˜¯å°†å‚æ•°è§†ä¸ºæ•°ç»„å¤„ç†ã€‚
var json = web.json.stringifyArray({});
console.log(json)

/*
åœ¨ aardio ä¸­ null æ˜¯ä¸€ä¸ªä¸å­˜åœ¨çš„å€¼ã€‚
ä¾‹å¦‚ { name = null } ç­‰ä»·äºç©ºè¡¨ {} ã€‚

è€Œåœ¨ JSON ä¸­æˆ‘ä»¬æœ‰æ—¶å€™éœ€è¦ä¿å­˜ null å€¼ã€‚
aardio é€šè¿‡åœ¨å…ƒè¡¨çš„ _defined å­—æ®µä¸­æŒ‡å®šå¿…é¡»ä¿å­˜ null å€¼çš„å­—æ®µåã€‚
å¯ä»¥è°ƒç”¨ table.define() å®šä¹‰éœ€è¦ä¿ç•™ null å€¼çš„é”®åï¼ˆå¯ä»¥é‡å¤è°ƒç”¨ä»¥æ·»åŠ é”®åï¼‰ã€‚
web.json æˆ– table.eachName æ”¯æŒ _defined å…ƒå±æ€§ã€‚
*/

//å®šä¹‰ JSON
var json = &quot;{name:null,age:22}&quot;;

//è§£æä¸ºå¯¹è±¡
var object = web.json.parse(json);

//ç”Ÿæˆ JSON 
var json = web.json.stringify(object);

console.log(json);

/*
æ—¶é—´å¯¹è±¡ä¸ JS è¯­è¨€ç›¸åŒè½¬æ¢ä¸º ISO8601 æ ¼å¼å­—ç¬¦ä¸²ã€‚
time å¯¹è±¡ä¸ JS ä¸€æ ·åªè´Ÿè´£å­—ç¬¦ä¸²åŒ–,ä¸è´Ÿè´£åœ¨è§£æ JSON æ—¶è‡ªåŠ¨è¿˜åŸã€‚
åº”ä½¿ç”¨ time.iso8601 å‡½æ•°è§£æ iso8601 æ ¼å¼çš„æ—¶é—´ã€‚
*/

//å®šä¹‰å¯¹è±¡
var object = { time = time() };

//ç”Ÿæˆ JSON 
var json = web.json.stringify(object);

//è§£æä¸ºå¯¹è±¡
var object = web.json.parse(json);

var tm = time.iso8601(object.time);
console.log( tostring(tm,&quot;%c&quot;)  )


/*
buffer ç±»ä¸ node.js ä¸­çš„ Buffer ç±»è½¬æ¢ç»“æœç±»ä¼¼ã€‚
{&quot;data&quot;:[230,181,139],&quot;type&quot;:&quot;Buffer&quot;}
å…¶ä¸­ type æŒ‡æ˜ç±»å‹,data ä¸º buffer å­—èŠ‚æ•°ç»„çš„å€¼ã€‚

buffer,

åœ¨ raw.buffer çš„å‚æ•°ä¸­ä½¿ç”¨ç»“æ„ä½“è¿˜åŸå­—èŠ‚æ•°ç»„ã€‚
*/

//å®šä¹‰ buffer
var buffer = raw.buffer(&quot;abc&quot;);

//ç”Ÿæˆ JSON 
var json = web.json.stringify(buffer);

//è§£æä¸ºå¯¹è±¡
var bufferObject = web.json.parse(json);

//å¯ä»¥ä½œä¸ºå‚æ•°å¿«é€Ÿè¿˜åŸä¸º buffer
var buffer = raw.buffer(bufferObject)

console.log(buffer);  
console.pause()
</code></pre>
<a href="javascript:if(confirm('https://www.aardio.com/zh-cn/doc/example/Web/JSON/DataType.md  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª Ëü²»ÔÚÏîÄ¿ÎÄ¼şÀàĞÍ¹æ·¶ÄÚ¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://www.aardio.com/zh-cn/doc/example/Web/JSON/DataType.md'" tppabs="https://www.aardio.com/zh-cn/doc/example/Web/JSON/DataType.md">Markdown æ ¼å¼</a>
</body> 
</html>