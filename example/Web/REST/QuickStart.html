
<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="robots" content="index, follow">
<meta name='description' content='aardio ç¼–ç¨‹è¯­è¨€èŒƒä¾‹ - ç”¨ web.rest å®¢æˆ·ç«¯è°ƒç”¨ HTTP API - å…¥é—¨'>
<meta http-equiv='content-language' content='zh-cn'>
<title>aardio ç¼–ç¨‹è¯­è¨€èŒƒä¾‹ - ç”¨ web.rest å®¢æˆ·ç«¯è°ƒç”¨ HTTP API - å…¥é—¨</title> 
<link rel="stylesheet" href="../../../css/markdown.css" tppabs="https://www.aardio.com/zh-cn/doc/css/markdown.css">
<script src="../../../js/prism.js" tppabs="https://www.aardio.com/zh-cn/doc/js/prism.js"></script>
<link rel="stylesheet" href="../../../../../../lib.baomitu.com/font-awesome/6.6.0/css/fontawesome.min.css" tppabs="https://lib.baomitu.com/font-awesome/6.6.0/css/fontawesome.min.css">
<link rel="stylesheet" href="../../../../../../lib.baomitu.com/font-awesome/6.6.0/css/solid.min.css" tppabs="https://lib.baomitu.com/font-awesome/6.6.0/css/solid.min.css">
</head>
<body class="markdown-body"><a id="back-to-home" href="../../../index.htm" tppabs="https://www.aardio.com/zh-cn/doc/" title="aardio ç¼–ç¨‹è¯­è¨€æ–‡æ¡£é¦–é¡µ"><i class="fas fa-home" id="home-icon"></i><i class="fas fa-robot" id="ai-icon" style="display: none;"></i><span id="aardio-document-home">aardio æ–‡æ¡£</span></a>
<h1>aardio èŒƒä¾‹: ç”¨ web.rest å®¢æˆ·ç«¯è°ƒç”¨ HTTP API - å…¥é—¨</h1><pre><code class="aardio language-aardio">//ç”¨ web.rest å®¢æˆ·ç«¯è°ƒç”¨ HTTP API - å…¥é—¨
import console;
console.showLoading(&quot; æ­£åœ¨è¿æ¥æœåŠ¡å™¨&quot;)

import web.rest.jsonLiteClient;

/*
åˆ›å»º HTTP( REST ) å®¢æˆ·ç«¯ã€‚
è¯·æ±‚ä¸ºç½‘é¡µè¡¨å•ç¼–ç ï¼Œå“åº”æ•°æ®ç›´æ¥è¿”å›ï¼Œä½¿ç”¨ web.rest.client
è¯·æ±‚ä¸ºç½‘é¡µè¡¨å•ç¼–ç ï¼Œå“åº”æ•°æ®ä¸º JSONï¼Œä½¿ç”¨ web.rest.jsonLiteClient
è¯·æ±‚ä¸å“åº”æ•°æ®éƒ½æ˜¯ JSONï¼Œä½¿ç”¨ web.rest.jsonClient

web.rest å…¥é—¨æ•™ç¨‹ï¼š
https://www.aardio.com/zh-cn/doc/library-guide/std/web/rest/client.html
*/
var http = web.rest.jsonLiteClient();

//å£°æ˜ HTTP æ¥å£å¯¹è±¡
var api = http.api(&quot;http://httpbin.org/anything/&quot;)

/*
è°ƒç”¨ HTTP æ¥å£å‡½æ•°ï¼ˆå·²ç»è‡ªåŠ¨è½¬æ¢ä¸ºäº†æœ¬åœ°å‡½æ•°ï¼‰ã€‚
è¿”å› JSON è‡ªåŠ¨è½¬æ¢ä¸ºäº† aardio å¯¹è±¡ã€‚
*/ 
var ret = api.object.method({
    name = &quot;ç”¨æˆ·å&quot;;
    data = &quot;å…¶ä»–æ•°æ®&quot;;
});

/*
ä¸Šé¢çš„å‡½æ•°è‡ªåŠ¨åšäº†å‡ ä»¶äº‹ï¼š

1ã€å°† api.object.method çš„è¯·æ±‚ç½‘å€è‡ªåŠ¨è½¬æ¢ä¸º
&quot;http://httpbin.org/anything/object/method&quot;
HTTP æ¥å£å¯¹è±¡çš„æ¯ä¸ªä¸‹çº§æˆå‘˜åéƒ½è¿½åŠ åœ¨ç½‘å€å°¾éƒ¨

2ã€å°†å‡½æ•°å‚æ•°æŒ‰è¡¨å•ç¼–ç è½¬æ¢ä¸ºå­—ç¬¦ä¸²æäº¤ã€‚

3ã€è§£ææœåŠ¡å™¨è¿”å›çš„ JSON ï¼Œå¹¶ä½œä¸ºå‡½æ•°è¿”å›å€¼è¿”å›ã€‚
*/

//å‘é€ GET è¯·æ±‚
var ret = api.name.get( a = 1,b = 2);

//å‘é€ POST è¯·æ±‚
//var ret = api.name.post( a = 1,b = 2);

//å‘é€ PATCH è¯·æ±‚
//var ret = api.name.patch( a = 1,b = 2);

//å‘é€ PUT è¯·æ±‚
//var ret = api.name.put( a = 1,b = 2);

//å‘é€ DELETE è¯·æ±‚
//var ret,err = api.name.delete( a = 1,b = 2);

//ç¬¬ä¸€ä¸ªè¿”å›å€¼å¯è½¬æ¢ä¸ºé€»è¾‘çœŸè¡¨ç¤º API è°ƒç”¨æˆåŠŸ
if(ret){
    //è¾“å‡ºæœåŠ¡ç«¯è¿”å›å¯¹è±¡ â€”â€” è¿™ä¸ªæ¥å£è¿”å›çš„æ˜¯ HTTP è¯·æ±‚ä¿¡æ¯ 
    console.dumpJson(ret);
}
else {
    //err ä¸ºé”™è¯¯ä¿¡æ¯ï¼ˆå­—ç¬¦ä¸²ï¼‰
    console.log(err) //å¯èƒ½ä¸ºæœ¬åœ°é”™è¯¯ï¼Œä¹Ÿå¯èƒ½æ˜¯æœåŠ¡å™¨åº”ç­”çš„é”™è¯¯ä¿¡æ¯

    /*
    è¿”å›æœåŠ¡å™¨åº”ç­”çš„é”™è¯¯å¯¹è±¡ï¼Œå¦‚æœä¹Ÿæ˜¯æ­¤å®¢æˆ·ç«¯å¯è§£æçš„å“åº”æ ¼å¼ï¼ˆè¿™é‡ŒæŒ‡ JSON ï¼‰åˆ™è§£æå¹¶è¿”å›è§£æç»“æœã€‚
    å¦‚æœå‘ç”Ÿäº†å…¶ä»–é”™è¯¯ï¼ŒæœåŠ¡å™¨å¹¶æœªåº”ç­”åˆ™è¿”å› null ã€‚
    å¦‚æœè¯·æ±‚æˆåŠŸåˆ™è¿”å› null ã€‚
    */
    var errObject = http.lastResponseError();

    //ä¹Ÿè¦å§æŒ‡å®šè¦è¿”å›çš„å­—æ®µï¼Œå¦‚æœæ‰¾ä¸åˆ°è¿”å› null ï¼Œä¸ä¼šæŠ›å‡ºå¼‚å¸¸
    var errorMessage = http.lastResponseError(&quot;error&quot;);
}

console.pause();
</code></pre>
<a href="javascript:if(confirm('https://www.aardio.com/zh-cn/doc/example/Web/REST/QuickStart.md  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª Ëü²»ÔÚÏîÄ¿ÎÄ¼şÀàĞÍ¹æ·¶ÄÚ¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://www.aardio.com/zh-cn/doc/example/Web/REST/QuickStart.md'" tppabs="https://www.aardio.com/zh-cn/doc/example/Web/REST/QuickStart.md">Markdown æ ¼å¼</a>
</body> 
</html>