
<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="robots" content="index, follow">
<meta name='description' content='aardio ç¼–ç¨‹è¯­è¨€èŒƒä¾‹ - çº¿ç¨‹å…±äº«å˜é‡'>
<meta http-equiv='content-language' content='zh-cn'>
<title>aardio ç¼–ç¨‹è¯­è¨€èŒƒä¾‹ - çº¿ç¨‹å…±äº«å˜é‡</title> 
<link rel="stylesheet" href="../../../css/markdown.css" tppabs="https://www.aardio.com/zh-cn/doc/css/markdown.css">
<script src="../../../js/prism.js" tppabs="https://www.aardio.com/zh-cn/doc/js/prism.js"></script>
<link rel="stylesheet" href="../../../../../../lib.baomitu.com/font-awesome/6.6.0/css/fontawesome.min.css" tppabs="https://lib.baomitu.com/font-awesome/6.6.0/css/fontawesome.min.css">
<link rel="stylesheet" href="../../../../../../lib.baomitu.com/font-awesome/6.6.0/css/solid.min.css" tppabs="https://lib.baomitu.com/font-awesome/6.6.0/css/solid.min.css">
</head>
<body class="markdown-body"><a id="back-to-home" href="../../../index.htm" tppabs="https://www.aardio.com/zh-cn/doc/" title="aardio ç¼–ç¨‹è¯­è¨€æ–‡æ¡£é¦–é¡µ"><i class="fas fa-home" id="home-icon"></i><i class="fas fa-robot" id="ai-icon" style="display: none;"></i><span id="aardio-document-home">aardio æ–‡æ¡£</span></a>
<h1>aardio èŒƒä¾‹: çº¿ç¨‹å…±äº«å˜é‡</h1><pre><code class="aardio language-aardio">//çº¿ç¨‹å…±äº«å˜é‡
import console.int;
import thread.table;

//çº¿ç¨‹éƒ½ç‹¬äº«å…¨å±€å˜é‡ç¯å¢ƒï¼Œä¸‹é¢åˆ›å»ºä¸€ä¸ªå¤šçº¿ç¨‹å…±äº«å˜é‡ã€‚
var thrdVar = thread.var();
thread.invokeAndWait(
    function(thrdVar){

        //ä¿®æ”¹çº¿ç¨‹å…±äº«å˜é‡çš„å€¼
        thrdVar.set(123456);

    },thrdVar//çº¿ç¨‹å˜é‡å¯ä»¥ä¼ å…¥å…¶ä»–çº¿ç¨‹ä½¿ç”¨
)

//è·å–çº¿ç¨‹å…±äº«å˜é‡çš„å€¼
console.log(thrdVar.get());

//åŠæ—¶é‡Šæ”¾ä¸å†ä½¿ç”¨çš„çº¿ç¨‹å…±äº«å˜é‡
thrdVar.release();

//thread.table åˆ™æ˜¯åˆ›å»ºäº†ä¸€ä¸ªçº¿ç¨‹é—´å…±äº«çš„ table å¯¹è±¡ï¼Œ 
var thrdTable = thread.table()

var thrdHandle1 = thread.create(
    function(thrdTable){ 

    thrdTable.push( &quot;çº¿ç¨‹ID:&quot; + thread.getId() )

    //ç”¨ä¸‹æ ‡è¯»å†™çº¿ç¨‹å…±äº«è¡¨çš„é”®å€¼ï¼Œé”®åä¸å¯¹è±¡çš„å±æ€§ã€å‡½æ•°ååŒåä¸ä¼šå†²çªã€‚
    thrdTable[&quot;b&quot;] = 34; 
    thrdTable[&quot;c&quot;]= 56; 

    //å¯ä»¥è¯»å†™æ™®é€šè¡¨ï¼Œä½†å­è¡¨å¹¶ä¸æ˜¯çº¿ç¨‹å…±äº«è¡¨ã€‚
    thrdTable[&quot;d&quot;] = {}; 

    //æ¯æ¬¡è¯»å– thrdTable.d éƒ½ä¼šå¾—åˆ°æ–°çš„å‰¯æœ¬
    var localData = thrdTable[&quot;d&quot;];

    //ä¿®æ”¹ localData ä¸ä¼šè‡ªåŠ¨ä¼šåŒæ­¥åˆ°çº¿ç¨‹å…±äº«èµ„æºã€‚
    localData.tab = { name = &quot;name&quot; }

    //ä¸‹é¢è¿™æ ·åªæ˜¯ä¿®æ”¹å­è¡¨çš„ä¸´æ—¶å‰¯æœ¬ï¼Œå­è¡¨ä¸æ˜¯çº¿ç¨‹å…±äº«è¡¨
    thrdTable.d.tab = { name = &quot;name&quot; }

    //åªæœ‰ä¿®æ”¹çº¿ç¨‹å…±äº«è¡¨çš„ç›´æ¥æˆå‘˜ï¼Œæ‰ä¼šè‡ªåŠ¨åŒæ­¥åˆ°çº¿ç¨‹å…±äº«èµ„æº
    thrdTable[&quot;d&quot;] = localData;

    //æ³¨æ„ # æ“ä½œç¬¦ä¸é€‚åˆç”¨äºçº¿ç¨‹å…±äº«è¡¨
    var len = #thrdTable

    //åº”å½“ç”¨ len å‡½æ•°æˆ– length å±æ€§è·å–å…±äº«æ•°ç»„é•¿åº¦
    len = thrdTable.len(); // ä¹Ÿå¯ä»¥ç”¨ thrdTable.

    //çº¿ç¨‹å…±äº«è¡¨å¯ä½œä¸ºå‚æ•°ä¼ å…¥å…¶ä»–çº¿ç¨‹
    },thrdTable
)

//ç­‰å¾…çº¿ç¨‹æ‰§è¡Œå®Œ,å¹¶å…³é—­æ‰€æœ‰çº¿ç¨‹å¥æŸ„
thread.waitClose(thrdHandle1) 

//è¯»å–çº¿ç¨‹è¡¨çš„æˆå‘˜
console.log( thrdTable.pop(2) )

//è¯»å–çº¿ç¨‹è¡¨çš„æˆå‘˜
console.log( thrdTable.a ); 

//éå†å…±äº«è¡¨
for( k,v in thrdTable.each() ){ 
    console.dump(k,v);
}

//ä¸ä½¿ç”¨çš„çº¿ç¨‹å…±äº«è¡¨åº”åŠæ—¶é‡Šæ”¾ã€‚
thrdTable.release();
</code></pre>
<a href="javascript:if(confirm('https://www.aardio.com/zh-cn/doc/example/aardio/Thread/03.table.thread.md  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª Ëü²»ÔÚÏîÄ¿ÎÄ¼şÀàĞÍ¹æ·¶ÄÚ¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://www.aardio.com/zh-cn/doc/example/aardio/Thread/03.table.thread.md'" tppabs="https://www.aardio.com/zh-cn/doc/example/aardio/Thread/03.table.thread.md">Markdown æ ¼å¼</a>
</body> 
</html>