[aardio æ–‡æ¡£](../../../index.htm "aardio ç¼–ç¨‹è¯­è¨€æ–‡æ¡£é¦–é¡µ")

# aardio èŒƒä¾‹: ä½¿ç”¨thread.eventåˆ›å»ºå®šæ—¶æ‰§è¡Œä»»åŠ¡çš„çº¿ç¨?
```aardio aardio
//äº‹ä»¶å®šæ—¶å™?
import win.ui;
/*DSG{{*/
var winform = win.form(text="ä½¿ç”¨thread.eventåˆ›å»ºå®šæ—¶æ‰§è¡Œä»»åŠ¡çš„çº¿ç¨?;right=349;bottom=211;)
winform.add(
btnStart={cls="button";text="å¯åŠ¨å®šæ—¶çº¿ç¨‹";left=61;top=113;right=181;bottom=155;z=1};
btnStop={cls="button";text="ç»“æŸå®šæ—¶çº¿ç¨‹";left=192;top=113;right=312;bottom=155;disabled=1;z=4};
lbTip={cls="static";left=26;top=85;right=100;bottom=103;transparent=1;z=3};
static={cls="static";left=138;top=13;right=309;bottom=44;align="center";center=1;edge=1;z=5};
trackbar={cls="trackbar";left=15;top=52;right=319;bottom=82;max=1000;min=500;z=2}
)
/*}}*/

task_t = function(hwnd,ms){
    import win;
    import thread.event;
    import console;

    var evt = thread.event("å®šæ—¶äº‹ä»¶ GUID:32DA0FC7-A96D-4850-9A28-DA1DD4464B44")
    while( ! evt.wait(ms) ){
        win.setText(hwnd,tostring( time() ) )
    }
    console.log("ä»»åŠ¡å·²å®Œæˆ?)
}

import thread.event;
var evtTask = thread.event("å®šæ—¶äº‹ä»¶ GUID:32DA0FC7-A96D-4850-9A28-DA1DD4464B44",false)

winform.btnStart.oncommand = function(id,event){

    winform.btnStart.disabled = true;
    winform.btnStop.disabled = false;
    winform.trackbar.disabled = true;

    hThread = thread.create(task_t,winform.static.hwnd,winform.trackbar.pos);
    thread.waitOne(hThread)

    winform.btnStart.disabled = false;
    winform.btnStop.disabled = true;
    winform.trackbar.disabled = false;
}

winform.btnStop.oncommand = function(id,event){
    evtTask.set();//ä½¿äº‹ä»¶å¯¹è±¡åˆ‡æ¢ä¸ºæœ‰ä¿¡å·çŠ¶æ€?ä½¿waitå‡½æ•°é€€å‡?}

winform.trackbar.oncommand = function(id,event,pos){
    winform.lbTip.text = owner.pos + "æ¯«ç§’"
}

winform.show()
win.loopMessage();

```

[Markdown æ ¼å¼](https://www.aardio.com/zh-cn/doc/example/aardio/Thread/09.timer.md)

