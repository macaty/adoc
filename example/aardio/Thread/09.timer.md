[aardio 妗](../../../index.htm "aardio 缂绋璇瑷妗ｉ椤")

# aardio 渚: 浣跨thread.event寤哄舵ц浠诲＄绾跨?
```aardio aardio
//浜浠跺跺?
import win.ui;
/*DSG{{*/
var winform = win.form(text="浣跨thread.event寤哄舵ц浠诲＄绾跨?;right=349;bottom=211;)
winform.add(
btnStart={cls="button";text="ㄥ剁嚎绋";left=61;top=113;right=181;bottom=155;z=1};
btnStop={cls="button";text="缁瀹剁嚎绋";left=192;top=113;right=312;bottom=155;disabled=1;z=4};
lbTip={cls="static";left=26;top=85;right=100;bottom=103;transparent=1;z=3};
static={cls="static";left=138;top=13;right=309;bottom=44;align="center";center=1;edge=1;z=5};
trackbar={cls="trackbar";left=15;top=52;right=319;bottom=82;max=1000;min=500;z=2}
)
/*}}*/

task_t = function(hwnd,ms){
    import win;
    import thread.event;
    import console;

    var evt = thread.event("瀹朵浠 GUID:32DA0FC7-A96D-4850-9A28-DA1DD4464B44")
    while( ! evt.wait(ms) ){
        win.setText(hwnd,tostring( time() ) )
    }
    console.log("浠诲″凡瀹?)
}

import thread.event;
var evtTask = thread.event("瀹朵浠 GUID:32DA0FC7-A96D-4850-9A28-DA1DD4464B44",false)

winform.btnStart.oncommand = function(id,event){

    winform.btnStart.disabled = true;
    winform.btnStop.disabled = false;
    winform.trackbar.disabled = true;

    hThread = thread.create(task_t,winform.static.hwnd,winform.trackbar.pos);
    thread.waitOne(hThread)

    winform.btnStart.disabled = false;
    winform.btnStop.disabled = true;
    winform.trackbar.disabled = false;
}

winform.btnStop.oncommand = function(id,event){
    evtTask.set();//浣夸浠跺硅薄涓烘淇″风舵?浣wait芥伴?}

winform.trackbar.oncommand = function(id,event,pos){
    winform.lbTip.text = owner.pos + "姣绉"
}

winform.show()
win.loopMessage();

```

[Markdown 煎](javascript:if(confirm('https://www.aardio.com/zh-cn/doc/example/aardio/Thread/09.timer.md  \n\n该文件无法用 Teleport Ultra 下载, 因为 它不在项目文件类型规范内。  \n\n你想在服务器上打开它?'))window.location='https://www.aardio.com/zh-cn/doc/example/aardio/Thread/09.timer.md')

