
<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="robots" content="index, follow">
<meta name='description' content='aardio ç¼–ç¨‹è¯­è¨€èŒƒä¾‹ - é€‰æ‹©æ’åº'>
<meta http-equiv='content-language' content='zh-cn'>
<title>aardio ç¼–ç¨‹è¯­è¨€èŒƒä¾‹ - é€‰æ‹©æ’åº</title> 
<link rel="stylesheet" href="../../../../css/markdown.css" tppabs="https://www.aardio.com/zh-cn/doc/css/markdown.css">
<script src="../../../../js/prism.js" tppabs="https://www.aardio.com/zh-cn/doc/js/prism.js"></script>
<link rel="stylesheet" href="../../../../../../../lib.baomitu.com/font-awesome/6.6.0/css/fontawesome.min.css" tppabs="https://lib.baomitu.com/font-awesome/6.6.0/css/fontawesome.min.css">
<link rel="stylesheet" href="../../../../../../../lib.baomitu.com/font-awesome/6.6.0/css/solid.min.css" tppabs="https://lib.baomitu.com/font-awesome/6.6.0/css/solid.min.css">
</head>
<body class="markdown-body"><a id="back-to-home" href="../../../../index.htm" tppabs="https://www.aardio.com/zh-cn/doc/" title="aardio ç¼–ç¨‹è¯­è¨€æ–‡æ¡£é¦–é¡µ"><i class="fas fa-home" id="home-icon"></i><i class="fas fa-robot" id="ai-icon" style="display: none;"></i><span id="aardio-document-home">aardio æ–‡æ¡£</span></a>
<h1>aardio èŒƒä¾‹: é€‰æ‹©æ’åº</h1><pre><code class="aardio language-aardio">import console;

/*-------------------------------------------------------
 * å †æ’åº( åŸåœ°æ’åº )
 *-------------------------------------------------------*/

/*
äºŒå‰å †æ˜¯å®Œå…¨äºŒå‰æ ‘ã€‚
ç´¢å¼•æ€»æ˜¯ä»¥2å€çš„å½¢å¼é€’å¢,ä»ä¸Šåˆ°ä¸‹ä»å·¦åˆ°å³é¡ºåºé€’å¢

           [1]
           âˆ§
       [2]     [3]
       âˆ§       âˆ§
    [4] [5]   [6] [7]

å› æ­¤å¯ä»¥ç”¨æ•°ç»„æ¥è¡¨ç¤ºäºŒå‰å †ã€‚

è®¾ heap= {}
heap[1] = 29;
heap[2] = 19;
heap[3] = 18;
heap[4] = 9;
heap[5] = 8;
heap[6] = 7;
heap[7] = 6;

åˆ™ heapå¦‚ä¸‹æ’åˆ— {29;19;18;9;8;7;6}

           29
           âˆ§
       19       18
       âˆ§       âˆ§
     9    9   7    6

äºŒå‰å †æœ‰å°æ ¹å †,å¤§æ ¹å †,å¤§æ ¹å †æœ€å¤§çš„å…ƒç´ åœ¨é¡¶éƒ¨,æ‰€æœ‰å…ƒç´ æŒ‰ç´¢å¼•æ’åºã€‚
*/

var getParentIndex = function(i){
    //äºŒå‰å †çš„çˆ¶å­ç´¢å¼•æ€»æ˜¯ä»¥2å€çš„å½¢å¼é€’å¢ã€å †å·¦è¾¹ç´¢å¼•æ˜¯2çš„næ¬¡æ–¹ã€‚
    return math.floor(i/2)//æ‰€ä»¥é™¤2æ€»æ˜¯èƒ½å‘ä¸Šå€’é€€ä¸€å±‚åˆ°çˆ¶èŠ‚ç‚¹çš„ç´¢å¼•ã€‚
}
var getLeftNodeIndex = function(i){
    //çˆ¶å±‚åˆ°å­å±‚,æ€»æ˜¯ä¸€å˜äºŒ,æ‰€ä»¥ç´¢å¼•ä¹Ÿå¢åŠ 2å€
    return 2*i
}
var getRightNodeIndex = function(i){
    return 2*i+1
}

/*
å‡å®šä¸€ä¸ªæ•°ç»„Açš„å…ƒç´ i,å‡å®šgetLeftNodeIndex[i],getRightNodeIndex[i]éƒ½æ˜¯æœ€å¤§å †ã€‚
å¦‚æœarray[i]å°äºå…¶å­å¥³,åˆ™è°ƒèŠ‚array[i],ä½¿ä¹‹ä¸‹é™ã€‚
*/
var maxHeapify;
maxHeapify = function(array,i){
    var l = getLeftNodeIndex(i);
    var r = getRightNodeIndex(i); 

    var largest;
    if( ( l&lt;=array.heapsize ) and( array[l] &gt; array[i]) )
        largest = l;//å·¦å­æ ‘æ¯”è¾ƒå¤§
    else{
        largest = i;//çˆ¶èŠ‚ç‚¹æ¯”è¾ƒå¤§
    }

    if( ( r&lt;=array.heapsize ) and( array[r] &gt; array[largest]) )
        largest = r;//å³å­æ ‘æ¯”è¾ƒå¤§

    //å¦‚æœarray[i]å°äºå…¶å­å¥³,åˆ™è°ƒèŠ‚ array[i],ä½¿ä¹‹ä¸‹é™ã€‚
    if( largest != i){
        var exchange = array[i]
        array[i] = array[largest]
        array[largest] = exchange;

        maxHeapify(array,largest);//ç°åœ¨å­æ ‘ largest æ˜¯æœ€å¤§çš„äº†        
    }
}

/*
å¯¹äºæ•°ç»„ A,æœ€åä¸€ä¸ªé¡µèŠ‚ç‚¹ç´¢å¼•ä¸º #A
#A çš„çˆ¶èŠ‚ç‚¹ä¸º math.floor(#A/2) ,è€Œä¸”æ˜¯æœ€åä¸€ä¸ªçˆ¶èŠ‚ç‚¹ã€‚è€Œä¹‹åéƒ½æ˜¯å¶èŠ‚ç‚¹ã€‚

å› æ­¤,æˆ‘ä»¬ä»æœ€åä¸€ä¸ªçˆ¶èŠ‚ç‚¹å¼€å§‹,ä»å³è‡³å·¦,è‡ªä¸‹è€Œä¸Šè°ƒç”¨ maxHeapify æ£€æŸ¥æ‰€æœ‰çš„å †ã€‚ä½¿ä¹‹ç¬¦åˆäºŒå‰å †å®šä¹‰.
å¦‚æ­¤ï¼šå°çš„é€šè¿‡ maxHeapify å‡½æ•°çš„é€’å½’è°ƒç”¨ä¸€é™åˆ°åº•,å¤§çš„æ•°é€šè¿‡ buildMaxHeap çš„ for å¾ªç¯é€æ­¥ä¸Šå‡åˆ°é¡¶,æ¸…å‡è€ŒæµŠé™ã€‚
*/

//å»ºå †
var buildMaxHeap = function(array){
    array.heapsize = #array;
    for(i=math.floor(#array/2);1;-1){
        maxHeapify(array,i); 
    }
}

/*
å †å»ºå¥½äº†,æ ¹èŠ‚ç‚¹ä¸€å®šæ¯”å­ç»“ç‚¹å¤§ã€‚
ä½†æ˜¯å·¦è¾¹çš„ä¸ä¸€å®šæ¯”å³è¾¹çš„å¤§,å› ä¸ºäºŒå‰å †ä¸æ¯”è¾ƒå·¦å³å­æ ‘ã€‚
è€Œä¸”åœ¨ä¸åŒçš„å­äºŒå‰å †é‡Œ,ä»–ä»¬ä¹Ÿæ²¡æœ‰æ’åºå…³ç³»
console.dump( array ) //è¾“å‡ºçœ‹ä¸€ä¸‹,æ•´ä½“ä¸Šä»ç„¶æ˜¯ä¹±çš„
*/

/*
å †è™½ç„¶ä¸æ˜¯å®Œå…¨çº¿æ€§æœ‰åºçš„æ•°ç»„,ä½†æ˜¯æ ¹èŠ‚ç‚¹æ€»æ˜¯æœ€å¤§çš„å…ƒç´ ã€‚
é€šå¸¸ç”¨äºå®ç° é«˜æ•ˆçš„ä¼˜å…ˆçº§é˜Ÿåˆ—
*/

//é‚£ä¹ˆä¸‹é¢æˆ‘ä»¬è¦åˆ©ç”¨å»ºå¥½çš„å †æ¥æ’åº
var heapSort = function(array){
    buildMaxHeap(array)//å»ºå †

    //ç°åœ¨array[1]æ˜¯æ ¹èŠ‚ç‚¹äº†,å¹¶ä¸”ä¸€å®šæ˜¯æœ€å¤§çš„
    //æˆ‘ä»¬æŠŠæœ€å¤§çš„æ”¾åœ¨æ•°ç»„æœ€å³ä¾§,åæŠŠæœ€å³ä¾§è¾ƒå°çš„å…ƒç´ æ”¾åˆ°æ ¹èŠ‚ç‚¹æ¥ç ´åäºŒå‰å †,å†ç”¨maxHeapifyæ¥ä¿®å¤å †å–åˆ°ä¸‹ä¸€ä¸ªæœ€å¤§çš„æ•°
    //ä¸æ–­å¾ªç¯æ­¤è¿‡ç¨‹,ä¸æ–­çš„å°†æœ€å¤§çš„å…ƒç´ ç§»åˆ°å³ä¾§,è€Œå †å‘å·¦æ”¶ç¼©,å°±è¾¾åˆ°äº†æ’åºçš„æ•ˆæœ
    for(sorted=#array;2;-1){
        var max = array[1]
        array[1] = array[sorted] //æŠŠå°çš„ç§»åˆ°äºŒå‰å †çš„é¡¶éƒ¨æ¥ç ´åå †å®šä¹‰
        array[sorted] = max;//æŠŠæœ€å¤§çš„ç§»åˆ°å³ä¾§å·²æ’åºçš„æ•°ç»„ä¸­

        array.heapsize--;
        maxHeapify(array,1);//ä¿®å¤äºŒå‰å †æ ¹èŠ‚ç‚¹,å–ä¸‹ä¸€ä¸ªæœ€å¤§æ•°

    }

}

//ç»ˆäºæ’åºå¥½äº†è¾“å‡ºçœ‹ä¸€ä¸‹

console.log(&quot;----------------&quot;)
console.log(&quot;å †æ’åº&quot;)
console.log(&quot;----------------&quot;)

array ={2;46;5;17;1;2;3;99;12;56;66;21};
heapSort(array)

//è¾“å‡ºç»“æœ
for(i=1;#array;1){
    console.log( array[i] )
}

/*
æ’åºç®—æ³•çš„ç¨³å®šæ€§ï¼šä¿è¯æ’åºå‰2ä¸ªç›¸ç­‰çš„æ•°å…¶åœ¨åºåˆ—çš„å‰åä½ç½®é¡ºåºå’Œæ’åºåå®ƒä»¬ä¸¤ä¸ªçš„å‰åä½ç½®é¡ºåºç›¸åŒ

ç¨³å®šæ’åºç®—æ³•ï¼šå†’æ³¡æ’åº æ’å…¥æ’åº åˆå¹¶æ’åº
ä¸ç¨³å®šæ’åºç®—æ³•ï¼šå †æ’åº å¿«é€Ÿæ’åº 
*/

execute(&quot;pause&quot;)
</code></pre>
<a href="javascript:if(confirm('https://www.aardio.com/zh-cn/doc/example/aardio/Array/ComparisonSort/SelectionSort.md  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª Ëü²»ÔÚÏîÄ¿ÎÄ¼şÀàĞÍ¹æ·¶ÄÚ¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://www.aardio.com/zh-cn/doc/example/aardio/Array/ComparisonSort/SelectionSort.md'" tppabs="https://www.aardio.com/zh-cn/doc/example/aardio/Array/ComparisonSort/SelectionSort.md">Markdown æ ¼å¼</a>
</body> 
</html>