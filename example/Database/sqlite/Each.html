
<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="robots" content="index, follow">
<meta name='description' content='aardio ç¼–ç¨‹è¯­è¨€èŒƒä¾‹ - sqlie æ•°æ®åº“ç¤ºä¾‹ - éå†ä¸æ˜¾ç¤ºæŸ¥è¯¢ç»“æœ'>
<meta http-equiv='content-language' content='zh-cn'>
<title>aardio ç¼–ç¨‹è¯­è¨€èŒƒä¾‹ - sqlie æ•°æ®åº“ç¤ºä¾‹ - éå†ä¸æ˜¾ç¤ºæŸ¥è¯¢ç»“æœ</title> 
<link rel="stylesheet" href="../../../css/markdown.css" tppabs="https://www.aardio.com/zh-cn/doc/css/markdown.css">
<script src="../../../js/prism.js" tppabs="https://www.aardio.com/zh-cn/doc/js/prism.js"></script>
<link rel="stylesheet" href="../../../../../../lib.baomitu.com/font-awesome/6.6.0/css/fontawesome.min.css" tppabs="https://lib.baomitu.com/font-awesome/6.6.0/css/fontawesome.min.css">
<link rel="stylesheet" href="../../../../../../lib.baomitu.com/font-awesome/6.6.0/css/solid.min.css" tppabs="https://lib.baomitu.com/font-awesome/6.6.0/css/solid.min.css">
</head>
<body class="markdown-body"><a id="back-to-home" href="../../../index.htm" tppabs="https://www.aardio.com/zh-cn/doc/" title="aardio ç¼–ç¨‹è¯­è¨€æ–‡æ¡£é¦–é¡µ"><i class="fas fa-home" id="home-icon"></i><i class="fas fa-robot" id="ai-icon" style="display: none;"></i><span id="aardio-document-home">aardio æ–‡æ¡£</span></a>
<h1>aardio èŒƒä¾‹: sqlie æ•°æ®åº“ç¤ºä¾‹ - éå†ä¸æ˜¾ç¤ºæŸ¥è¯¢ç»“æœ</h1><pre><code class="aardio language-aardio">//sqlite åº“ - éå†ä¸æ˜¾ç¤º
import win.ui;
/*DSG{{*/
var winform = win.form(text=&quot;sqlie æ•°æ®åº“ç¤ºä¾‹ - éå†ä¸æ˜¾ç¤ºæŸ¥è¯¢ç»“æœ&quot;;right=1031;bottom=712)
winform.add(
edit={cls=&quot;edit&quot;;left=25;top=584;right=997;bottom=693;db=1;dl=1;dr=1;edge=1;hscroll=1;multiline=1;vscroll=1;z=2};
listview={cls=&quot;listview&quot;;left=24;top=27;right=996;bottom=555;db=1;dl=1;dr=1;dt=1;edge=1;z=1}
)
/*}}*/

//åˆ›å»ºæµ‹è¯•æ•°æ®åº“
import sqlite;
var db = sqlite(&quot;/test-sqlite.db&quot;); 
if( not db.existsTable(&quot;each-tab&quot;) ){ 
    db.exec( &quot;CREATE TABLE [each-tab](text, number);&quot;); 
}  

//æ·»åŠ æµ‹è¯•æ•°æ®
var cmd = db.prepare(&quot;INSERT INTO [each-tab] VALUES (@text, @number );&quot;)
for(i=1;5;1){ cmd.step(number = i;text = &quot;æµ‹è¯•æ•°æ®&quot; + i ) }

//åˆ›å»ºè¿­ä»£å™¨éå†æŸ¥è¯¢ç»“æœ
for rowid,number,text in db.each(&quot;SELECT rowid,number,text FROM [each-tab]&quot;) {
    /*
    for è¯­å¥çš„ç¬¬ä¸€ä¸ªè¿”å›å€¼å¦‚æœä¸º null å°±ä¼šé€€å‡ºå¾ªç¯,
    å¦‚æœæ•°æ®åº“è¿”å›çš„ç¬¬ä¸€ä¸ªå­—æ®µå¯èƒ½ä¸ºç©º,é‚£ä¹ˆå¯ä»¥æŠŠ SQLite é»˜è®¤å°±æœ‰çš„ç´¢å¼•å­—æ®µ rowid æ”¾åœ¨æœ€å‰é¢
    */
    winform.edit.print( rowid,number,text ) 
}

//ä¹Ÿå¯ä»¥ç”¨ getTable ä¸€æ¬¡å–å‡ºæ‰€æœ‰çš„æ•°æ®
var dataTable = db.getTable(&quot;SELECT rowid,number,text FROM [each-tab]&quot;)

/*
result æ˜¯åŒ…å«0åˆ°å¤šæ¡æ•°æ®çš„æ•°ç»„ï¼Œ
ä½†ä¹ŸåŒ…å« fields å­—æ®µç”¨äºå£°æ˜æ‰€æœ‰åˆ—å,
ä¸è¦ for(k,v in dataTable) { } è¿™æ ·å†™ï¼Œè¿™æ ·ä¼šä¸å¿…è¦åœ°éå†åˆ° fields
*/
for i,v in table.eachIndex(dataTable){
    //åº”å½“ä½¿ç”¨ä¸“é—¨ç”¨äºéå†æ•°ç»„çš„ table.eachIndex åˆ›å»ºè¿­ä»£å™¨
    winform.edit.print(v.rowid,v.number,v.text)
}

import win.ui.grid;
var grid = win.ui.grid(winform.listview);//åˆ›å»ºæ•°æ®è§†å›¾
grid.setTable( dataTable ) //ç›´æ¥æ˜¾ç¤ºæ•°æ®åº“çš„æŸ¥è¯¢ç»“æœ,è§†å›¾æ§ä»¶é€šè¿‡ dataTable.fields è·å–æ‰€æœ‰å­—æ®µå

//åˆ é™¤æµ‹è¯•è¡¨ 
db.exec(&quot;DROP TABLE [each-tab]&quot; ); 

winform.show(true);
win.loopMessage();
</code></pre>
<a href="javascript:if(confirm('https://www.aardio.com/zh-cn/doc/example/Database/sqlite/Each.md  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª Ëü²»ÔÚÏîÄ¿ÎÄ¼şÀàĞÍ¹æ·¶ÄÚ¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://www.aardio.com/zh-cn/doc/example/Database/sqlite/Each.md'" tppabs="https://www.aardio.com/zh-cn/doc/example/Database/sqlite/Each.md">Markdown æ ¼å¼</a>
</body> 
</html>