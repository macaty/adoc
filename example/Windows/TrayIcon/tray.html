
<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="robots" content="index, follow">
<meta name='description' content='aardio ç¼–ç¨‹è¯­è¨€èŒƒä¾‹ - åˆ›å»ºæ‰˜ç›˜å›¾æ ‡'>
<meta http-equiv='content-language' content='zh-cn'>
<title>aardio ç¼–ç¨‹è¯­è¨€èŒƒä¾‹ - åˆ›å»ºæ‰˜ç›˜å›¾æ ‡</title> 
<link rel="stylesheet" href="../../../css/markdown.css" tppabs="https://www.aardio.com/zh-cn/doc/css/markdown.css">
<script src="../../../js/prism.js" tppabs="https://www.aardio.com/zh-cn/doc/js/prism.js"></script>
<link rel="stylesheet" href="../../../../../../lib.baomitu.com/font-awesome/6.6.0/css/fontawesome.min.css" tppabs="https://lib.baomitu.com/font-awesome/6.6.0/css/fontawesome.min.css">
<link rel="stylesheet" href="../../../../../../lib.baomitu.com/font-awesome/6.6.0/css/solid.min.css" tppabs="https://lib.baomitu.com/font-awesome/6.6.0/css/solid.min.css">
</head>
<body class="markdown-body"><a id="back-to-home" href="../../../index.htm" tppabs="https://www.aardio.com/zh-cn/doc/" title="aardio ç¼–ç¨‹è¯­è¨€æ–‡æ¡£é¦–é¡µ"><i class="fas fa-home" id="home-icon"></i><i class="fas fa-robot" id="ai-icon" style="display: none;"></i><span id="aardio-document-home">aardio æ–‡æ¡£</span></a>
<h1>aardio èŒƒä¾‹: åˆ›å»ºæ‰˜ç›˜å›¾æ ‡</h1><pre><code class="aardio language-aardio">//åˆ›å»ºæ‰˜ç›˜å›¾æ ‡
import win.ui;
import win.ui.menu;
/*DSG{{*/
var winform = win.form(text=&quot;æ‰˜ç›˜å›¾æ ‡&quot;;left=0;top=0;right=330;bottom=156)
winform.add(
button={cls=&quot;button&quot;;text=&quot;åˆ›å»ºæ‰˜ç›˜å›¾æ ‡&quot;;left=97;top=37;right=248;bottom=68;z=1}
)
/*}}*/

//ä¸‹é¢åˆ›å»ºæ‰˜ç›˜å›¾æ ‡
import win.util.tray;
winform.button.oncommand = function(id,event){ 
    winform.tray = win.util.tray(winform)  
    winform.tray.tip = &quot;é¼ æ ‡æç¤º&quot; //è®¾ç½®é¼ æ ‡æç¤º 

    //æ³¨æ„åœ¨å•å¼•å·åŒ…å«çš„è½¬ä¹‰å­—ç¬¦ä¸²é‡Œåªèƒ½ä»¥ &#39;\n&#39; è¡¨ç¤ºæ¢è¡Œç¬¦ï¼Œå…¶ä»–æ¢è¡Œè¢«å¿½ç•¥ã€‚
    winform.tray.pop(&#39;
Win10 å¼€å§‹ç”±æ“ä½œç³»ç»Ÿçš„ã€ä¸“æ³¨ã€ã€åº”ç”¨ç¨‹åºçš„ã€é€šçŸ¥ã€ç­‰è®¾ç½®
å†³å®šæ˜¯å¦æ˜¾ç¤ºæ¨¡å¹…æç¤ºæˆ–æŠ˜å æ¶ˆæ¯åˆ°é€šçŸ¥åŒºã€‚é€šçŸ¥æ¶ˆæ¯å¯ä½¿ç”¨ dotNet.toastListener æ‰©å±•åº“ã€‚&#39;
,&quot;æ‰˜ç›˜æ¶ˆæ¯é€šçŸ¥&quot;);
}

winform.onMinimize = function(lParam){
    winform.tray = win.util.tray(winform);
    winform.show(false); //éšè—çª—å£
    return true;//é˜»å‡»é»˜è®¤æ¶ˆæ¯ä¼ é€’,å–æ¶ˆæœ€å°åŒ–è¿‡ç¨‹
}

winform.onTrayMessage = {
    [0x205/*_WM_RBUTTONUP*/  ] = function(wParam){ 
        //å¼¹å‡ºæ‰˜ç›˜èœå•ä»¥å‰,ä¸€å®šè¦å‰ç½®ä¸»çª—å£ä¸­,
        //é¿å…ä¸ç‚¹å‡»èœå•ä¸ä¼šæ¶ˆå¤±ï¼Œçˆ¶çª—å£éšè—ä¹Ÿè¦è¿™æ ·åš
        win.setForeground(winform.hwnd,true) //å‚æ•° 2 ä¸º true é¿å…æ˜¾ç¤ºæœ€å°åŒ–çª—å£

        /*
        ä¸‹é¢åˆ›å»ºæ‰˜ç›˜å¼¹å‡ºèœå•ã€‚
        å¦‚æœç¨‹åºè¦å¼€æœºå¯åŠ¨åˆ°æ‰˜ç›˜ï¼Œæœ€å¥½åœ¨è¿™é‡Œåˆ›å»ºèœå•ï¼Œåœ¨ç”¨æˆ·ç‚¹å‡»å‰ä¸è¦åˆ›å»ºèœå•ï¼Œ
        é¿å…ç³»ç»Ÿå¯åŠ¨æ—¶ DPI ç¼©æ”¾å‰åˆ›å»ºçš„èœå•å­—ä½“åå°ï¼ˆå‡ºç°è¿™æƒ…å†µçš„æœºç‡å¾ˆå°ï¼‰ã€‚
        å¦‚æœä¸æƒ³é‡å¤åˆ›å»ºèœå•æœ€å¥½å†™åˆ°ä¸€ä¸ªåº“é‡Œï¼Œç„¶ååœ¨è¿™é‡Œ import å³å¯é¿å…ä¸Šè¿°é—®é¢˜ã€‚
        */
        import win.ui.menu;

        winform.popmenu = win.ui.popmenu(winform);//åˆ›å»ºå¼¹å‡ºèœå•
        winform.popmenu.add(&#39;&amp;open&#39;,function(id){
            //åœ¨ä¸‹é¢è¾“å…¥èœå•å“åº”ä»£ç 

        });
        winform.popmenu.add();//åˆ†éš”çº¿
        winform.popmenu.add(&#39;&amp;exit&#39;,function(id){ winform.close() })        

        winform.popmenu.popup();
        winform.popmenu.close();
    };
    [0x202/*_WM_LBUTTONUP*/] = function(wParam){ 

    };
    [0x203/*_WM_LBUTTONDBLCLK*/] = function(wParam){ 

    };
    [0x404/*_PARAM_DESTROY*/] = function(wParam){ 

    };
    [0x405/*_PARAM_CLICKED*/] = function(wParam){ 

    };
}



winform.show(true);
win.loopMessage();

</code></pre>
<a href="javascript:if(confirm('https://www.aardio.com/zh-cn/doc/example/Windows/TrayIcon/tray.md  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª Ëü²»ÔÚÏîÄ¿ÎÄ¼şÀàĞÍ¹æ·¶ÄÚ¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://www.aardio.com/zh-cn/doc/example/Windows/TrayIcon/tray.md'" tppabs="https://www.aardio.com/zh-cn/doc/example/Windows/TrayIcon/tray.md">Markdown æ ¼å¼</a>
</body> 
</html>