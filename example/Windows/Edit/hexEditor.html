
<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="robots" content="index, follow">
<meta name='description' content='aardio ç¼–ç¨‹è¯­è¨€èŒƒä¾‹ - 16è¿›åˆ¶ç¼–è¾‘å™¨'>
<meta http-equiv='content-language' content='zh-cn'>
<title>aardio ç¼–ç¨‹è¯­è¨€èŒƒä¾‹ - 16è¿›åˆ¶ç¼–è¾‘å™¨</title> 
<link rel="stylesheet" href="../../../css/markdown.css" tppabs="https://www.aardio.com/zh-cn/doc/css/markdown.css">
<script src="../../../js/prism.js" tppabs="https://www.aardio.com/zh-cn/doc/js/prism.js"></script>
<link rel="stylesheet" href="../../../../../../lib.baomitu.com/font-awesome/6.6.0/css/fontawesome.min.css" tppabs="https://lib.baomitu.com/font-awesome/6.6.0/css/fontawesome.min.css">
<link rel="stylesheet" href="../../../../../../lib.baomitu.com/font-awesome/6.6.0/css/solid.min.css" tppabs="https://lib.baomitu.com/font-awesome/6.6.0/css/solid.min.css">
</head>
<body class="markdown-body"><a id="back-to-home" href="../../../index.htm" tppabs="https://www.aardio.com/zh-cn/doc/" title="aardio ç¼–ç¨‹è¯­è¨€æ–‡æ¡£é¦–é¡µ"><i class="fas fa-home" id="home-icon"></i><i class="fas fa-robot" id="ai-icon" style="display: none;"></i><span id="aardio-document-home">aardio æ–‡æ¡£</span></a>
<h1>aardio èŒƒä¾‹: 16è¿›åˆ¶ç¼–è¾‘å™¨</h1><pre><code class="aardio language-aardio">//åå…­è¿›åˆ¶ç¼–è¾‘å™¨
import fonts.fontAwesome;
import win.ui;
/*DSG{{*/
mainForm = win.form(text=&quot;hexEditor&quot;;right=917;bottom=581;bgcolor=16777215)
mainForm.add(
btnFind={cls=&quot;plus&quot;;text=&quot;æŸ¥æ‰¾&quot;;left=707;top=523;right=778;bottom=550;align=&quot;left&quot;;color=3947580;db=1;dr=1;font=LOGFONT(h=-13);iconStyle={align=&quot;left&quot;;font=LOGFONT(h=-13;name=&#39;FontAwesome&#39;);padding={left=8}};iconText=&#39;\uF002&#39;;notify=1;textPadding={left=26};z=3};
btnReplace={cls=&quot;plus&quot;;text=&quot;æ›¿æ¢&quot;;left=707;top=553;right=778;bottom=580;align=&quot;left&quot;;color=3947580;db=1;dr=1;font=LOGFONT(h=-13);iconStyle={align=&quot;left&quot;;font=LOGFONT(h=-13;name=&#39;FontAwesome&#39;);padding={left=8}};iconText=&#39;\uF1EA&#39;;notify=1;textPadding={left=26};z=5};
btnReplaceAll={cls=&quot;plus&quot;;text=&quot;å…¨éƒ¨æ›¿æ¢&quot;;left=785;top=553;right=885;bottom=580;align=&quot;left&quot;;color=3947580;db=1;dr=1;font=LOGFONT(h=-13);iconStyle={align=&quot;left&quot;;font=LOGFONT(h=-13;name=&#39;FontAwesome&#39;);padding={left=8}};iconText=&#39;\uF0CA&#39;;notify=1;textPadding={left=26};z=6};
cmbCodePage={cls=&quot;combobox&quot;;left=784;top=526;right=911;bottom=552;db=1;dr=1;edge=1;items={&quot;UTF-8(65001)&quot;;&quot;Unicode(1200)&quot;;&quot;Unicode BE(1201)&quot;;&quot;ANSI(0)&quot;;&quot;GB2312(936)&quot;;&quot;BIG5(950)&quot;};mode=&quot;dropdownlist&quot;;z=7};
editFind={cls=&quot;plus&quot;;left=16;top=520;right=701;bottom=546;align=&quot;right&quot;;border={bottom=1;color=-6908266};db=1;dl=1;dr=1;editable=&quot;edit&quot;;textPadding={top=6;bottom=2};z=2};
editReplace={cls=&quot;plus&quot;;left=16;top=549;right=701;bottom=575;align=&quot;right&quot;;border={bottom=1;color=-6908266};db=1;dl=1;dr=1;editable=&quot;edit&quot;;textPadding={top=6;bottom=2};z=4};
static={cls=&quot;static&quot;;left=0;top=0;right=919;bottom=514;bgcolor=16777215;db=1;dl=1;dr=1;dt=1;z=1}
)
/*}}*/

import com.hexEditor;
var hexEditor = com.hexEditor(mainForm.static);
hexEditor.setBuffer(&#39;è¯·æ‹–åŠ¨æ–‡ä»¶åˆ°å½“å‰çª—å£&#39;);

mainForm.onDropFiles = function(files){
    hexEditor.load(files[1]);
}

import win.clip;
import win.ui.menu;
hexEditor.onContextMenu = function(x,y){ 
    var menu = win.ui.popmenu(mainForm.static);
    menu.add(&#39;å¤åˆ¶\tCtrl+C&#39;,function(){
        hexEditor.copy();
    })

    menu.add(&#39;å¤åˆ¶ 16 è¿›åˆ¶ç¼–ç &#39;,function(){
        var hex  = hexEditor.getSelHex() 
        if(#hex){
            win.clip.write(hex);
        }
    })

    menu.add(&#39;ç²˜è´´\tCtrl+V&#39;,function(){ 
            hexEditor.paste();
    }) 
    menu.popup(x,y,true); 
}

mainForm.btnFind.oncommand = function(id,event){
    var str = string.unhex(mainForm.editFind.text,&quot;\x&quot;);
    if(!#str){
        return mainForm.editFind.editBox.showErrorTip(&quot;è¯·è¾“å…¥è¦æŸ¥æ‰¾çš„æ•°æ®&quot;);
    }

    hexEditor.findNext(str);
}

mainForm.editFind.setCueBannerText(&quot;è¯·è¾“å…¥æŸ¥æ‰¾å­—ç¬¦ä¸²ï¼Œæ”¯æŒæ¨¡å¼åŒ¹é…ã€\xå‰ç¼€ 16 è¿›åˆ¶å­—èŠ‚ç¼–ç &quot;);
mainForm.editReplace.setCueBannerText(&quot;è¯·è¾“å…¥æŸ¥æ‰¾å­—ç¬¦ä¸²ï¼Œæ”¯æŒ\xå‰ç¼€çš„ 16 è¿›åˆ¶å­—èŠ‚ç¼–ç &quot;);

mainForm.btnReplace.oncommand = function(id,event){
    var selStart,selEnd = hexEditor.getsel();
    if(!selEnd) return mainForm.btnFind.oncommand(); 

    var str = string.unhex(mainForm.editReplace.text,&quot;\x&quot;);
    hexEditor.replace(str);

    mainForm.btnFind.oncommand();
}

mainForm.btnReplaceAll.oncommand = function(id,event){
    var strFind = string.unhex(mainForm.editFind.text,&quot;\x&quot;);
    var strReplace = string.unhex(mainForm.editReplace.text,&quot;\x&quot;);  

    var buf = hexEditor.getBuffer();
    buf = ..string.replace(buf,strFind,strReplace );
    hexEditor.setBuffer(buf);
}

mainForm.btnFind.skin({
    color={
        active=0xFF00FF00;
        default=0xFF3C3C3C;
        disabled=0xFF6D6D6D;
        hover=0xFFFF0000
    }
})

mainForm.btnReplace.skin({
    color={
        active=0xFF00FF00;
        default=0xFF3C3C3C;
        disabled=0xFF6D6D6D;
        hover=0xFFFF0000
    }
})

mainForm.btnReplaceAll.skin({
    color={
        active=0xFF00FF00;
        default=0xFF3C3C3C;
        disabled=0xFF6D6D6D;
        hover=0xFFFF0000
    }
})

mainForm.cmbCodePage.selIndex = 1;
mainForm.cmbCodePage.onListChange = function(){ 
    var text = mainForm.cmbCodePage.selText;
    var cp = tonumber(string.match(text,&quot;\((\d+)&quot;));
    if(cp!==null)  {
        cp = tonumber(cp);
        hexEditor.setCodePage(cp); 
    }
}

mainForm.show();
win.loopMessage();
</code></pre>
<a href="javascript:if(confirm('https://www.aardio.com/zh-cn/doc/example/Windows/Edit/hexEditor.md  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª Ëü²»ÔÚÏîÄ¿ÎÄ¼şÀàĞÍ¹æ·¶ÄÚ¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://www.aardio.com/zh-cn/doc/example/Windows/Edit/hexEditor.md'" tppabs="https://www.aardio.com/zh-cn/doc/example/Windows/Edit/hexEditor.md">Markdown æ ¼å¼</a>
</body> 
</html>