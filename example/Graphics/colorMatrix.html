
<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="robots" content="index, follow">
<meta name='description' content='aardio ç¼–ç¨‹è¯­è¨€èŒƒä¾‹ - GDI+è°ƒè‰²çŸ©é˜µæ¼”ç¤º'>
<meta http-equiv='content-language' content='zh-cn'>
<title>aardio ç¼–ç¨‹è¯­è¨€èŒƒä¾‹ - GDI+è°ƒè‰²çŸ©é˜µæ¼”ç¤º</title> 
<link rel="stylesheet" href="../../css/markdown.css" tppabs="https://www.aardio.com/zh-cn/doc/css/markdown.css">
<script src="../../js/prism.js" tppabs="https://www.aardio.com/zh-cn/doc/js/prism.js"></script>
<link rel="stylesheet" href="../../../../../lib.baomitu.com/font-awesome/6.6.0/css/fontawesome.min.css" tppabs="https://lib.baomitu.com/font-awesome/6.6.0/css/fontawesome.min.css">
<link rel="stylesheet" href="../../../../../lib.baomitu.com/font-awesome/6.6.0/css/solid.min.css" tppabs="https://lib.baomitu.com/font-awesome/6.6.0/css/solid.min.css">
</head>
<body class="markdown-body"><a id="back-to-home" href="../../index.htm" tppabs="https://www.aardio.com/zh-cn/doc/" title="aardio ç¼–ç¨‹è¯­è¨€æ–‡æ¡£é¦–é¡µ"><i class="fas fa-home" id="home-icon"></i><i class="fas fa-robot" id="ai-icon" style="display: none;"></i><span id="aardio-document-home">aardio æ–‡æ¡£</span></a>
<h1>aardio èŒƒä¾‹: GDI+è°ƒè‰²çŸ©é˜µæ¼”ç¤º</h1><pre><code class="aardio language-aardio">//è°ƒè‰²çŸ©é˜µ
import win.ui;
/*DSG{{*/
var winform = win.form(text=&quot;GDI+è°ƒè‰²çŸ©é˜µæ¼”ç¤º&quot;;right=767;bottom=351;bgcolor=16579828)
winform.add(
btnGray={cls=&quot;button&quot;;text=&quot;å»è‰²&quot;;left=608;top=240;right=744;bottom=280;db=1;dr=1;z=5};
btnSetAlpha={cls=&quot;button&quot;;text=&quot;ä¿®æ”¹é€æ˜åº¦&quot;;left=608;top=144;right=744;bottom=184;db=1;dr=1;z=1};
button={cls=&quot;button&quot;;text=&quot;åç›¸&quot;;left=608;top=192;right=744;bottom=232;db=1;dr=1;z=4};
plus={cls=&quot;plus&quot;;left=184;top=56;right=528;bottom=232;background=&quot;\.gdip.jpg&quot;;clipBk=false;db=1;dl=1;dr=1;dt=1;z=3};
plus2={cls=&quot;plus&quot;;left=16;top=152;right=432;bottom=312;background=&quot;\.gdip.jpg&quot;;z=2}
)
/*}}*/

import gdip.imageAttributes;
winform.btnSetAlpha.oncommand = function(id,event){
    winform.plus.onDrawBackground = function(graphics,rc,backgroundColor,color){

        var attr = gdip.imageAttributes();

        /*
        æŠŠå›¾åƒçš„æ‰€æœ‰åƒç´ çœ‹ä½œäºŒç»´æ•°ç»„ï¼Œ
        æ¯ä¸ªåƒç´ ä¸ºä¸€è¡Œï¼ŒåŒ…å«R,G,B,A,W 5åˆ—ï¼Œå…¶ä¸­Wä¸ºè™šæ‹Ÿåˆ—ï¼ˆå€¼æ€»æ˜¯255ï¼‰

        ä¸‹é¢çš„è°ƒè‰²çŸ©é˜µå¿…é¡»ä¸º5è¡Œ5åˆ—ï¼Œæ ¼å¼ä¸ºï¼š
        {  
            rr;gr;br;ar;wr;
            rg;gg;bg;ag;wg;  
            rb;gb;bb;ab;wb;  
            ra;ga;ba;aa;wa; 
            rw;gw;bw;aw;ww; 
        }  

        åŸå›¾åŸå›¾çŸ©é˜µé‡Œ0ä¸ºæœ€å°å€¼ï¼Œ255ä¸ºæœ€å¤§å€¼ï¼Œ
        è°ƒè‰²çŸ©é˜µé‡Œ0ä¸ºæœ€å°å€¼,1ä¸ºæœ€å¤§å€¼,å°æ•°å¯ç†è§£ä¸ºç™¾åˆ†æ¯”.

        ç»˜å›¾æ—¶ä½¿ç”¨åŸå›¾çŸ©é˜µä¸è°ƒè‰²çŸ©é˜µè¡Œåˆ—ç›¸ä¹˜ï¼Œ
        åŸå›¾ä¸­çš„iè¡Œä¹˜ä»¥è°ƒè‰²çŸ©é˜µä¸­çš„jåˆ—ï¼Œä¹Ÿå°±ç­‰äºç»“æœå›¾åƒçŸ©é˜µçŸ©é˜µçš„iè¡Œjåˆ—ï¼Œ

        è®¾æœ‰å›¾åƒæ•°æ®å¦‚ä¸‹
        {
        R1;G1;B1;A1;//ç¬¬ä¸€ä¸ªåƒç´ çš„R,G,B,Aåˆ†é‡
        R2;G2;B2;A2;//ç¬¬äºŒä¸ªåƒç´ çš„R,G,B,Aåˆ†é‡ 
        }

        é‚£ä¹ˆç»è¿‡çŸ©é˜µè½¬æ¢ä»¥åå¾—åˆ°çš„ç»“æœå°±æ˜¯
        R1 = R1*rr+G1*rg+B1*rb+A1*ra+W*rw (åŸå›¾R,G,B,A,Wé€ä¸ªä¸è°ƒè‰²çŸ©é˜µç¬¬1åˆ—ç›¸ä¹˜)
        G1 = R1*gr+G1*gg+B1*gb+A1*ga+W*gw (åŸå›¾R,G,B,A,Wé€ä¸ªä¸è°ƒè‰²çŸ©é˜µç¬¬2åˆ—ç›¸ä¹˜)
        B1 = R1*br+G1*bg+B1*bb+A1*ba+W*bw (åŸå›¾R,G,B,A,Wé€ä¸ªä¸è°ƒè‰²çŸ©é˜µç¬¬3åˆ—ç›¸ä¹˜)
        A1 = R1*ar+G1*ag+B1*ab+A1*aa+W*aw (åŸå›¾R,G,B,A,Wé€ä¸ªä¸è°ƒè‰²çŸ©é˜µç¬¬4åˆ—ç›¸ä¹˜)  

        R2 = R2*rr+G2*rg+B2*rb+A2*ra+W*rw (åŸå›¾R,G,B,A,Wé€ä¸ªä¸è°ƒè‰²çŸ©é˜µç¬¬1åˆ—ç›¸ä¹˜)
        G2 = R2*gr+G2*gg+B2*gb+A2*ga+W*gw (åŸå›¾R,G,B,A,Wé€ä¸ªä¸è°ƒè‰²çŸ©é˜µç¬¬2åˆ—ç›¸ä¹˜)
        B2 = R2*br+G2*bg+B2*bb+A2*ba+W*bw (åŸå›¾R,G,B,A,Wé€ä¸ªä¸è°ƒè‰²çŸ©é˜µç¬¬3åˆ—ç›¸ä¹˜)
        A2 = R2*ar+G2*ag+B2*ab+A2*aa+W*aw (åŸå›¾R,G,B,A,Wé€ä¸ªä¸è°ƒè‰²çŸ©é˜µç¬¬4åˆ—ç›¸ä¹˜) 
        */
        attr.setColorMatrix({
            1;0;0;0;0;
            0;1;0;0;0;
            0;0;1;0;0;
            0;0;0;0.6;0;
            0;0;0;0;1
        })

        /*

        ä¸Šé¢çš„çŸ©é˜µè¿ç®—åR,G,Bå€¼ä¸å˜ï¼Œä½†é€æ˜åº¦Açš„åˆ†é‡å˜ä¸ºäº† A * 0.6ï¼Œä¹Ÿå°±æ˜¯æ”¹å˜äº†é€æ˜åº¦
        */

        graphics.drawImageStretch(winform.plus.background,rc,attr);
        return true;
    }
    winform.plus.predraw()
    winform.redraw()
}

winform.button.oncommand = function(id,event){
    winform.plus.onDrawBackground = null;

    var attr = gdip.imageAttributes();
    attr.setColorMatrix({
        -1;0;0;0;0;
        0;-1;0;0;0;
        0;0;-1;0;0;
        0;0;0;1;0;
        1;1;1;0;1
    })

    winform.plus.background = winform.plus.background.copy(attr);

    winform.plus.predraw()
    winform.redraw()    
}

winform.btnGray.oncommand = function(id,event){
    winform.plus.onDrawBackground = function(graphics,rc,backgroundColor,color){

        var attr = gdip.imageAttributes(); 
        attr.setColorMatrix({
            0.213;0.213;0.213;0;0;
            0.715;0.715;0.715;0;0;
            0.072;0.072;0.072;0;0;
            0;0;0;1;0;
            0;0;0;0;0
        }) 

        graphics.drawImageStretch(winform.plus.background,rc,attr);
        return true;
    }
    winform.plus.predraw()
    winform.redraw()    
}

winform.show() 
win.loopMessage();
</code></pre>
<a href="javascript:if(confirm('https://www.aardio.com/zh-cn/doc/example/Graphics/colorMatrix.md  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª Ëü²»ÔÚÏîÄ¿ÎÄ¼şÀàĞÍ¹æ·¶ÄÚ¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://www.aardio.com/zh-cn/doc/example/Graphics/colorMatrix.md'" tppabs="https://www.aardio.com/zh-cn/doc/example/Graphics/colorMatrix.md">Markdown æ ¼å¼</a>
</body> 
</html>