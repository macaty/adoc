[aardio æ–‡æ¡£](../../../index.htm "aardio ç¼–ç¨‹è¯­è¨€æ–‡æ¡£é¦–é¡µ")

# ä½¿ç”¨ç»“æ„ä½?
è¯·å‚è€? [åŸç”Ÿæ•°æ®ç±»å‹](datatype.html)

## åˆ›å»ºç»“æ„ä½?[\#](\#struct)

åœ?aardio ä¸­å¯ä»¥ç”¨ç±»å®šä¹‰ç»“æ„ä½“ï¼Œåªè¦åœ¨ç±»æ„é€ å™¨çš„æˆå‘˜é”®åå‰æ·»åŠ åŸç”Ÿç±»å‹å£°æ˜å°±å¯ä»¥äº†ã€?
å‚è€ƒï¼š [ç±»](../../../language-reference/class/class.html)

```aardio aardio
//å®šä¹‰ç»“æ„ä½?class Point{
   int x = 0;
   int y = 0;
}

//åˆ›å»ºä¸€ä¸ªç»“æ„ä½“å®ä¾‹å¯¹è±¡
var pt = Point();

```

> aardio é»˜è®¤å·²ç»å®šä¹‰äº†æ‰€æœ‰å­—æ¯å¤§å†™çš„ä¿ç•™å¸¸é‡ `::POINT` ç”¨äºè¡¨ç¤ºåæ ‡ã€?
ç»“æ„ä½“åˆ›å»ºçš„å®ä¾‹å¯¹è±¡åœ?aardio ä¸­ä»ç„¶æ˜¯ä¸€ä¸?table å¯¹è±¡ã€?
æˆ‘ä»¬å¯ä»¥åœ?table æ„é€ å™¨ä¸­æˆå‘˜çš„é”®åå‰é¢æ·»åŠ åŸç”Ÿç±»å‹å£°æ˜ï¼Œç›´æ¥æ„é€ ç»“æ„ä½“å®ä¾‹ã€?
ä¾‹å¦‚ï¼?
```aardio aardio
var point = {
   int x = 0;
   int y = 0;
}

```

è¿™éå¸¸æ–¹ä¾¿ï¼Œæˆ‘ä»¬ç”šè‡³å¯ä»¥åœ¨åŸç”?API å‡½æ•°çš„å‚æ•°ä¸­ç›´æ¥ç”¨å­—é¢é‡æ„é€ ç»“æ„ä½“ã€?
ç¤ºä¾‹ï¼?
```aardio aardio
var r,point = ::User32.GetCursorPos({
   int x;
   int y;
})

```

åœ?aardio ä¸­è®¾å®šç»“æ„ä½“æˆå‘˜åˆå§‹å€¼ä¸æ˜¯å¿…é¡»çš„, å¦‚æœä¸æŒ‡å®šåˆå§‹å€¼åˆ™åœ?aardio ä»£ç ä¸­è¿™äº›å­—æ®µçš„å€¼ä¸º nullï¼Œä¼ åˆ°åŸç”?API å‡½æ•°ä¸­ä¹Ÿä¼šè‡ªåŠ¨åˆå§‹åŒ–ä¸ºç©ºå€¼ï¼ˆç®€å•è®²å°±æ˜¯å­˜å‚¨è¯¥å­—æ®µçš„æ¯ä¸ªå†…å­˜å­—èŠ‚çš„å€¼éƒ½æ˜?0 ï¼‰ã€?
è¦ç‚¹ï¼?
- åœ¨åŸç”?API å‡½æ•°ä¸­ï¼Œå£°æ˜ä¸?struct ç±»å‹çš„å‚æ•°ä¸å…è®¸ç›´æ¥ä¼?null å€¼ï¼Œå¿…é¡»ç”?`{}` è¡¨ç¤º null å€¼ã€?- aardio ç»“æ„ä½“åœ¨ API å‡½æ•°å‚æ•°ä¸­æ€»æ˜¯ä¼ ç»“æ„ä½“æŒ‡é’ˆï¼ˆä¼ å€ï¼‰ã€?`struct` ä¸?`struct &` çš„ç±»å‹å”¯ä¸€çš„åŒºåˆ«æ˜¯ `struct &` ä¼šè·å–è¢«ä¿®æ”¹åçš„ç»“æ„ä½“å€¼ï¼Œå¯¹äºç›®æ ‡ API æ¥è¯´æ”¶åˆ°çš„éƒ½æ˜¯ç›¸åŒçš„æŒ‡é’ˆå€¼ã€‚å¦‚æœéœ€è¦åœ¨ API å‚æ•°ä¸?[æŒ‰å€¼ä¼ é€’ç»“æ„ä½“](#by-val) ï¼ˆè¿™ç§æƒ…å†µå¾ˆç½•è§ï¼‰ï¼Œåˆ™éœ€è¦å°†ç»“æ„ä½“æˆå‘?[å±•å¼€](#by-val) ä¸ºå¤šä¸ªæ™®é€šçš„ä¼ å€¼å‚æ•°ã€?- [åœ¨è°ƒç”?API å‡½æ•°æ—¶ï¼Œç»“æ„ä½“ä¼šåˆ†é…ä¸´æ—¶å†…å­˜ï¼Œå¹¶å°†ä¸´æ—¶å†…å­˜çš„æŒ‡é’ˆä¼ ç»™ API å‡½æ•°ï¼Œåœ¨è°ƒç”¨ç»“æŸåç«‹å³é‡Šæ”¾ã€‚å¦‚æœè¦ä¼ ç¨³å®šä¸å˜çš„ç»“æ„ä½“æŒ‡é’ˆï¼Œè¯·è½¬æ¢ä¸º buffer æŒ‡é’ˆï¼Œæˆ–è€…ä½¿ç”?raw.struct åˆ›å»ºç»“æ„ä½“ã€‚éå¿…è¦ä¸åº”è¯¥è¿™æ ·åšï¼Œä¹Ÿå¾ˆå°‘ä¼šéœ€è¦è¿™æ ·åšã€‚ä¸€èˆ¬å»ºè®®ç”± aardio è‡ªåŠ¨è½¬æ¢å³å¯ã€‚](mem.html#struct)

> aardio åˆ›å»ºçš„ç»“æ„ä½“éƒ½ä¼šåˆ›å»ºä¸€ä¸?\_struct å­—æ®µï¼Œ\_struct å­˜å‚¨äº†ç»“æ„ä½“çš„åŸç”Ÿç±»å‹å£°æ˜ã€‚é€šè¿‡ `object[["_struct"]]` å¯ä»¥å¿«é€Ÿåˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯ä¸æ˜¯ç»“æ„ä½“ã€?
å‚è€ƒï¼š

- [æ„é€ è¡¨](../../../language-reference/datatype/table/_.html#initializer)

## åœ?API å‡½æ•°ä¸­ä½¿ç”?struct ç»“æ„ä½?[\#](\#api)

aardio ä¸­çš„ã€Œç»“æ„ä½“ã€å­˜å‚¨ä¸ºä¸€ä¸ªè¡¨å¯¹è±¡ï¼?[å½“æˆ‘ä»¬æŠŠç»“æ„ä½“å¤åˆ¶åˆ° raw.buffer æˆ?raw.realloc åˆ†é…çš„å†…å­˜ã€?æˆ–è€…å…¶ä»–å¯å†™å…¥ç»“æ„ä½“çš„å†…å­˜æ—¶ï¼Œéƒ½ä¼šè½¬æ¢ä¸ºåŸç”Ÿç»“æ„ä½“ã€‚åœ¨è°ƒç”¨åŸç”Ÿ API å‡½æ•°æ—¶ï¼Œç»“æ„ä½“å‚æ•°ä¹Ÿä¼šä¸´æ—¶è½¬æ¢ä¸ºã€ŒåŸç”Ÿç»“æ„ä½“ã€æŒ‡é’ˆï¼Œ å¹¶åœ¨è°ƒç”¨ API ç»“æŸæ—¶ç«‹å³é‡Šæ”¾ä¸´æ—¶åˆ›å»ºçš„ã€ŒåŸç”Ÿç»“æ„ä½“ã€ï¼Œè¿™ç§è½¬æ¢æ˜¯è‡ªåŠ¨çš„](mem.html#struct)ã€?
æ— è®ºåŸç”Ÿ API çš„å‡½æ•°å‚æ•°æ˜¯å¦è¾“å‡ºå‚æ•°ï¼Œæ‰€æœ‰ç»“æ„ä½“å‚æ•°æ€»æ˜¯è½¬æ¢ä¸ºç»“æ„ä½“æŒ‡é’ˆï¼ˆä¼ å€ï¼?

ä¸‹é¢æ˜¯ä¸€ä¸ªåœ¨ API å‡½æ•°å‚æ•°ä¸­ä½¿ç”¨ç»“æ„ä½“çš„å®Œæ•´èŒƒä¾‹ç¨‹åº?

```aardio aardio
//åŠ è½½ DLL
var dll = raw.loadDll("User32.dll");

//å£°æ˜ API å‡½æ•°
getCursorPos = dll.api( "GetCursorPos", "word(struct& point)")

//é€šå¸¸ï¼Œæˆ‘ä»¬ä½¿ç”?class æ¥å®šä¹?API å‡½æ•°ä¸­éœ€è¦ç”¨åˆ°çš„ç»“æ„ä½“ï¼š
class Point {
   int x=0;
   int y=0;
};

//åˆ›å»ºä¸€ä¸ªæ–°çš„ç»“æ„ä½“
var p = Point();

//ä½¿ç”¨APIå‡½æ•°
GetCursorPos(p);

```

## å±•å¼€ç»“æ„ä½?[\#](\#by-val)

aardio ç»“æ„åœ?API å‚æ•°ä¸­æ€»æ˜¯ä¼ å€ï¼?ä¼ ç»“æ„ä½“æŒ‡é’ˆï¼‰ã€?
å¦‚æœéœ€è¦åœ¨APIå‚æ•°ä¸­æŒ‰å€¼ä¼ é€’ç»“æ„ä½“ï¼ˆè¿™ç§æƒ…å†µå¾ˆç½•è§ï¼‰ï¼Œåˆ™éœ€è¦å°†ç»“æ„ä½“æˆå‘˜å±•å¼€ä¸ºå¤šä¸ªæ™®é€šçš„ä¼ å€¼å‚æ•°ã€?
ä¾‹å¦‚ PtInRect çš?C è¯­è¨€å‡½æ•°åŸå‹ä¸?

`BOOL PtInRect( RECT *lprc,POINT pt);`

ç¬¬äºŒä¸ªå‚æ•°çš„ POINT ç»“æ„ä½“æ˜¯æŒ‰å€¼ä¼ é€’ï¼Œè€?POINT ç»“æ„ä½“çš„æˆå‘˜ä¸?`{int x;int y}`ã€?
é‚£ä¹ˆè½¬æ¢ä¸?aardio å£°æ˜çš„æ ¼å¼å¦‚ä¸?

```aardio aardio
::PtInRect := ::User32.api( "PtInRect", "int(struct lprc, int x, int y)" );

```

## è½¬æ¢ç»“æ„ä½“ç±»å?
1. å‡½æ•°åŸå‹ï¼?

   ```aardio aardio
   raw.convert(inPointerOrStringOrBufferOrStruct,outStruct,offset=0 )

   ```

2. å‡½æ•°è¯´æ˜ï¼?
   å°†æºæ•°æ®è½¬æ¢ä¸ºç›®æ ‡ç»“æ„ä½“æ•°æ®ï¼Œåç§»é‡ @offset æ˜¯å¯é€‰å‚æ•?é»˜è®¤ä¸?0ã€?   ç¬¬ä¸€ä¸ªå‚æ•?@pointerOrStringOrBufferOrStruct å¯ä»¥æ˜¯ç»“æ„ä½“(struct)ã€pointerã€stringã€buffer ç±»å‹çš„å¯¹è±¡ã€?

   ç¬¬äºŒä¸ªå‚æ•?@outStruct å¿…é¡»æ˜¯ç»“æ„ä½“(struct)ã€?
3. è°ƒç”¨ç¤ºä¾‹ï¼?
   ä¸‹é¢æ˜¯ä½¿ç”?raw.convert ç¼–å†™çš„ä¸€ä¸ªæ•°å€¼ç±»å‹è½¬æ¢å°ç¨‹åºã€?

   ```aardio aardio
   import console;

   var struct2 = {
     union u= { //union è”åˆä½“è¡¨ç¤ºå‡ ä¸ªå˜é‡å…±ç”¨ä¸€ä¸ªå†…å­˜ä½ç½®ï¼Œåˆ©ç”¨æ­¤ç‰¹æ€§ï¼Œå¯ä»¥å°†åŒä¸€æ•°æ®è½¬æ¢ä¸ºä¸åŒçš„æ•°æ®ç±»å‹ã€?        byte byte = -1;
        BYTE ubyte = -1;
     }
   }

   var struct1 =
   { byte x= -1 }

   console.log( raw.convert(  struct1, struct2 ).u.ubyte ) //å°?-1 è½¬æ¢ä¸ºæ— ç¬¦å·å•å­—èŠ‚æ•°å€?255
   console.pause();

   ```


## è·å–ç»“æ„ä½“å†…å­˜é•¿åº?
1. å‡½æ•°åŸå‹ï¼?

   ```aardio aardio
   raw.sizeof( structOrTypename )

   ```

2. å‡½æ•°è¯´æ˜ï¼?
   è¿”å›ç»“æ„ä½“çš„å†…å­˜é•¿åº¦ï¼Œå‚æ•°å¯ä»¥æ˜¯ä¸€ä¸ªç»“æ„ä½“(struct)ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²å½¢å¼çš„APIæ•°æ®ç±»å‹åå­—ã€?

   ```aardio aardio
   import console;

   var struct = {
     union u= {
        byte byte = -1;
        BYTE ubyte = -1;
     };
     int n = 123;
   };

   console.log( raw.sizeof( struct ) );
   console.pause();

   ```


## è‡ªå®šä¹‰ç»“æ„ä½“å¯¹é½å¤§å°

åœ¨ç»“æ„ä½“ä¸­å¯ä»¥ä½¿ç”¨æˆå‘?\_struct\_aligned è‡ªå®šä¹‰å¯¹é½å¤§å°ã€?
ä¾‹å¦‚C/C++ä¸­å®šä¹‰ç»“æ„ä½“æ—¶ä½¿ç”?`#pragma pack(n)`ï¼Œaardioåˆ?éœ€è¦åœ¨ç»“æ„ä½“ä¸­æ·»åŠ  `_struct_aligned = n` ã€?
ç¤ºä¾‹ï¼?
```aardio aardio
import console;

console.log(
    raw.sizeof( {
        int x;
        LONG y;
        _struct_aligned = 1;
    } )
);

console.pause();

```

## åŸç”Ÿæ•°ç»„ [\#](\#raw-array)

aardio è¯­è¨€ä¸­æˆ‘ä»¬å¯ä»¥åœ¨ä¸€ä¸ªç»“æ„ä½“é‡Œå®šä¹‰åŸç”Ÿé™æ€æ•°ç»„ã€?åŸç”Ÿæ•°ç»„ä¸å…¶ä»–åŸç”Ÿç±»å‹çš„åŒºåˆ«æ˜¯åœ¨å­—æ®µåç§°åç”¨ä¸­æ‹¬å·å†…çš„æ•°å€¼æŒ‡å®šäº†åŸç”Ÿæ•°ç»„çš„é•¿åº¦ã€?
ä¾‹å¦‚ï¼?
```aardio aardio
var arr  =  {
int value[2] = {1;2}
}

```

ä¸Šé¢çš„å­—æ®µå£°æ˜?`int value[2]` ä¸­çš„ `[2]` æŒ‡å®šäº†æ•°ç»„å…ƒç´ ä¸ªæ•°ä¸º 2ã€?åœ¨ä¸Šé¢çš„ `[2]` å†…åªèƒ½æŒ‡å®šæ•°å€¼å­—é¢é‡ï¼Œä¸èƒ½ç”¨å˜é‡æŒ‡å®šæ•°ç»„é•¿åº¦ã€?
è¯·å‚è€ƒï¼š [åŸç”Ÿç±»å‹ \- æ•°ç»„](datatype.html#raw-array)

å¦‚æœæˆ‘ä»¬ä¸æŒ‡å®šæ•°ç»„é•¿åº¦ï¼Œå¯ä»¥ç”?`int value[]` è¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªåŸç”Ÿå˜é•¿æ•°ç»„ã€?åŸç”Ÿå˜é•¿æ•°ç»„åœ¨è¿è¡Œæ—¶å¯é€‰é‡‡ç”¨ä¸¤ç§æ–¹æ³•ç¡®å®šé•¿åº¦ï¼š

- ä¼˜å…ˆæœ€é«˜çš„æ–¹æ³•æ˜¯åœ¨æ•°ç»„ä¸­æ·»åŠ ä¸€ä¸?length å­—æ®µæŒ‡å®šæ•°ç»„çš„å®é™…é•¿åº¦ã€?- å¦‚æœæ•°ç»„æ²¡æœ‰ length å­—æ®µï¼Œåˆšæ•°ç»„çš„å€¼å¿…é¡»æ˜¯ä¸€ä¸ªéç©ºæ•°ç»„ï¼Œæ•°ç»„çš„å®é™…å…ƒç´ ä¸ªç´ å°†ç¡®å®šåŸç”Ÿé™æ€æ•°ç»„çš„é•¿åº¦ã€?
ä¾‹å¦‚:

```aardio aardio
var arr  =  {
int value[] = { length = 99/*å¯ä»¥ä½¿ç”¨å˜é‡*/ }
}

```

å¦‚æœæ²¡æœ‰ä½¿ç”¨ length æŒ‡å®šæ•°ç»„é•¿åº¦ï¼Œé‚£ä¹?aardio å°†è·å–æ•°ç»„çš„å®é™…é•¿åº¦ï¼Œå¯¹äº?BYTE,byte,WORD,word ç­‰å€¼å¯ä»¥ä¸ºå­—ç¬¦ä¸²çš„ç±»å‹ - æ”¯æŒä½¿ç”¨å­—ç¬¦ä¸²ç¡®å®šæ•°ç»„é•¿åº¦ã€?
ä¾‹å¦‚ï¼?
```aardio aardio
var arr  =  {
int value[] = { 1,2 }
}

```

å¦‚æœåŸç”Ÿæ•°ç»„çš„å…ƒç´ ç±»å‹æ˜¯ç»“æ„ä½“æ—¶ï¼ˆæ•°ç»„æœ¬èº«æ˜¯ struct ç±»å‹çš„æ•°ç»„ï¼‰ï¼?
åˆ™è‡³å°‘éœ€è¦æŒ‡å®šç¬¬ä¸€ä¸ªå…ƒç´ çš„å€¼ï¼ˆaardio ç”¨è¿™ä¸ªå…ƒç´ ç¡®å®šæ•°ç»„å…ƒç´ å®é™…ä½¿ç”¨çš„ç»“æ„ä½“ç±»å‹ï¼‰

ç¤ºä¾‹å¦‚ä¸‹ï¼?
```aardio aardio
var arrLength = 99;
var arr  =  {
    struct value[] = {
        length = arrLength; //æŒ‡å®šæ•°ç»„é•¿åº¦
        {  //è‡³å°‘æŒ‡å®šç¬¬ä¸€ä¸ªç»“æ„ä½“å…ƒç´ çš„å€?            int x;
            int y;
        };
    }
}

```

æˆ‘ä»¬å¿…é¡»ç”¨å°†åŸç”Ÿæ•°ç»„æ”¾åˆ°ä¸€ä¸ªç»“æ„ä½“ä¸­ã€?ä¾‹å¦‚ä¸Šé¢çš?arr æ˜¯ç»“æ„ä½“å¯¹è±¡ï¼Œarr.value æ‰æ˜¯åŒ…å«åœ¨ç»“æ„ä½“ä¸­çš„æ•°ç»„ã€?
åœ¨å£°æ˜åŸç”?API å‡½æ•°æ—¶ï¼ŒåŸç”Ÿæ•°ç»„å‚æ•°çš„ç±»å‹ä¹Ÿåº”å£°æ˜ä¸ºã€€struct ç±»å‹ï¼ˆæˆ– `struct&` ç±»å‹ï¼‰ï¼Œstruct ç±»å‹å‚æ•°åœ?API å‚æ•°ä¸­ä¼ å€ï¼ˆç»“æ„ä½“æŒ‡é’ˆï¼‰è€Œéä¼ å€¼ã€?
## raw.toarray è¿è¡Œæ—¶åˆ›å»ºæŒ‡å®šé•¿åº¦çš„åŸç”Ÿæ•°ç»„

1. å‡½æ•°åŸå‹ï¼?

   ```aardio aardio
   rawArray = raw.toarray( arrayOrLenght, rawTypename = "struct", fieldName = "array" )

   ```

2. å‡½æ•°è¯´æ˜ï¼?
   å‡½æ•°çš„ä¸»è¦åŠŸèƒ½æ˜¯åœ¨è¿è¡Œæ—¶åˆ›å»ºæŒ‡å®šé•¿åº¦çš„åŸç”Ÿæ•°ç»„ã€?
   å‡½æ•°æ ¹æ®ä»ç¬¬ä¸€ä¸ªå‚æ•?@arrayOrLenght è·å–çš„é•¿åº¦åœ¨ç»“æ„ä½“ä¸­åˆ›å»ºä¸€ä¸ªå€¼ä¸ºåŸç”Ÿç±»å‹æ•°ç»„çš„å­—æ®µï¼ˆç”±ç¬¬ä¸‰ä¸ªå‚æ•° @rawTypename æŒ‡å®šå­—æ®µåç§° ï¼‰ã€‚å‚æ•?@arrayOrLenght å¯ä»¥ç›´æ¥ç”¨ä¸€ä¸ªæ•°å€¼æŒ‡å®šæ•°ç»„é•¿åº¦ï¼Œä¹Ÿå¯ä»¥ç”¨äºåˆå§‹åŒ–æ•°ç»„å†…å®¹ä¸å¤§å°çš„æ™®é€šæ•°ç»„ï¼ˆ table å¯¹è±¡ ï¼‰ã€?
   ç¬¬äºŒä¸ªå‚æ•?@rawTypename æŒ‡å®š [åŸç”Ÿæ•°æ®ç±»å‹å](datatype.html)ï¼Œé»˜è®¤ä¸º"struct" ç±»å‹ã€?
   ç¬¬ä¸‰ä¸ªå‚æ•?@rawTypename æŒ‡å®šåˆ›å»ºçš„ç»“æ„ä½“ä¸­ä¿å­˜åŸç”Ÿæ•°ç»„çš„å­—æ®µåç§°ï¼Œçœç•¥åˆ™ä½¿ç”¨é»˜è®¤å­—æ®µå?"array"ã€?
3. è°ƒç”¨ç¤ºä¾‹ï¼?

   ```aardio aardio
   import win;

   //åˆ›å»ºä¸€ä¸ªç»“æ„ä½“
   æ•°ç»„ = {}
   æ•°ç»„[1] = ::POINT()
   æ•°ç»„[1].x = 24123
   æ•°ç»„[1].y = 888

   æ•°ç»„[2] = ::POINT()
   æ•°ç»„[2].x = 45645
   æ•°ç»„[2].y = 999

   //è½¬æ¢ä¸ºAPIæ•°ç»„
   array_c = raw.toarray( æ•°ç»„ )

   ```


   ä¸Šé¢çš„ä»£ç ç­‰ä»·äº:


   ```aardio aardio
   array_c =  {
     struct array[] = {}
   }

   array_c.array[1] = ::POINT(24123,888)
   array_c.array[2] = ::POINT(45645,999)

   ```

4. è°ƒç”¨ç¤ºä¾‹2ï¼?

   ```aardio aardio
   //æ„é€ å®šé•¿åŸç”Ÿæ•°ç»?   var rawArray1 ={

     struct items[24] = {
        { int int=0; float float=0.0; }
     }
   }

   //åŠ¨æ€åˆ›å»ºå®šé•¿æ•°ç»?   var rawArray2  = raw.toarray( 24,"struct","items" )

   //ç»“æ„ä½“æ•°ç»„è‡³å°‘è¦æŒ‡å®šä¸€ä¸ªç»“æ„ä½“å®ä¾‹ä»¥ç¡®å®šæ•°ç»„ç±»å‹ã€?   rawArray2.items[1] = {
     int int=0;
     float float=0.0;
   }

   import console;
   console.logPause(
     raw.sizeof(rawArray1)==raw.sizeof(rawArray2)
   );

   ```


## å°†ç»“æ„ä½“è½¬æ¢ä¸ºå­—ç¬¦ä¸²

è¯·å‚è€? [raw.tostring](mem.html#tostring)

## å°†ç»“æ„ä½“è½¬æ¢ä¸ºå­—èŠ‚æ•°ç»?
è¯·å‚è€? [raw.buffer](mem.html#buffer)

## åŸç”Ÿæ•°ç»„ä¸?buffer ç›¸äº’è½¬æ¢

ç¤ºä¾‹ï¼?
```aardio aardio
//åˆ›å»ºä¸€ä¸ªç»“æ„ä½“
array = {}
array[1] = ::POINT()
array[1].x = 24123
array[1].y = 888

array[2] = ::POINT()
array[2].x = 45645
array[2].y = 999

//è½¬æ¢ä¸ºåŸç”Ÿç±»å‹æ•°ç»?var rawArray = raw.toarray( array )

//è½¬æ¢ä¸ºäºŒè¿›åˆ¶å­—èŠ‚æ•°ç»„ï¼ˆbufferï¼?var buffer = raw.buffer(rawArray)

//å†åˆ›å»ºä¸€ä¸ªç©ºçš„åŸç”Ÿç±»å‹æ•°ç»?var rawArray2 = raw.toarray( {::POINT(),::POINT()} )

//ä»å†…å­˜é‡Œå¤åˆ¶åŸç”Ÿç»“æ„ä½“çš„æ•°æ®åˆ?rawArray2
raw.convert( buffer,rawArray2 );

//è¾“å‡º
import console;
console.dumpJson(rawArray2);
console.pause();

```

[Markdown æ ¼å¼](javascript:if(confirm('https://www.aardio.com/zh-cn/doc/library-guide/builtin/raw/struct.md  \n\nï¿½ï¿½ï¿½Ä¼ï¿½ï¿½Ş·ï¿½ï¿½ï¿½ Teleport Ultra ï¿½ï¿½ï¿½ï¿½, ï¿½ï¿½Îª ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ä¿ï¿½Ä¼ï¿½ï¿½ï¿½ï¿½Í¹æ·¶ï¿½Ú¡ï¿½  \n\nï¿½ï¿½ï¿½ï¿½ï¿½Ú·ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ï´ï¿½ï¿½ï¿½ï¿½ï¿½?'))window.location='https://www.aardio.com/zh-cn/doc/library-guide/builtin/raw/struct.md')

