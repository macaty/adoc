[aardio æ–‡æ¡£](../../../index.htm "aardio ç¼–ç¨‹è¯­è¨€æ–‡æ¡£é¦–é¡µ")

# æ–‡æœ¬è§£æ

## ä¸€ã€åˆ†è¡Œéå†åŒ¹é…ç»“æ?
å‡½æ•°åŸå‹ï¼?
```aardio aardio
string.each(str,pattern,lineDelimiter)

```

ä¸?[string.match](matching.html#match) ç­‰æ¨¡å¼åŒ¹é…å‡½æ•°ä¸åŒï¼Œstring.each ä¼šå°†æ–‡æœ¬æŒ‰è¡Œæ‹†åˆ†ï¼Œç„¶åè¿”å›ä¸€ä¸ªè¿­ä»£å™¨ï¼Œç”¨äºåœ¨ [for in](../../../language-reference/statements/iterator.html) è¯­å¥ä¸­å¾ªç¯ä¸”é€è¡ŒåŒ¹é…å­—ç¬¦ä¸²å¹¶ä¸”å¾ªç¯è¿”å›ç»“æœã€?
- å‚æ•° str æŒ‡å®šè¦å¤„ç†çš„å­—ç¬¦ä¸²ã€?- å‚æ•° pattern æŒ‡å®šæ¨¡å¼åŒ¹é…ä¸²ï¼ŒæŸ¥æ‰¾æ¨¡å¼ä¸²ä¸­å¯ç”¨åœ†æ‹¬å·åˆ›å»ºæ•è·åˆ†ç»„è‡ªå®šä¹‰è¿­ä»£å™¨è¿”å›å€¼ä¸ªæ•°ï¼Œå¦‚æœä¸æŒ‡å®šæ•è·ç»„åˆ™è¿­ä»£å™¨ç›´æ¥è¿”å›æ‰¾åˆ°çš„å­—ç¬¦ä¸²ã€?
ç¤ºä¾‹ï¼?
```aardio aardio
import console;

var str = /*
å±æ€§å1: å±æ€§å€?
å±æ€§å2: å±æ€§å€?
å±æ€§å3: å±æ€§å€?
*/

for k,v in string.each(str,"(.+?)\s*\:\s*(.*)") {
    console.log(k,v)
}
console.pause();

```

## äºŒã€åˆ†è¡Œæ‹†åˆ†æ–‡æœ?[\#](\#lines)

æˆ‘ä»¬é‡åˆ°çš„å¾ˆå¤šéœ€è¦è§£æçš„æ–‡æœ¬éƒ½ä»¥æ˜¯è¡Œä¸ºå•ä½çš„ã€?
æœ€å¸¸è§çš„ä¾‹å¦?CSV æ ¼å¼ï¼ŒCSV æ ¼å¼å¯ä»¥ç”?aardio æ ‡å‡†åº“ä¸­çš?[string.database](../../../library-reference/string/database.html) è§£æã€?
ä½†æ˜¯æˆ‘ä»¬è¿˜ä¼šé‡åˆ°å¾ˆå¤šå…¶ä»–æ ¼å¼çš„åˆ†è¡Œæ–‡æœ¬ï¼Œè¿™æ—¶å€™æˆ‘ä»¬å¯ä»¥ä½¿ç”?string.lines å‡½æ•°è¿›è¡Œè§£æã€?
å‡½æ•°åŸå‹ï¼?
```aardio aardio
string.lines(str,lineDelimiter,columnSeparator,maxColumns)

```

è¯´æ˜ï¼?
string.lines ç”¨äºåˆ›å»ºä¸€ä¸ªè¿­ä»£å™¨ï¼Œç”¨äº?[for in](../../../language-reference/statements/iterator.html) è¯­å¥ä¸­å¾ªç¯æŒ‰è¡Œæ‹†åˆ†å­—ç¬¦ä¸²å¹¶è¿”å›æ‹†åˆ†ç»“æœã€?
- å‚æ•° str æŒ‡å®šè¦è§£æçš„å­—ç¬¦ä¸²ã€?
- å‚æ•° lineDelimiter ç”¨äºæŒ‡å®šæ¢è¡Œæ ‡è®°ï¼Œæ”¯æŒæ¨¡å¼åŒ¹é…è¯­æ³•ã€?
- å‚æ•° columnSeparator ç”¨äºæŒ‡å®šåˆ—åˆ†éš”ç¬¦ï¼Œæ”¯æŒæ¨¡å¼åŒ¹é…ã€‚å¦‚æœæŒ‡å®šäº†åˆ—åˆ†éš”ç¬¦åˆ™æ¯æ¬¡è¿­ä»£è¿”å›çš„éƒ½æ˜¯æ•°ç»„ï¼Œå¦åˆ™è¿”å›çš„æ˜¯å­—ç¬¦ä¸²ã€?- å‚æ•° maxColumns ç”¨äºé™å®šæ‹†åˆ†çš„æœ€å¤§åˆ—æ•°ï¼Œæ³¨æ„è¿™ä¸ªå‚æ•°ä»…åœ¨æŒ‡å®š columnSeparator å‚æ•°æ—¶æœ‰æ•ˆã€?
string.lines å®é™…ä¸Šç›¸å½“äºè°ƒç”¨å¹¶å¢å¼ºäº† [splitEx](part.html#splitEx) çš„åŠŸèƒ½ï¼Œå‚æ•°ç”¨æ³•ä¸?splitEx æ˜¯ä¸€è‡´çš„ï¼Œä¾‹å¦‚åœ¨åˆ†éš”ç¬¦ä¸­åŒæ ·æ”¯æŒæ•è·ç»„å¹¶ä½œå¦‚ä¸‹å¤„ç†ï¼š

- æ¨¡å¼ä¸²å°¾éƒ¨æœ‰ `$` ç¬¦å·ï¼Œåˆ™æ•è·ç»„æ”¾åˆ°ä¸Šä¸ªæ‹†åˆ†ç»“æœå°¾éƒ¨ã€?- æ¨¡å¼ä¸²å¤´éƒ¨æœ‰ `^` ç¬¦å·ï¼Œåˆ™æ•è·ç»„æ”¾åˆ°ä¸‹ä¸ªæ‹†åˆ†ç»“æœå¤´éƒ¨ã€?- æ¨¡å¼ä¸²å¤´éƒ¨æœ‰ `^` ç¬¦å·å¹¶ä¸”å°¾éƒ¨æœ?`$` ç¬¦å·ï¼?åˆ™æ•è·ç»„å°†ç”±è¿­ä»£å™¨è¿”å›ä¸ºå•ç‹¬çš„æ‹†åˆ†ç»“æœï¼Œç´§éšå…¶åçš„ç¬¬äºŒä¸ªè¿”å›å€¼ä¸º true ä»¥è¡¨æ˜è¯¥æ‹†åˆ†ç»“æœæ˜¯ä¸€ä¸ªåˆ†éš”ç¬¦ã€‚è°ƒç”¨ä»£ç æ ¼å¼ä¸º `for line,isSeparator in string.lines(str,"^(åˆ†éš”ç¬?$"){ }` è¿™ä¸ªç‰¹æ€§è¢«ç”¨äºå®ç°æ–‡æœ¬åˆ†å¥çš?[string.sentences åº“](../../../library-reference/string/sentences.html)ã€?
ä¸‹é¢çœ‹ä¸€ä¸ªç®€å•çš„è°ƒç”¨ç¤ºä¾‹ï¼?
```aardio aardio
import console;

var str = /*
abc,def,xyz
abc2,def2,xyz2
abc3,def3,xyz3
*/

for( line in string.lines(str,,"[\s,;=]") ){
    console.log(line[1],line[2],line[3])
}
console.pause();

```

ä»¥ä¸Šä»£ç ç”¨äºå¾ªç¯éå†æ¯ä¸€è¡Œç”¨ç©ºæ ¼é”®ã€åˆ¶è¡¨ç¬¦(tab)ã€é€—å·ã€åˆ†å·æˆ–ç­‰å·æ‹†åˆ†å‡ºæ¥çš„å­—ç¬¦ä¸²æ•°ç»„ã€?
æˆ‘ä»¬å¯ä»¥å°†è¿­ä»£å™¨ç›´æ¥ä¼ å…¥ table.array ä»¥å¿«é€Ÿè½¬æ¢ä¸ºæ•°ç»„ï¼Œä¾‹å¦‚ï¼š

```aardio aardio
var str  = /*
abc,def,efg
123,456,789
*/

//è½¬æ¢ä¸ºæ•°ç»?var array = table.array( , string.lines(str,,",") )

```

å¦‚æœè¿­ä»£å™¨ä¼ å…?table.array çš„ç¬¬ 2 ä¸ªå‚æ•°ï¼Œåˆ™å–è¿­ä»£å™¨çš„é¦–ä¸ªå¾ªç¯è¿”å›å€¼ä½œä¸ºæ•°ç»„å…ƒç´ ã€?
## ä¸‰ã€è§£æå­—ç¬¦ä¸²å±æ€§è¡¨ [\#](\#talbe)

å­—ç¬¦ä¸²å±æ€§è¡¨æ˜¯ä¸€ç§å¾ˆå¸¸è§çš„æ–‡æœ¬æ ¼å¼ã€?
ç¤ºä¾‹ï¼?
```txt txt
å±æ€§å1: å±æ€§å€?
å±æ€§å2: å±æ€§å€?
å±æ€§å3: å±æ€§å€?

```

æ ¼å¼è¯´æ˜ï¼?
- æ¯è¡Œä¸ºä¸€ä¸ªå•ä½ï¼Œå±æ€§å€¼ä¸èƒ½è·¨è¡Œï¼Œå¼•å·ç­‰ä»…ä½œä¸ºå­—é¢å€¼è§£æã€?- åå€¼å¯¹ä¹‹é—´ç”?`:` æˆ?`=` åˆ†éš”ï¼Œå¿½ç•¥åˆ†éš”ç­‰å‰åçš„ç©ºç™½å­—ç¬¦ã€?- æŸäº›ç¨‹åºé‡Œå…è®¸åœ¨è¡Œé¦–ç”?`#` æ ‡æ˜ä¸€ä¸ªéœ€è¦è¢«å¿½ç•¥çš„æ³¨é‡Šã€?
aardio æä¾›äº?string.table ç”¨äºå¿«é€Ÿè§£æè¿™æ ·çš„æ–‡æœ¬å¹¶è¿”å›ä¸€ä¸ªè¡¨å¯¹è±¡ã€?
ç¤ºä¾‹ï¼?
```aardio aardio
import console;

var str = "
å±æ€§å1: å±æ€§å€?
å±æ€§å2: å±æ€§å€?
å±æ€§å3: å±æ€§å€?
"

//è§£æä¸ºè¡¨å¯¹è±¡
var propTable = string.table(str);

//è¾“å‡ºç»“æœ
console.dump(propTable);

console.pause();

```

string.table çš„å‡½æ•°åŸå‹ä¸ºï¼?
```aardio aardio
string.table(str,nameValueSeparator,lineDelimiter,commentChar)

```

é™¤äº†ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œå…¶ä»–å‚æ•°éƒ½æ˜¯å¯é€‰çš„ã€?
å‚æ•° nameValueSeparator ç”¨äºæŒ‡å®šé”®å€¼åˆ†éš”ç¬¦ï¼Œå·²é»˜è®¤æŒ‡å®šä¸?`\s*[\:=]\s*` ã€?
å‚æ•° lineDelimiter ç”¨äºæŒ‡å®šè¯†åˆ«è¡Œåˆ†éš”ç¬¦çš„æ¨¡å¼ä¸²ï¼Œå·²é»˜è®¤æŒ‡å®šä¸?`<\r*\n>|\r` ã€?
å‚æ•° commentChar æŒ‡å®šè¡Œé¦–æ³¨é‡Šç¬¦ï¼Œè¿™ä¸ªå‚æ•°ä»…æ”¯æŒå­—èŠ‚ç ã€‚é»˜è®¤æœªæŒ‡å®šã€‚å¦‚æœæŒ‡å®šä¸º `'#'#` è¡¨ç¤ºä»?`#` ç½®äºè¡Œé¦–æ—¶åˆ™å¿½ç•¥è¯¥è¡Œã€?
string.table ä»…æ”¯æŒä»¥è¡Œä¸ºå•ä½çš„å­—ç¬¦ä¸²å±æ€§è¡¨ã€‚è€Œæ ‡å‡†åº“ string.list åˆ™å…è®¸åœ¨å±æ€§å€¼ä¸­ç”¨å¼•å·åŒ…å«è·¨è¡Œçš„å¼•ç”¨æ®µï¼Œä»¥åŠæ›´å¤šå…¶ä»–ç‰¹æ€§ã€?
å‚è€ƒï¼š

- [string.list åº“å‚è€ƒ](../../../library-reference/string/list.html)

- [string.list èŒƒä¾‹](../../../example/Text/list.html)


## å››ã€è§£ææ›´å¤šæ–‡æœ¬æ ¼å¼?
aardio è§£ææ–‡æœ¬éå¸¸æ–¹ä¾¿ï¼Œæ ‡å‡†åº“æä¾›äº†å¾ˆå¤šè§£æå„ç§æ ¼å¼çš„åº“ï¼Œä»£ç é‡éƒ½å¾ˆå°‘ã€?
- [web.json åº“å‚è€ƒ](../../../library-reference/web/json.html) JSON æ ¼å¼ã€?
- [string.database åº“å‚è€ƒ](../../../library-reference/string/database.html) CSV æ ¼å¼ã€?
- [string.xml åº“å‚è€ƒ](../../../library-reference/string/xml.html) XML æ ¼å¼ã€?
- [string.html åº“å‚è€ƒ](../../../library-reference/string/html.html) HTML æ ¼å¼ã€?
- L [string.list åº“å‚è€ƒ](../../../library-reference/string/list.html) LIST æ ¼å¼ã€?

æ›´å¤šå…¶ä»–æ ¼å¼è¯·æŸ¥çœ‹ç›¸å…³åº“å‚è€ƒä¸èŒƒä¾‹ã€?
[Markdown æ ¼å¼](javascript:if(confirm('https://www.aardio.com/zh-cn/doc/library-guide/builtin/string/parsing.md  \n\nï¿½ï¿½ï¿½Ä¼ï¿½ï¿½Ş·ï¿½ï¿½ï¿½ Teleport Ultra ï¿½ï¿½ï¿½ï¿½, ï¿½ï¿½Îª ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ä¿ï¿½Ä¼ï¿½ï¿½ï¿½ï¿½Í¹æ·¶ï¿½Ú¡ï¿½  \n\nï¿½ï¿½ï¿½ï¿½ï¿½Ú·ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ï´ï¿½ï¿½ï¿½ï¿½ï¿½?'))window.location='https://www.aardio.com/zh-cn/doc/library-guide/builtin/string/parsing.md')

