
<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="robots" content="index, follow">
<meta name='description' content='aardio 编程语言文档 - 分行迭代读取文件'>
<meta http-equiv='content-language' content='zh-cn'>
<title>aardio 编程语言文档 - 分行迭代读取文件</title> 
<link rel="stylesheet" href="../../../css/markdown.css" tppabs="https://www.aardio.com/zh-cn/doc/css/markdown.css">
<script src="../../../js/prism.js" tppabs="https://www.aardio.com/zh-cn/doc/js/prism.js"></script>
<link rel="stylesheet" href="../../../../../../lib.baomitu.com/font-awesome/6.6.0/css/fontawesome.min.css" tppabs="https://lib.baomitu.com/font-awesome/6.6.0/css/fontawesome.min.css">
<link rel="stylesheet" href="../../../../../../lib.baomitu.com/font-awesome/6.6.0/css/solid.min.css" tppabs="https://lib.baomitu.com/font-awesome/6.6.0/css/solid.min.css">
</head>
<body class="markdown-body"><a id="back-to-home" href="../../../index.htm" tppabs="https://www.aardio.com/zh-cn/doc/" title="aardio 编程语言文档首页"><i class="fas fa-home" id="home-icon"></i><i class="fas fa-robot" id="ai-icon" style="display: none;"></i><span id="aardio-document-home">aardio 文档</span></a>
<h1>分行迭代读取文件</h1>

<p>io.lines(pathOrFile = io.stdin )  </p>

<p>io.lines 自动打开通过 @pathOrFile 参数指定路径的文件。<br>
@pathOrFile 参数也可以是使用 io.file 打开的文件对象，省略 @pathOrFile 参数则使用默认值 io.stdin 。</p>

<p>如果指定文件路径，io.lines 使用文本模式打开文件，文本模式 <code>&#39;\0&#39;</code>,<code>&#39;\x1A&#39;</code> 为终止符。如果需要读取 <code>&#39;\x1A&#39;</code>  或者 <code>&#39;\0&#39;</code>，请调用 <code>io.files(path,&quot;rb&quot;)</code> 以二进制模式打开文件对象，然后就文件对象指定为 io.lines 的第一个参数 @pathOrFile。</p>

<p>io.lines 创建一个<a href="../../../language-reference/statements/looping.html#for-in" tppabs="https://www.aardio.com/zh-cn/doc/language-reference/statements/looping.html#for-in">迭代器</a>， 支持在<a href="../../../language-reference/statements/looping.html#for-in" tppabs="https://www.aardio.com/zh-cn/doc/language-reference/statements/looping.html#for-in">泛型for</a> 循环中逐行读取文件，在读取完毕以后自动关闭文件对象。使用 io.lines 可以避免一次性读取太大的文件。  </p>

<pre><code class="aardio language-aardio">import console;

for line in io.lines(&quot;d:\test.txt&quot;) { //io.lines()返回的迭代器函数每次读取文件中的一行 
    console.log(line);
}
</code></pre>

<p>使用 file.read 函数可以实现类似的功能：</p>

<pre><code class="aardio language-aardio">import console;

var file = io.file(&quot;d:\test.txt&quot;)

while( var line = file.read() ) {
    console.log(line);
}

file.close();
</code></pre>

<p><a href="javascript:if(confirm('https://www.aardio.com/zh-cn/doc/library-guide/builtin/io/lines.md  \n\nļ޷ Teleport Ultra , Ϊ ʵļصġ  \n\nڷϴ?'))window.location='https://www.aardio.com/zh-cn/doc/library-guide/builtin/io/lines.md'" tppabs="https://www.aardio.com/zh-cn/doc/library-guide/builtin/io/lines.md">Markdown 格式</a></p>

</body> 
</html>