[aardio æ–‡æ¡£](../../../index.htm "aardio ç¼–ç¨‹è¯­è¨€æ–‡æ¡£é¦–é¡µ")

# time åº?
æ—¥æœŸæ—¶é—´å‡½æ•°åº“ï¼Œè¿™æ˜¯è‡ªåŠ¨å¯¼å…¥çš„å†…ç½®åº“ã€?
## time æ—¶é—´å¯¹è±¡

time ç»“æ„ä½“ç”¨äºè¡¨ç¤ºæ—¥æœŸæ—¶é—´å¯¹è±¡ï¼Œå…¶å£°æ˜å¦‚ä¸‹ï¼š

```aardio aardio
class time{
    WORD year; //å¹?    WORD month;//æœ?    WORD dayofweek; //æ˜ŸæœŸ
    WORD day; //æ—¥æœŸ
    WORD hour; //å°æ—¶
    WORD minute; //åˆ†é’Ÿ
    WORD second; //ç§?    WORD milliseconds;//è¿™ä¸ªå­—æ®µæ­£å¸¸æƒ…å†µä¸‹ä¸º0ï¼Œåªæœ‰åœ¨WinAPIå‡½æ•°ä¸­ä¼šèµ·ä½œç”?    format = "%Y/%m/%d %H:%M:%S"; //æ—¶é—´æ ¼å¼å­—ç¬¦ä¸?}

```

time ç»“æ„ä½“å…¼å®?WinAPI çš?SYSTEMTIME ç»“æ„ä½“ã€å…¼å®?COM æ¥å£æ—¥æœŸæ—¶é—´å¯¹è±¡ã€?å¯åœ¨ WinAPI å‡½æ•°ï¼ŒCOM å‡½æ•°ä¸­ç›´æ¥ä½¿ç”¨ã€?
## åˆ›å»ºæ—¶é—´å¯¹è±¡

å‡½æ•°åŸå‹ï¼?
`dateTime = time( strOrTimestampOrTableOrTime,format,locale);`

å‡½æ•°è¯´æ˜ï¼?
æ„é€ å¹¶è¿”å›æ—¶é—´å¯¹è±¡ã€?
å‚æ•°@1å¯ä»¥æ˜¯è¡¨ç¤ºæ—¶é—´çš„æ•°å€¼ã€å­—ç¬¦ä¸²ã€å‚æ•°è¡¨ã€æˆ–å…¶ä»– time,time.ole å¯¹è±¡ã€?
å‚æ•° @1 å¯ä»¥ç”¨ä¸€ä¸ªæ™®é€šçš„è¡¨æŒ‡å®šéƒ¨åˆ†æ—¶é—´å­—æ®µï¼Œä¹Ÿå¯ä»¥ä¼ å…¥å¦å¤–ä¸€ä¸ªéœ€è¦å¤åˆ¶çš„ time æˆ?time.ole å¯¹è±¡ã€‚time å°†ä¼šæ„é€ ä¸€ä¸ªæ–°çš„æ—¥æœŸæ—¶é—´å¯¹è±¡å¹¶è¿”å›ã€?
ä¸æŒ‡å®šå‚æ•°@1é»˜è®¤åˆå§‹åŒ–ä¸ºå½“å‰æ—¶é—´ã€?
å¯é€‰ç”¨å‚æ•°@2æŒ‡å®šæ ¼å¼åŒ–ä¸²ï¼Œæ ¼å¼åŒ–ä¸²çš„é¦–å­—ç¬¦ä¸º `!` è¡¨ç¤º UTC æ—¶é—´ã€‚çœç•¥æ ¼å¼ä¸²æ—¶é»˜è®¤å€¼ä¸º'%Y/%m/%d %H:%M:%S'ï¼Œå¯å…¼å®¹è§£æ ISO8601 æ ¼å¼æ—¶é—´ã€?
æ ¼å¼åŒ–ä¸²æœ‰ä¸¤ä¸ªä½œç”¨ï¼š

- å°†è¿”å›çš„æ—¶é—´å¯¹è±¡è½¬æ¢ä¸ºå­—ç¬¦ä¸²æ—¶ä¼šä½¿ç”¨æ ¼å¼åŒ–ä¸²æŒ‡å®šçš„æ ¼å¼ä¸è§„åˆ™ã€?- time å¯¹è±¡çš„ç¬¬ä¸€ä¸ªæ„é€ å‚æ•°ä¸ºæ–‡æœ¬æ—¶ï¼Œåˆ™ä¾æ®ç¬¬äºŒä¸ªå‚æ•° @format æŒ‡å®šçš„æ ¼å¼åŒ–ä¸²è§£æè·å–æ—¶é—´ã€?
å¯åœ¨åˆ›å»ºæ—¶é—´å¯¹è±¡ä»¥åä½¿ç”¨ format å±æ€§ä¿®æ”¹æ ¼å¼åŒ–ä¸²ã€?
è¯·å‚è€ƒï¼š [æ—¥æœŸæ—¶é—´æ ¼å¼åŒ–è¯­æ³•](#format)

å¯é€‰ç”¨ç¬¬ä¸‰ä¸ªå‚æ•?@locale æŒ‡å®šå¯¹è±¡æ–‡æœ¬æ ¼å¼åŒ–ä½¿ç”¨çš„åŒºåŸŸè¯­è¨€ã€?locale æ”¯æŒçš„å‚æ•°ä¸ setlocale ç›¸åŒï¼Œä¾‹å¦‚è‹±æ–‡ä¸º "enu", ç®€ä½“ä¸­æ–‡ä¸º"chs" ã€‚ä¹Ÿå¯ä»¥åœ¨æ—¶é—´å¯¹è±¡çš„ locale å±æ€§æŒ‡å®šæ ¼å¼åŒ–ä½¿ç”¨çš„è¯­æ³•ï¼Œå¦‚æœä¸æŒ‡å®šåˆ™ä½¿ç”¨é»˜è®¤çš„åŒºåŸŸè®¾ç½?- é»˜è®¤åŒºåŸŸè®¾ç½®å¯ä½¿ç”?setlocale()å‡½æ•°è¿›è¡Œè®¾ç½®ï¼Œä¾‹å¦?`setlocale("all","chs")` æˆ?`setlocale("time","chs")` åº”ç”¨ç®€ä½“ä¸­æ–‡æ ¼å¼åŒ–,è€Œä½¿ç”?`setlocale("time","enu")` åº”ç”¨è‹±æ–‡è¯­è¨€æ ¼å¼åŒ–æ—¶é—´ã€?
![](icon/info.gif) æ ¼å¼åŒ–ä¸²å¦‚æœå°?`!` ä½œä¸ºç¬¬ä¸€ä¸ªå­—ç¬¦è¡¨ç¤ºä½¿ç”?UTC æ ‡å‡†æ—¶é—´ï¼Œå¦åˆ™ä½¿ç”¨æœ¬åœ°åŒºåŸŸæ—¶é—´ã€‚UTF æ—¶é—´å¯ä»¥ä½¿ç”¨æ—¶é—´å¯¹è±¡çš?local() å‡½æ•°è½¬ä¸ºæœ¬åœ°æ—¶é—´ï¼Œè€Œæœ¬åœ°æ—¶é—´å¯ä»¥ä½¿ç”¨å¯¹è±¡çš„ utc() å‡½æ•°è½¬æ¢ä¸?UTC æ—¶é—´ã€?
ä¸åŒå‚æ•°ç”¨æ³•ï¼?
- time()

  ä¸æŒ‡å®šä»»ä½•å‚æ•°åˆ›å»ºæ—¶é—´å¯¹è±¡åˆ™é»˜è®¤åˆå§‹åŒ–ä¸ºå½“å‰æ—¶é—´ã€?
  ä¸æŒ‡å®šå‚æ•°@1 åœ?milliseconds å­—æ®µè¿”å›æ¯«ç§’æ•°ï¼Œä¸?dayofyear å­—æ®µæ— æ•ˆ,
  å‚æ•°@1æŒ‡å®šå…¶ä»–å‚æ•°æ—?milliseconds å­—æ®µæ€»æ˜¯ä¸?0

- time( timestamp )

  è‡ªæ—¶é—´æˆ³åˆ›å»ºæ—¥æœŸæ—¶é—´å¯¹è±¡ã€?
  å‚æ•° @1 ç”¨ä¸€ä¸ªæ•°å€¼æŒ‡å®šæ—¶é—´æˆ³ - ä¹Ÿå°±æ˜¯è‡ª UTC æ—¶é—´ 1970å¹?æœ?æ—?00:00:00 åˆ?3000å¹?2æœ?1æ—?3:59:59 ä¹‹é—´çš„ç§’æ•°ã€?
- time( str,format )

  ä½¿ç”¨å­—ç¬¦ä¸²å‚æ•?@format æŒ‡å®šæ ¼å¼åŒ–ä¸²ã€‚å‚æ•?@format æŒ‡å®šçš„æ ¼å¼ä¸è§„åˆ™è§£æå‚æ•° @str æŒ‡å®šçš„å­—ç¬¦ä¸²è§£ææ—¶é—´å¯¹è±¡ï¼Œæ”¯æŒè‡ª 1900å¹?æœ?æ—?åˆ?9999å¹?2æœ?1æ—?çš„æ—¶é—´ã€?
  è‡ªæ–‡æœ¬è§£ææ—¶é—´ä»¥å°½å¯èƒ½å®½æ¾çš„è§„åˆ™è¯†åˆ«æ—¶é—´ã€?  æ ¼å¼ä¸²ä¸­ä¸æ˜¯ `%` å‰å¯¼æ ¼å¼åŒ–å­—ç¬¦ã€åˆ†éš”ç¬¦ä¸è¦æ±‚ç²¾ç¡®åŒ¹é…ã€?  æ ¼å¼åŒ–æ—¶é—´æ—¶å®½æ¾å¤„ç†æ‰€æœ‰ç©ºæ ¼ï¼Œæ— é¡»è€ƒè™‘ç©ºç™½å­—ç¬¦çš„ä¸¥æ ¼åŒ¹é…?

  å¦‚æœè¾“å…¥æ–‡æœ¬ä¸­çš„æ—¶é—´æ•°å€¼è¶…å‡ºæ—¥æœŸèŒƒå›´ï¼Œåˆ™è¿”å›?null ã€?  ä½†å¦‚æœå‡ºç°å½“æœˆä¸å­˜åœ¨çš„æ—¥æœŸä¸”å°äº 31 å·æ—¶ä¼šé¡ºæ¨ä¸ºä¸‹æœˆæ—¶é—´ã€?
  å¦‚æœæ ¼å¼åŒ–è§£ææ—¶é—´æ—¶è¾“å…¥æ–‡æœ¬æå‰ç»“æŸï¼Œè¿”å›?nullã€?  åˆ›å»ºå¯¹è±¡åå¯é€šè¿‡ format å±æ€§å•ç‹¬ä¿®æ”¹è¾“å‡ºæ—¶é—´æ ¼å¼ã€?
  è¯·å‚è€ƒï¼š [æ—¥æœŸæ—¶é—´æ ¼å¼åŒ–è¯­æ³•](#format)


è¿”å›å€¼è¯´æ˜ï¼š

è¿”å›çš„æ—¶é—´å¯¹è±¡å¯ä¼ å…¥å…¶ä»–çº¿ç¨‹ä½¿ç”¨ã€?
è¿”ä»¥å›çš„æ—¶é—´å¯¹è±¡å¯ä½œä¸ºè°ƒç”?tonumber çš„å‚æ•°è½¬æ¢ä¸ºè‡?UTC æ—¶é—´ 1970å¹?æœ?æ—?00:00:00 åˆ?3000å¹?2æœ?1æ—?3:59:59 ä¹‹é—´çš„ç§’æ•°ã€‚éœ€è¦æ›´å®½çš„è¿ç®—èŒƒå›´è¯·ä½¿ç”?time.ole å¯¹è±¡ã€?
è¿”ä»¥å›çš„æ—¶é—´å¯¹è±¡å¯ä½œä¸ºè°ƒç”?tostring å‡½æ•°çš„å‚æ•°è½¬æ¢ä¸ºå­—ç¬¦ä¸²ã€?
å¯é€‰ç”¨å‚æ•°@2æŒ‡å®šæ ¼å¼åŒ–ä¸²,é¦–å­—ç¬¦ä¸º!è¡¨ç¤º UTC æ—¶é—´ã€?å‚æ•°@1 ä¸ºæ–‡æœ¬æ—¶ï¼Œåˆ™ä¾æ®å‚æ•°@2æŒ‡å®šçš„æ ¼å¼åŒ–ä¸²è§£æè·å–æ—¶é—´ã€?
ç¤ºä¾‹ï¼?
```aardio aardio
//å¦‚æœçœç•¥æ‰€æœ‰å‚æ•°è¿”å›å½“å‰æ—¶é—?var tm = time();

//è‡ªæ–‡æœ¬è§£ææ—¶é—?var tm2 = time("2017-05-27T16:56:01Z",'%Y/%m/%d %H:%M:%S');

//æ ¼å¼åŒ–ä¸ºå­—ç¬¦ä¸?var str = tostring(tm2);

```

## datetimeç±»å‹è½¬æ¢: è½¬æ¢ä¸ºå­—ç¬¦ä¸²æˆ–æ•°å€?
```aardio aardio
var tm = time();

//è¿”å›æ—¶é—´æˆ³æ•°å€¼ï¼Œä»¥ç§’ä¸ºå•ä½?var n = tonumber(tm);

//ä¿®æ”¹æ ¼å¼åŒ–ä¸²
tm.format = "%Yå¹?mæœ?dæ—?%Hæ—?Måˆ?Sç§?;

//è¿”å›æ ¼å¼åŒ–çš„æ—¶é—´å­—ç¬¦ä¸?var s = tostring(tm);

```

## æ£€æµ‹æ—¶é—´å¯¹è±?
å¯ä»¥ä½¿ç”¨ type.eq å‡½æ•°æ£€æŸ¥ä¸¤ä¸ªæ—¶é—´å¯¹è±¡æ˜¯å¦ç›¸ç­‰ã€?
ä¹Ÿå¯ä½¿ç”¨ time.istime å‡½æ•°åˆ¤æ–­å¯¹è±¡æ˜¯å¦ä¸€ä¸ªæ—¶é—´å¯¹è±¡ã€?
type.eq æ˜¯ä¸¥æ ¼åˆ¤åˆ«ç±»å‹ï¼Œè€?time.istime æ˜¯å…¼å®¹æ€§æ£€æµ‹ï¼Œåªè¦æ‹¥æœ‰ç›¸åŒçš„ç»“æ„ä½“å£°æ˜éƒ½ä¼šè¿”å›trueã€‚time.istime æ£€æµ‹è¿”å›ä¸ºçœŸçš„å¯¹è±¡ï¼ŒåŒæ ·æ„è°“ç€å¯ä»¥é€šç”¨äº?COM å‡½æ•°ï¼ŒAPI å‡½æ•°ï¼Œå¯¹äºæ—¶é—´ç±»å‹éƒ½ä¼šä½¿ç”?time.istime è¿›è¡Œæ£€æµ‹ã€?
```aardio aardio
import console;
import time.ole;

var tm = time();

//è¾“å‡º true
console.log( time.istime(tm) )

var oletm = time.ole();

//è¾“å‡º true,å…¼å®¹timeå¯¹è±¡
console.log( time.istime(oletm) )

//è¾“å‡º falseï¼Œä¸ç›¸ç­‰
console.log( !! type.eq(oletm,tm) )

console.pause();

```

## æ—¶é—´æ ¼å¼åŒ–è¯­æ³?[\#](\#format)

åˆ›å»ºæ—¶é—´çš„timeå¯¹è±¡æ„é€ å‡½æ•°çš„ç¬¬äºŒä¸ªå‚æ•°å¯ä»¥æŒ‡å®šæ ¼å¼åŒ–å­—ç¬¦ä¸²ï¼Œä¸æŒ‡å®šæ ¼å¼åŒ–ä¸²æ—¶é»˜è®¤å€¼ä¸º'%Y/%m/%d %H:%M:%S'ã€?ä¹Ÿå¯ä»¥åœ¨åˆ›å»ºæ—¶é—´å¯¹è±¡ä»¥åä½¿ç”¨ format å±æ€§ä¿®æ”¹æ ¼å¼åŒ–ä¸²ã€?
![](../../../icon/info.gif) æ ¼å¼åŒ–ä¸²å¦‚æœå°?`!` ä½œä¸ºç¬¬ä¸€ä¸ªå­—ç¬¦è¡¨ç¤ºä½¿ç”?UTC æ ‡å‡†æ—¶é—´ï¼Œå¦åˆ™ä½¿ç”¨æœ¬åœ°åŒºåŸŸæ—¶é—´ã€‚UTF æ—¶é—´å¯ä»¥ä½¿ç”¨æ—¶é—´å¯¹è±¡çš?local() å‡½æ•°è½¬ä¸ºæœ¬åœ°æ—¶é—´ï¼Œè€Œæœ¬åœ°æ—¶é—´å¯ä»¥ä½¿ç”¨å¯¹è±¡çš„ utc() å‡½æ•°è½¬æ¢ä¸?UTC æ—¶é—´ã€?
æ ¼å¼åŒ–æ—¶é—´æ—¶å¯ä»¥ä½¿ç”¨ç¬¬ä¸‰ä¸ªå‚æ•°æŒ‡å®šæ ¼å¼åŒ–ä½¿ç”¨çš„è¯­è¨€ï¼?ä¾‹å¦‚ `tm = time(,"%a %B %Y %m %d  %H:%M:%S","enu")` çš„æœ€åä¸€ä¸ªå‚æ•?enu"æ‰¾å®šäº†æ ¼å¼åŒ–æ—¶ä½¿ç”¨è‹±æ–‡è¯­è¨€ã€‚ä¸­æ–‡åˆ™ä¸?chs"ï¼Œä¹Ÿå¯ä»¥åœ¨æ—¶é—´å¯¹è±¡çš„ locale å±æ€§æŒ‡å®šæ ¼å¼åŒ–ä½¿ç”¨çš„è¯­æ³•ï¼Œå¦‚æœä¸æŒ‡å®šåˆ™ä½¿ç”¨é»˜è®¤çš„åŒºåŸŸè®¾ç½?- é»˜è®¤åŒºåŸŸè®¾ç½®å¯ä½¿ç”?setlocale()å‡½æ•°è¿›è¡Œè®¾ç½®ï¼Œä¾‹å¦?setlocale("all","chs") æˆ?setlocale("time","chs") åº”ç”¨ç®€ä½“ä¸­æ–‡æ ¼å¼åŒ–,è€Œä½¿ç”?setlocale("time","enu") åº”ç”¨è‹±æ–‡è¯­è¨€æ ¼å¼åŒ–æ—¶é—´ã€?
åœ¨æ ¼å¼åŒ–ä¸²ä¸­ï¼Œæ¯ä¸€ä¸?`%` å·å£°æ˜ä¸€ä¸ªæ ¼å¼åŒ–æ ‡è®°ï¼Œå…¨éƒ¨å¯ç”¨çš„æ ¼å¼åŒ–æ ‡è®°å¦‚ä¸‹è¡¨ï¼?\`

- `%%` \- è¡¨ç¤ºåŸå§‹ `%` å­—ç¬¦ã€?- `%c` \- è¾“å‡ºå­—ç¬¦ä¸²æ—¶æŒ‰å½“å‰åŒºåŸŸé¦–é€‰çš„æ—¥æœŸæ—¶é—´æ ¼å¼ï¼Œå› ä¸ºè¿™ä¸ªæ ¼å¼å…·æœ‰ä¸ç¡®å®šæ€§ï¼Œä¸åº”ä½¿ç”¨æ­¤æ ¼å¼è§£æè¾“å…¥å­—ç¬¦ä¸²ã€?- `%x` \- æ ¼å¼åŒ–è¾“å‡ºå­—ç¬¦ä¸²æ—¶ä½¿ç”¨å½“å‰åŒºåŸŸé¦–é€‰çš„æ—¥æœŸè¡¨ç¤ºæ³•ï¼Œä¸åŒ…æ‹¬æ—¶é—´ï¼Œæ ¼å¼åŒ–è¾“å…¥å­—ç¬¦ä¸²æ—¶ç­‰ä»·äº `"%m/%d/%y"`
- `%X` \- æ ¼å¼åŒ–è¾“å‡ºå­—ç¬¦ä¸²æ—¶å½“å‰åŒºåŸŸé¦–é€‰çš„æ—¶é—´è¡¨ç¤ºæ³•ï¼Œä¸åŒ…æ‹¬æ—¥æœŸï¼Œæ ¼å¼åŒ–è¾“å…¥å­—ç¬¦ä¸²æ—¶ä½¿ç”?`"%H:%M:%S"`
- `%a` \- å½“å‰åŒºåŸŸæ˜ŸæœŸå‡ çš„ç®€å†™ï¼ˆæ ¼å¼åŒ–è¾“å…¥å­—ç¬¦ä¸²æ—¶å¿½ç•¥æ­¤å­—æ®µé‡åˆ°çš„é”™è¯¯ï¼‰
- `%A` \- å½“å‰åŒºåŸŸæ˜ŸæœŸå‡ çš„å…¨ç§°ï¼ˆæ ¼å¼åŒ–è¾“å…¥å­—ç¬¦ä¸²æ—¶å¿½ç•¥æ­¤å­—æ®µé‡åˆ°çš„é”™è¯¯ï¼?- `%b` \- å½“å‰åŒºåŸŸæœˆä»½çš„ç®€å†?%B - å½“å‰åŒºåŸŸæœˆä»½çš„å…¨ç§?- `%d` \- æœˆä»½ä¸­çš„ç¬¬å‡ å¤©ï¼Œåè¿›åˆ¶æ•°å­—ï¼ˆèŒƒå›´ä»?01 åˆ?31ï¼?- `%H` \- 24 å°æ—¶åˆ¶çš„åè¿›åˆ¶å°æ—¶æ•°ï¼ˆèŒƒå›´ä» 00 åˆ?23ï¼?- `%I` \- 12 å°æ—¶åˆ¶çš„åè¿›åˆ¶å°æ—¶æ•°ï¼ˆèŒƒå›´ä» 00 åˆ?12ï¼?- `%m` \- åè¿›åˆ¶æœˆä»½ï¼ˆèŒƒå›´ä»?01 åˆ?12ï¼?- `%M` \- åè¿›åˆ¶åˆ†é’Ÿæ•°
- `%p` \- æ ¹æ®ç»™å®šçš„æ—¶é—´å€¼ä¸º `am' æˆ–` pm'ï¼Œæˆ–è€…å½“å‰åŒºåŸŸè®¾ç½®ä¸­çš„ç›¸åº”å­—ç¬¦ä¸²
- `%S` \- åè¿›åˆ¶ç§’æ•?- `%y` \- æ²¡æœ‰ä¸–çºªæ•°çš„åè¿›åˆ¶å¹´ä»½ï¼ˆèŒƒå›´ä»?00 åˆ?99,è§£ææ–‡æœ¬æ—¶ä¹Ÿå…¼å®¹è¾“å…¥çš?ä½å¹´ä»½ï¼‰
- `%Y` \- åŒ…æ‹¬ä¸–çºªæ•°çš„åè¿›åˆ¶å¹´ä»?è§£ææ–‡æœ¬æ—¶ä¹Ÿå…¼å®¹è¾“å…¥çš?ä½å¹´ä»?
- `%Z` \- æ—¶åŒºåæˆ–ç¼©å†™ %w - æ˜ŸæœŸä¸­çš„ç¬¬å‡ å¤©ï¼Œæ˜ŸæœŸå¤©ä¸º 0
- `%W` -æœ¬å¹´çš„ç¬¬å‡ å‘¨ï¼Œä»ç¬¬ä¸€å‘¨çš„ç¬¬ä¸€ä¸ªæ˜ŸæœŸä¸€ä½œä¸ºç¬¬ä¸€å¤©å¼€å§‹ï¼Œä¸åº”ä½¿ç”¨æ­¤æ ¼å¼è§£æè¾“å…¥å­—ç¬¦ä¸²ç”Ÿæˆæ—¶é—´,æ­¤æ ‡è®°ä½¿ç”¨å‰éœ€è¦è°ƒç”?tm.addsecond(0) å‡½æ•°åˆ·æ–° tm.dayofyear å­—æ®µã€?  %U - æœ¬å¹´çš„ç¬¬å‡ å‘¨ï¼Œä»ç¬¬ä¸€å‘¨çš„ç¬¬ä¸€ä¸ªæ˜ŸæœŸå¤©ä½œä¸ºç¬¬ä¸€å¤©å¼€å§‹ï¼Œä¸åº”ä½¿ç”¨æ­¤æ ¼å¼è§£æè¾“å…¥å­—ç¬¦ä¸²ç”Ÿæˆæ—¶é—´,æ­¤æ ‡è®°ä½¿ç”¨å‰éœ€è¦è°ƒç”?tm.addsecond(0) å‡½æ•°åˆ·æ–° tm.dayofyear å­—æ®µã€?  %j - æœ¬å¹´çš„ç¬¬å‡ å¤©ï¼Œåè¿›åˆ¶æ•°ï¼ˆèŒƒå›´ä»?001 åˆ?366ï¼‰ï¼Œä¸åº”ä½¿ç”¨æ­¤æ ¼å¼è§£æè¾“å…¥å­—ç¬¦ä¸²ç”Ÿæˆæ—¶é—´,æ­¤æ ‡è®°ä½¿ç”¨å‰éœ€è¦è°ƒç”?tm.addsecond(0) å‡½æ•°åˆ·æ–° tm.dayofyear å­—æ®µã€?\`\`


ä½¿ç”¨æ ¼å¼ä¸²è§£ææ–‡æœ¬å¹¶è½¬æ¢ä¸ºæ—¶é—´æ—¶ï¼Œé™¤ä¸Šè¿°åŒ¹é…æ—¶é—´çš„æ ‡è®°ä»¥å¤–ï¼Œ
å…¶ä»–åˆ†éš”å­—ç¬¦æ”¯æŒå®½æ¾çš„æ¨¡ç³ŠåŒ¹é…ï¼Œè§„åˆ™å¦‚ä¸‹ï¼?
- æ ¼å¼ä¸²ä¸æ˜¯ä½¿ç”?`%` å‰å¯¼çš„å­—ç¬¦å¦‚æœæ²¡æœ‰ç²¾ç¡®åŒ¹é…åˆ°å¯¹åº”å­—ç¬¦,


  åˆ™æ¨¡ç³ŠåŒ¹é…è¿ç»­çš„æ ‡ç‚¹ã€æˆ–è¿ç»­çš„å­—æ¯ï¼Œæˆ–è¿ç»­çš„å®½å­—ç¬¦ï¼ˆä¾‹å¦‚æ±‰å­—ï¼‰ã€?
- å¿½ç•¥ç›®æ ‡å­—ç¬¦ä¸²ç©ºæ ¼ï¼Œå¿½ç•¥ç›®æ ‡å­—ç¬¦ä¸²ä»¥æ•°å€¼è¡¨ç¤ºçš„æ—¶é—´å­—æ®µå‰çš„éæ•°å€¼å­—ç¬¦ã€?
- å®½æ¾å¤„ç†æ‰€æœ‰ç©ºæ ¼ï¼Œæ— é¡»è€ƒè™‘ç©ºç™½å­—ç¬¦çš„ä¸¥æ ¼åŒ¹é…?

- æ”¯æŒ ISO8601 å…¼å®¹çš„çœç•¥é—´éš”ç¬¦çš„å†™æ³•ï¼ˆå³ä½¿æ ¼å¼ä¸²ä¸­æŒ‡å®šäº†é—´éš”ç¬¦ï¼?

  çœç•¥é—´éš”ç¬¦æ—¶å¹´æœˆæ—¥ç»„åˆçš„æ•°å€¼å¿…é¡»ä¸º8ä½æˆ–6ä½ï¼Œå…¶ä¸­æœˆã€æ—¥å¿…é¡»æ˜¯ä¸¤ä¸ªæ•°å­—ï¼Œ


  æ—¶åˆ†ç§’è¿å†™æ—¶æ¯ä¸ªéƒ¨åˆ†éƒ½å¿…é¡»æ˜¯ä¸¤ä¸ªæ•°å­—ã€?

å¦‚æœè¾“å…¥æ–‡æœ¬ä¸­çš„æ—¶é—´æ•°å€¼è¶…å‡ºæ—¥æœŸèŒƒå›´ï¼Œåˆ™è¿”å›?null ã€‚ä½†å¦‚æœå‡ºç°å½“æœˆä¸å­˜åœ¨çš„æ—¥æœŸä¸”å°äº?31 å·æ—¶ä¼šé¡ºæ¨ä¸ºä¸‹æœˆæ—¶é—´ã€?å¦‚æœæ ¼å¼åŒ–æ—¶é—´æœªå®Œæˆï¼Œä½†è¾“å…¥æ–‡æœ¬æå‰ç»“æŸåˆ™è¿”å›?null ã€?
å¦‚æœæœ€åä¸€ä¸ªæ ¼å¼åŒ–æ ‡è®°è§£ææˆåŠŸä»¥åå¦‚æœè¿˜æœ‰å‰©ä½™çš„å­—ç¬¦ä¸²ï¼?é¦–å…ˆè·³è¿‡å‰é¢çš„ç©ºç™½å­—ç¬¦ï¼Œä»å‰é¢å–å…¶ä»–è¿ç»­çš„éç©ºç™½å­—ç¬¦å­˜å…¥æ—¶é—´å¯¹è±¡çš„endstrå±æ€§å†…ã€‚endstrå¯ç”¨äºåç»­è§£æ?ISO8601 ç­‰æ ¼å¼çš„æ—¶åŒºï¼Œå¯å‚è€?builtin åº“ä¸­ time.iso8601 å‡½æ•°çš„æºç ã€?
ä¸‹é¢æ˜¯ä¸€ä¸ªä½¿ç”¨æ ¼å¼åŒ–ä»£ç çš„ç¤ºä¾‹ï¼š

```aardio aardio
import console;

//ä»å­—ç¬¦ä¸²åˆ›å»ºæ—¶é—´å€?var tm = time("2006/6/6 12:56:01","%Y/%m/%d %H:%M:%S");

//æ”¹å˜æ ¼å¼åŒ–æ¨¡å¼ä¸²
tm.format = "%Yå¹?mæœ?dæ—?%Hæ—?Måˆ?Sç§?;

//ä»æ—¶é—´å€¼åˆ›å»ºå­—ç¬¦ä¸²
var str = tostring(tm);

//æ‰“å°ç»“æœåˆ°æ§åˆ¶å°çª—å£
console.log(str);

console.pause();

```

## æ—¶é—´çš„åŠ å‡è¿ç®?
æ—¶é—´å¯¹è±¡å¯ä»¥ä½¿ç”¨ tonumber å‡½æ•°è½¬æ¢ä¸ºä»¥ç§’ä¸ºå•ä½çš„æ•°å€? time.ole å¯¹è±¡åˆ™è½¬æ¢ä¸ºä»¥å¤©ä¸ºå•ä½çš„æ•°å€? è¿›è¡Œè¿ç®—ã€?
æˆ‘ä»¬ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”?time å¯¹è±¡æä¾›çš„æ–¹æ³•è¿›è¡ŒåŠ å‡è¿ç®—ã€?
```aardio aardio
import console;
var dateTime = time.now();

dateTime.year += 2;
console.log(dateTime,"å¢åŠ 2å¹?)

dateTime.addsecond(30)
console.log(dateTime,"å¢åŠ 30ç§?)

dateTime.addminute(180)
console.log(dateTime,"å¢åŠ 180åˆ?)

dateTime.addhour(2)
console.log(dateTime,"å¢åŠ ä¸¤å°æ—?)

dateTime.addday(365)
console.log(dateTime,"å¢åŠ 365å¤?)

dateTime.addmonth(-24)
console.log(dateTime,"å€’é€€24ä¸ªæœˆ")

var tm2 = time.now()

//è®¡ç®—ç›¸å·®æ—¶é—´
console.dumpJson(
    ç›¸å·®æœˆä»½ = tm2.diffmonth(dateTime);
    ç›¸å·®å¤©æ•° = tm2.diffday(dateTime);
    ç›¸å·®å°æ—¶æ•?= tm2.diffhour(dateTime);
    ç›¸å·®åˆ†é’Ÿæ•?= tm2.diffminute(dateTime);
    ç›¸å·®ç§’æ•° = tm2.diffsecond(dateTime);
    ç›¸å·®ç§’æ•°2 = tonumber(dateTime) - tonumber(tm2);
)

console.pause();

```

ä½¿ç”¨ add... ç³»åˆ—å‡½æ•°ä¿®æ”¹æ—¶é—´å°†è‡ªåŠ¨è®¡ç®—å¹¶æ›´æ–°æ—¶é—´å¯¹è±¡çš„æ‰€æœ‰å­—æ®µã€?
è€Œç›´æ¥æŒ‡å®šæ—¶é—´å¯¹è±¡çš„éƒ¨åˆ†å­—æ®µï¼Œaardio ä¸ä¿è¯æ—¶é—´çš„åˆæ³•æ€§ï¼Œä¹Ÿä¸ä¼šè‡ªåŠ¨æ›´æ–?dayOfWeek å­—æ®µï¼Œä¹Ÿå¯ä»¥ä¸»åŠ¨è°ƒç”¨ tm.update() å‡½æ•°é‡æ–°è®¡ç®—æ—¶é—´å¹¶æ›´æ–°è¯¥å­—æ®µã€?
## datetime çš„å…³ç³»è¿ç®?
```aardio aardio
import console;

var dateTime = time.now();
dateTime.year += 2;

var tm2 = time.now();

//å…³ç³»è¿ç®—
console.dumpTable(
    ç›¸ç­‰ = tm2 == dateTime;
    å¤§äº = tm2 > dateTime;
    å°äºç­‰äº = tm2 <= dateTime;
)

console.pause()

```

## time å¯¹è±¡ åœ?WinAPI å‡½æ•°ä¸­çš„è¿ç”¨

```aardio aardio
//åˆ›å»º UTC æ—¶é—´
var dateTime = time.utc();

//è°ƒç”¨ API å‡½æ•°
::Kernel32.GetSystemTime(dateTime);

```

[Markdown æ ¼å¼](javascript:if(confirm('https://www.aardio.com/zh-cn/doc/library-guide/builtin/time/time.md  \n\nï¿½ï¿½ï¿½Ä¼ï¿½ï¿½Ş·ï¿½ï¿½ï¿½ Teleport Ultra ï¿½ï¿½ï¿½ï¿½, ï¿½ï¿½Îª ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ä¿ï¿½Ä¼ï¿½ï¿½ï¿½ï¿½Í¹æ·¶ï¿½Ú¡ï¿½  \n\nï¿½ï¿½ï¿½ï¿½ï¿½Ú·ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ï´ï¿½ï¿½ï¿½ï¿½ï¿½?'))window.location='https://www.aardio.com/zh-cn/doc/library-guide/builtin/time/time.md')

